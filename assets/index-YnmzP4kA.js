(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Gv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fd={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function zA(){if(i_)return cl;i_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=e,cl.jsx=n,cl.jsxs=n,cl}var r_;function BA(){return r_||(r_=1,fd.exports=zA()),fd.exports}var O=BA(),dd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function qA(){if(s_)return Se;s_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function D(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ie={};function W(M,X,ne){this.props=M,this.context=X,this.refs=ie,this.updater=ne||F}W.prototype.isReactComponent={},W.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _e(){}_e.prototype=W.prototype;function pe(M,X,ne){this.props=M,this.context=X,this.refs=ie,this.updater=ne||F}var oe=pe.prototype=new _e;oe.constructor=pe,$(oe,W.prototype),oe.isPureReactComponent=!0;var we=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function I(M,X,ne,J,ce,Ie){return ne=Ie.ref,{$$typeof:r,type:M,key:X,ref:ne!==void 0?ne:null,props:Ie}}function b(M,X){return I(M.type,X,void 0,void 0,void 0,M.props)}function S(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function x(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return X[ne]})}var N=/\/+/g;function V(M,X){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):X.toString(36)}function w(){}function je(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(w,w):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ze(M,X,ne,J,ce){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var ve=!1;if(M===null)ve=!0;else switch(Ie){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(M.$$typeof){case r:case e:ve=!0;break;case T:return ve=M._init,ze(ve(M._payload),X,ne,J,ce)}}if(ve)return ce=ce(M),ve=J===""?"."+V(M,0):J,we(ce)?(ne="",ve!=null&&(ne=ve.replace(N,"$&/")+"/"),ze(ce,X,ne,"",function(Bn){return Bn})):ce!=null&&(S(ce)&&(ce=b(ce,ne+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(N,"$&/")+"/")+ve)),X.push(ce)),1;ve=0;var Nt=J===""?".":J+":";if(we(M))for(var We=0;We<M.length;We++)J=M[We],Ie=Nt+V(J,We),ve+=ze(J,X,ne,Ie,ce);else if(We=D(M),typeof We=="function")for(M=We.call(M),We=0;!(J=M.next()).done;)J=J.value,Ie=Nt+V(J,We++),ve+=ze(J,X,ne,Ie,ce);else if(Ie==="object"){if(typeof M.then=="function")return ze(je(M),X,ne,J,ce);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ve}function H(M,X,ne){if(M==null)return M;var J=[],ce=0;return ze(M,J,"","",function(Ie){return X.call(ne,Ie,ce++)}),J}function te(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function qe(){}return Se.Children={map:H,forEach:function(M,X,ne){H(M,function(){X.apply(this,arguments)},ne)},count:function(M){var X=0;return H(M,function(){X++}),X},toArray:function(M){return H(M,function(X){return X})||[]},only:function(M){if(!S(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Se.Component=W,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=pe,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return me.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cloneElement=function(M,X,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=$({},M.props),ce=M.key,Ie=void 0;if(X!=null)for(ve in X.ref!==void 0&&(Ie=void 0),X.key!==void 0&&(ce=""+X.key),X)!Ae.call(X,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&X.ref===void 0||(J[ve]=X[ve]);var ve=arguments.length-2;if(ve===1)J.children=ne;else if(1<ve){for(var Nt=Array(ve),We=0;We<ve;We++)Nt[We]=arguments[We+2];J.children=Nt}return I(M.type,ce,void 0,void 0,Ie,J)},Se.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Se.createElement=function(M,X,ne){var J,ce={},Ie=null;if(X!=null)for(J in X.key!==void 0&&(Ie=""+X.key),X)Ae.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=X[J]);var ve=arguments.length-2;if(ve===1)ce.children=ne;else if(1<ve){for(var Nt=Array(ve),We=0;We<ve;We++)Nt[We]=arguments[We+2];ce.children=Nt}if(M&&M.defaultProps)for(J in ve=M.defaultProps,ve)ce[J]===void 0&&(ce[J]=ve[J]);return I(M,Ie,void 0,void 0,null,ce)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:g,render:M}},Se.isValidElement=S,Se.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:te}},Se.memo=function(M,X){return{$$typeof:_,type:M,compare:X===void 0?null:X}},Se.startTransition=function(M){var X=me.T,ne={};me.T=ne;try{var J=M(),ce=me.S;ce!==null&&ce(ne,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(qe,le)}catch(Ie){le(Ie)}finally{me.T=X}},Se.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},Se.use=function(M){return me.H.use(M)},Se.useActionState=function(M,X,ne){return me.H.useActionState(M,X,ne)},Se.useCallback=function(M,X){return me.H.useCallback(M,X)},Se.useContext=function(M){return me.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,X){return me.H.useDeferredValue(M,X)},Se.useEffect=function(M,X,ne){var J=me.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(M,X)},Se.useId=function(){return me.H.useId()},Se.useImperativeHandle=function(M,X,ne){return me.H.useImperativeHandle(M,X,ne)},Se.useInsertionEffect=function(M,X){return me.H.useInsertionEffect(M,X)},Se.useLayoutEffect=function(M,X){return me.H.useLayoutEffect(M,X)},Se.useMemo=function(M,X){return me.H.useMemo(M,X)},Se.useOptimistic=function(M,X){return me.H.useOptimistic(M,X)},Se.useReducer=function(M,X,ne){return me.H.useReducer(M,X,ne)},Se.useRef=function(M){return me.H.useRef(M)},Se.useState=function(M){return me.H.useState(M)},Se.useSyncExternalStore=function(M,X,ne){return me.H.useSyncExternalStore(M,X,ne)},Se.useTransition=function(){return me.H.useTransition()},Se.version="19.1.0",Se}var a_;function sm(){return a_||(a_=1,dd.exports=qA()),dd.exports}var be=sm();const HA=Gv(be);var md={exports:{}},hl={},gd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function FA(){return o_||(o_=1,function(r){function e(H,te){var le=H.length;H.push(te);e:for(;0<le;){var qe=le-1>>>1,M=H[qe];if(0<l(M,te))H[qe]=te,H[le]=M,le=qe;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var te=H[0],le=H.pop();if(le!==te){H[0]=le;e:for(var qe=0,M=H.length,X=M>>>1;qe<X;){var ne=2*(qe+1)-1,J=H[ne],ce=ne+1,Ie=H[ce];if(0>l(J,le))ce<M&&0>l(Ie,J)?(H[qe]=Ie,H[ce]=le,qe=ce):(H[qe]=J,H[ne]=le,qe=ne);else if(ce<M&&0>l(Ie,le))H[qe]=Ie,H[ce]=le,qe=ce;else break e}}return te}function l(H,te){var le=H.sortIndex-te.sortIndex;return le!==0?le:H.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,R=null,D=3,F=!1,$=!1,ie=!1,W=!1,_e=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function we(H){for(var te=n(_);te!==null;){if(te.callback===null)s(_);else if(te.startTime<=H)s(_),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(_)}}function me(H){if(ie=!1,we(H),!$)if(n(p)!==null)$=!0,Ae||(Ae=!0,V());else{var te=n(_);te!==null&&ze(me,te.startTime-H)}}var Ae=!1,I=-1,b=5,S=-1;function x(){return W?!0:!(r.unstable_now()-S<b)}function N(){if(W=!1,Ae){var H=r.unstable_now();S=H;var te=!0;try{e:{$=!1,ie&&(ie=!1,pe(I),I=-1),F=!0;var le=D;try{t:{for(we(H),R=n(p);R!==null&&!(R.expirationTime>H&&x());){var qe=R.callback;if(typeof qe=="function"){R.callback=null,D=R.priorityLevel;var M=qe(R.expirationTime<=H);if(H=r.unstable_now(),typeof M=="function"){R.callback=M,we(H),te=!0;break t}R===n(p)&&s(p),we(H)}else s(p);R=n(p)}if(R!==null)te=!0;else{var X=n(_);X!==null&&ze(me,X.startTime-H),te=!1}}break e}finally{R=null,D=le,F=!1}te=void 0}}finally{te?V():Ae=!1}}}var V;if(typeof oe=="function")V=function(){oe(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,je=w.port2;w.port1.onmessage=N,V=function(){je.postMessage(null)}}else V=function(){_e(N,0)};function ze(H,te){I=_e(function(){H(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var te=3;break;default:te=D}var le=D;D=te;try{return H()}finally{D=le}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=D;D=H;try{return te()}finally{D=le}},r.unstable_scheduleCallback=function(H,te,le){var qe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?qe+le:qe):le=qe,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,H={id:T++,callback:te,priorityLevel:H,startTime:le,expirationTime:M,sortIndex:-1},le>qe?(H.sortIndex=le,e(_,H),n(p)===null&&H===n(_)&&(ie?(pe(I),I=-1):ie=!0,ze(me,le-qe))):(H.sortIndex=M,e(p,H),$||F||($=!0,Ae||(Ae=!0,V()))),H},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(H){var te=D;return function(){var le=D;D=te;try{return H.apply(this,arguments)}finally{D=le}}}}(pd)),pd}var l_;function GA(){return l_||(l_=1,gd.exports=FA()),gd.exports}var yd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function QA(){if(u_)return Gt;u_=1;var r=sm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,T)},Gt.flushSync=function(p){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=T,s.d.f()}},Gt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:D,fetchPriority:F}):T==="script"&&s.d.X(p,{crossOrigin:R,integrity:D,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Gt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Gt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Gt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,_){return p(_)},Gt.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var c_;function KA(){if(c_)return yd.exports;c_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),yd.exports=QA(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function YA(){if(h_)return hl;h_=1;var r=GA(),e=sm(),n=KA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),pe=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case W:return"Profiler";case ie:return"StrictMode";case me:return"Suspense";case Ae:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case pe:return(t._context.displayName||"Context")+".Consumer";case we:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:je(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return je(t(i))}catch{}}return null}var ze=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},qe=[],M=-1;function X(t){return{current:t}}function ne(t){0>M||(t.current=qe[M],qe[M]=null,M--)}function J(t,i){M++,qe[M]=t.current,t.current=i}var ce=X(null),Ie=X(null),ve=X(null),Nt=X(null);function We(t,i){switch(J(ve,i),J(Ie,t),J(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?xy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=xy(i),t=Oy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(ce),J(ce,t)}function Bn(){ne(ce),ne(Ie),ne(ve)}function Fi(t){t.memoizedState!==null&&J(Nt,t);var i=ce.current,a=Oy(i,t.type);i!==a&&(J(Ie,t),J(ce,a))}function hi(t){Ie.current===t&&(ne(ce),ne(Ie)),Nt.current===t&&(ne(Nt),sl._currentValue=le)}var Lr=Object.prototype.hasOwnProperty,jr=r.unstable_scheduleCallback,zr=r.unstable_cancelCallback,to=r.unstable_shouldYield,Hl=r.unstable_requestPaint,pn=r.unstable_now,hh=r.unstable_getCurrentPriorityLevel,no=r.unstable_ImmediatePriority,Us=r.unstable_UserBlockingPriority,Br=r.unstable_NormalPriority,fh=r.unstable_LowPriority,Ls=r.unstable_IdlePriority,io=r.log,Fl=r.unstable_setDisableYieldValue,ot=null,Ge=null;function on(t){if(typeof io=="function"&&Fl(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ot,t)}catch{}}var Ht=Math.clz32?Math.clz32:qr,Gl=Math.log,dh=Math.LN2;function qr(t){return t>>>=0,t===0?32:31-(Gl(t)/dh|0)|0}var Hr=256,Fr=4194304;function On(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function js(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=On(o):(v&=E,v!==0?h=On(v):a||(a=E&~t,a!==0&&(h=On(a))))):(E=o&~f,E!==0?h=On(E):v!==0?h=On(v):a||(a=o&~t,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Gr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ro(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var t=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),t}function ao(){var t=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function di(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oo(t,i,a,o,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Ht(a),K=1<<G;E[G]=0,C[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&qn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function qn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Ht(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Ht(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qi(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function Ql(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var nt=Math.random().toString(36).slice(2),At="__reactFiber$"+nt,gt="__reactProps$"+nt,yn="__reactContainer$"+nt,uo="__reactEvents$"+nt,mh="__reactListeners$"+nt,Ki="__reactHandles$"+nt,Kl="__reactResources$"+nt,Qr="__reactMarker$"+nt;function Yi(t){delete t[At],delete t[gt],delete t[uo],delete t[mh],delete t[Ki]}function mi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yn]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Py(t);t!==null;){if(a=t[At])return a;t=Py(t)}return i}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[At]||t[yn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Fn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Zt(t){var i=t[Kl];return i||(i=t[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[Qr]=!0}var co=new Set,Bs={};function Vn(t,i){gi(t,i),gi(t+"Capture",i)}function gi(t,i){for(Bs[t]=i,t=0;t<i.length;t++)co.add(i[t])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Kr={};function $l(t){return Lr.call(Kr,t)?!0:Lr.call(Xl,t)?!1:Yl.test(t)?Kr[t]=!0:(Xl[t]=!0,!1)}function Xi(t,i,a){if($l(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}var Yr,Zl;function pi(t){if(Yr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Yr=i&&i[1]||"",Zl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+t+Zl}var qs=!1;function Hs(t,i){if(!t||qs)return"";qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(t,[],K)}else{try{K.call()}catch(B){z=B}t.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var C=v.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{qs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?pi(a):""}function ho(t){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Hs(t.type,!1);case 11:return Hs(t.type.render,!1);case 1:return Hs(t.type,!0);case 31:return pi("Activity");default:return""}}function Fs(t){try{var i="";do i+=ho(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gh(t){var i=fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Gs(t){t._valueTracker||(t._valueTracker=gh(t))}function mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=fo(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Xr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ph=/[\n"\\]/g;function pt(t){return t.replace(ph,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(t,i,a,o,h,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$i(t,v,Jt(i)):a!=null?$i(t,v,Jt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function $r(t,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function $i(t,i,a){i==="number"&&Xr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function yi(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function Zr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ze(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Jr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Jl(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Jl(t,f,i[f])}function po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(t){return _h.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _i=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,Ei=null;function yo(t){var i=Hn(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[gt]||null;if(!h)throw Error(s(90));ln(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&mo(o)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&yi(t,!!a.multiple,i,!1)}}}var Qn=!1;function Wl(t,i,a){if(Qn)return t(i,a);Qn=!0;try{var o=t(i);return o}finally{if(Qn=!1,(vi!==null||Ei!==null)&&(Qu(),vi&&(i=vi,t=Ei,Ei=vi=null,yo(i),t)))for(i=0;i<t.length;i++)yo(t[i])}}function Wr(t,i){var a=t.stateNode;if(a===null)return null;var o=a[gt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var es={};Object.defineProperty(es,"passive",{get:function(){En=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{En=!1}var Kn=null,Zi=null,Ti=null;function _o(){if(Ti)return Ti;var t,i=Zi,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ti=h.slice(t,1<o?1-o:void 0)}function Yn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function vo(){return!1}function Dt(t){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:vo,this.isPropagationStopped=vo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Dt(Fe),ts=T({},Fe,{view:0,detail:0}),eu=Dt(ts),Ys,Xs,$n,ns=T({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(Ys=t.screenX-$n.screenX,Xs=t.screenY-$n.screenY):Xs=Ys=0,$n=t),Ys)},movementY:function(t){return"movementY"in t?t.movementY:Xs}}),Tn=Dt(ns),tu=T({},ns,{dataTransfer:0}),vh=Dt(tu),is=T({},ts,{relatedTarget:0}),$s=Dt(is),Eo=T({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Dt(Eo),nu=T({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Js=Dt(nu),Eh=T({},Fe,{data:0}),To=Dt(Eh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ru[t])?!!i[t]:!1}function ss(){return Ao}var su=T({},ts,{key:function(t){if(t.key){var i=rs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ws=Dt(su),au=T({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=Dt(au),Ai=T({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),ou=Dt(Ai),lu=T({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),uu=Dt(lu),cu=T({},ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=Dt(cu),Wt=T({},Fe,{newState:0,oldState:0}),hu=Dt(Wt),fu=[9,13,27,32],Zn=Mn&&"CompositionEvent"in window,u=null;Mn&&"documentMode"in document&&(u=document.documentMode);var m=Mn&&"TextEvent"in window&&!u,y=Mn&&(!Zn||u&&8<u&&11>=u),A=" ",U=!1;function q(t,i){switch(t){case"keyup":return fu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ee(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function bt(t,i){switch(t){case"compositionend":return ee(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Me(t,i){if(Ve)return t==="compositionend"||!Zn&&q(t,i)?(t=_o(),Ti=Zi=Kn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xt[t.type]:i==="textarea"}function bi(t,i,a,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,i=Ju(i,"onChange"),0<i.length&&(a=new Ks("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Ut=null,Jn=null;function So(t){Ry(t,0)}function du(t){var i=Fn(t);if(mo(i))return t}function Km(t,i){if(t==="change")return i}var Ym=!1;if(Mn){var Th;if(Mn){var Ah="oninput"in document;if(!Ah){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Ah=typeof Xm.oninput=="function"}Th=Ah}else Th=!1;Ym=Th&&(!document.documentMode||9<document.documentMode)}function $m(){Ut&&(Ut.detachEvent("onpropertychange",Zm),Jn=Ut=null)}function Zm(t){if(t.propertyName==="value"&&du(Jn)){var i=[];bi(i,Jn,t,vn(t)),Wl(So,i)}}function pT(t,i,a){t==="focusin"?($m(),Ut=i,Jn=a,Ut.attachEvent("onpropertychange",Zm)):t==="focusout"&&$m()}function yT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(Jn)}function _T(t,i){if(t==="click")return du(i)}function vT(t,i){if(t==="input"||t==="change")return du(i)}function ET(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var un=typeof Object.is=="function"?Object.is:ET;function wo(t,i){if(un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Lr.call(i,h)||!un(t[h],i[h]))return!1}return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wm(t,i){var a=Jm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jm(a)}}function eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Xr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Xr(t.document)}return i}function bh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var TT=Mn&&"documentMode"in document&&11>=document.documentMode,ta=null,Sh=null,Ro=null,wh=!1;function ng(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wh||ta==null||ta!==Xr(o)||(o=ta,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&wo(Ro,o)||(Ro=o,o=Ju(Sh,"onSelect"),0<o.length&&(i=new Ks("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ta)))}function as(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var na={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Rh={},ig={};Mn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function os(t){if(Rh[t])return Rh[t];if(!na[t])return t;var i=na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ig)return Rh[t]=i[a];return t}var rg=os("animationend"),sg=os("animationiteration"),ag=os("animationstart"),AT=os("transitionrun"),bT=os("transitionstart"),ST=os("transitioncancel"),og=os("transitionend"),lg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function kn(t,i){lg.set(t,i),Vn(i,[t])}var ug=new WeakMap;function An(t,i){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fs(i)},ug.set(t,i),i)}return{value:t,source:i,stack:Fs(i)}}var bn=[],ia=0,Ch=0;function mu(){for(var t=ia,i=Ch=ia=0;i<t;){var a=bn[i];bn[i++]=null;var o=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var f=bn[i];if(bn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&cg(a,h,f)}}function gu(t,i,a,o){bn[ia++]=t,bn[ia++]=i,bn[ia++]=a,bn[ia++]=o,Ch|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Nh(t,i,a,o){return gu(t,i,a,o),pu(t)}function ra(t,i){return gu(t,null,null,i),pu(t)}function cg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Ht(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function pu(t){if(50<Zo)throw Zo=0,Pf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var sa={};function wT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,i,a,o){return new wT(t,i,a,o)}function Dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,i){var a=t.alternate;return a===null?(a=cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function yu(t,i,a,o,h,f){var v=0;if(o=t,typeof t=="function")Dh(t)&&(v=1);else if(typeof t=="string")v=IA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=cn(31,a,i,h),t.elementType=S,t.lanes=f,t;case $:return ls(a.children,h,f,i);case ie:v=8,h|=24;break;case W:return t=cn(12,a,i,h|2),t.elementType=W,t.lanes=f,t;case me:return t=cn(13,a,i,h),t.elementType=me,t.lanes=f,t;case Ae:return t=cn(19,a,i,h),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:case oe:v=10;break e;case pe:v=9;break e;case we:v=11;break e;case I:v=14;break e;case b:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=cn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function ls(t,i,a,o){return t=cn(7,t,o,i),t.lanes=a,t}function xh(t,i,a){return t=cn(6,t,null,i),t.lanes=a,t}function Oh(t,i,a){return i=cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var aa=[],oa=0,_u=null,vu=0,Sn=[],wn=0,us=null,wi=1,Ri="";function cs(t,i){aa[oa++]=vu,aa[oa++]=_u,_u=t,vu=i}function fg(t,i,a){Sn[wn++]=wi,Sn[wn++]=Ri,Sn[wn++]=us,us=t;var o=wi;t=Ri;var h=32-Ht(o)-1;o&=~(1<<h),a+=1;var f=32-Ht(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,wi=1<<32-Ht(i)+h|a<<h|o,Ri=f+t}else wi=1<<f|a<<h|o,Ri=t}function Vh(t){t.return!==null&&(cs(t,1),fg(t,1,0))}function Mh(t){for(;t===_u;)_u=aa[--oa],aa[oa]=null,vu=aa[--oa],aa[oa]=null;for(;t===us;)us=Sn[--wn],Sn[wn]=null,Ri=Sn[--wn],Sn[wn]=null,wi=Sn[--wn],Sn[wn]=null}var en=null,lt=null,He=!1,hs=null,Wn=!1,kh=Error(s(519));function fs(t){var i=Error(s(418,""));throw No(An(i,t)),kh}function dg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[At]=t,i[gt]=o,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)xe(Wo[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),$r(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Gs(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Zr(i,o.value,o.defaultValue,o.children),Gs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Dy(i.textContent,a)?(o.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),o.onScroll!=null&&xe("scroll",i),o.onScrollEnd!=null&&xe("scrollend",i),o.onClick!=null&&(i.onclick=Wu),i=!0):i=!1,i||fs(t)}function mg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:en=en.return}}function Io(t){if(t!==en)return!1;if(!He)return mg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jf(t.type,t.memoizedProps)),a=!a),a&&lt&&fs(t),mg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,dr(t.type)?(t=nd,nd=null,lt=t):lt=i):lt=en?Un(t.stateNode.nextSibling):null;return!0}function Co(){lt=en=null,He=!1}function gg(){var t=hs;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),hs=null),t}function No(t){hs===null?hs=[t]:hs.push(t)}var Ph=X(null),ds=null,Ii=null;function Ji(t,i,a){J(Ph,i._currentValue),i._currentValue=a}function Ci(t){t._currentValue=Ph.current,ne(Ph)}function Uh(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Lh(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Uh(f.return,a,t),o||(v=null);break e}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Uh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Do(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(sl):t=[sl])}h=h.return}t!==null&&Lh(i,t,a,o),i.flags|=262144}function Eu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ms(t){ds=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return pg(ds,t)}function Tu(t,i){return ds===null&&ms(t),pg(t,i)}function pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ii===null){if(t===null)throw Error(s(308));Ii=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ii=Ii.next=i;return a}var RT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},IT=r.unstable_scheduleCallback,CT=r.unstable_NormalPriority,wt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new RT,data:new Map,refCount:0}}function xo(t){t.refCount--,t.refCount===0&&IT(CT,function(){t.controller.abort()})}var Oo=null,zh=0,la=0,ua=null;function NT(t,i){if(Oo===null){var a=Oo=[];zh=0,la=Hf(),ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return zh++,i.then(yg,yg),i}function yg(){if(--zh===0&&Oo!==null){ua!==null&&(ua.status="fulfilled");var t=Oo;Oo=null,la=0,ua=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var _g=H.S;H.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&NT(t,i),_g!==null&&_g(t,i)};var gs=X(null);function Bh(){var t=gs.current;return t!==null?t:et.pooledCache}function Au(t,i){i===null?J(gs,gs.current):J(gs,i.pool)}function vg(){var t=Bh();return t===null?null:{parent:wt._currentValue,pool:t}}var Vo=Error(s(460)),Eg=Error(s(474)),bu=Error(s(542)),qh={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Su(){}function Ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Su,Su),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Sg(t),t;default:if(typeof i.status=="string")i.then(Su,Su);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Sg(t),t}throw Mo=i,Vo}}var Mo=null;function bg(){if(Mo===null)throw Error(s(459));var t=Mo;return Mo=null,t}function Sg(t){if(t===Vo||t===bu)throw Error(s(483))}var Wi=!1;function Hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=pu(t),cg(t,null,a),i}return gu(t,o,i,a),pu(t)}function ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,lo(t,a)}}function Gh(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qh=!1;function Po(){if(Qh){var t=ua;if(t!==null)throw t}}function Uo(t,i,a,o){Qh=!1;var h=t.updateQueue;Wi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,v===null?f=j:v.next=j,v=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;v=0,G=j=C=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(ke&z)===z:(o&z)===z){z!==0&&z===la&&(Qh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ye=t,fe=E;z=i;var Ze=a;switch(fe.tag){case 1:if(ye=fe.payload,typeof ye=="function"){K=ye.call(Ze,K,z);break e}K=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=fe.payload,z=typeof ye=="function"?ye.call(Ze,K,z):ye,z==null)break e;K=T({},K,z);break e;case 2:Wi=!0}}z=E.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=B,C=K):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ur|=v,t.lanes=v,t.memoizedState=K}}function wg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],i)}var ca=X(null),wu=X(0);function Ig(t,i){t=ki,J(wu,t),J(ca,i),ki=t|i.baseLanes}function Kh(){J(wu,ki),J(ca,ca.current)}function Yh(){ki=wu.current,ne(ca),ne(wu)}var nr=0,Re=null,Xe=null,yt=null,Ru=!1,ha=!1,ps=!1,Iu=0,Lo=0,fa=null,xT=0;function ht(){throw Error(s(321))}function Xh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!un(t[a],i[a]))return!1;return!0}function $h(t,i,a,o,h,f){return nr=f,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?cp:hp,ps=!1,f=a(o,h),ps=!1,ha&&(f=Ng(i,a,o,h)),Cg(t),f}function Cg(t){H.H=Vu;var i=Xe!==null&&Xe.next!==null;if(nr=0,yt=Xe=Re=null,Ru=!1,Lo=0,fa=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Eu(t)&&(Ot=!0))}function Ng(t,i,a,o){Re=t;var h=0;do{if(ha&&(fa=null),Lo=0,ha=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=LT,f=i(a,o)}while(ha);return f}function OT(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?jo(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function Zh(){var t=Iu!==0;return Iu=0,t}function Jh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wh(t){if(Ru){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ru=!1}nr=0,yt=Xe=Re=null,ha=!1,Lo=Iu=0,fa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Re.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?Re.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Re.memoizedState=yt=t:yt=yt.next=t}return yt}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(t){var i=Lo;return Lo+=1,fa===null&&(fa=[]),t=Ag(fa,t,i),i=Re,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?cp:hp),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jo(t);if(t.$$typeof===oe)return Ft(t)}throw Error(s(438,String(t)))}function tf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ef(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=x;return i.index++,a}function Ni(t,i){return typeof i=="function"?i(t):i}function Nu(t){var i=_t();return nf(i,Xe,t)}function nf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=v=null,C=null,j=i,G=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(ke&K)===K:(nr&K)===K){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===la&&(G=!0);else if((nr&z)===z){j=j.next,z===la&&(G=!0);continue}else K={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=K,v=f):C=C.next=K,Re.lanes|=z,ur|=z;K=j.action,ps&&a(f,K),f=j.hasEagerState?j.eagerState:a(f,K)}else z={lane:K,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=z,v=f):C=C.next=z,Re.lanes|=K,ur|=K;j=j.next}while(j!==null&&j!==i);if(C===null?v=f:C.next=E,!un(f,t.memoizedState)&&(Ot=!0,G&&(a=ua,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function rf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);un(f,i.memoizedState)||(Ot=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Dg(t,i,a){var o=Re,h=_t(),f=He;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Ot=!0),h=h.queue;var E=Vg.bind(null,o,h,t);if(zo(2048,8,E,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,da(9,Du(),Og.bind(null,o,h,a,i),null),et===null)throw Error(s(349));f||(nr&124)!==0||xg(o,i,a)}return a}function xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=ef(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Og(t,i,a,o){i.value=a,i.getSnapshot=o,Mg(i)&&kg(t)}function Vg(t,i,a){return a(function(){Mg(i)&&kg(t)})}function Mg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!un(t,a)}catch{return!0}}function kg(t){var i=ra(t,2);i!==null&&gn(i,t,2)}function sf(t){var i=tn();if(typeof t=="function"){var a=t;if(t=a(),ps){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},i}function Pg(t,i,a,o){return t.baseState=a,nf(t,Xe,typeof o=="function"?o:Ni)}function VT(t,i,a,o,h){if(Ou(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Ug(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ug(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),C=H.S;C!==null&&C(v,E),Lg(t,i,E)}catch(j){af(t,i,j)}finally{H.T=f}}else try{f=a(h,o),Lg(t,i,f)}catch(j){af(t,i,j)}}function Lg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){jg(t,i,o)},function(o){return af(t,i,o)}):jg(t,i,a)}function jg(t,i,a){i.status="fulfilled",i.value=a,zg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function af(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==o)}t.action=null}function zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Bg(t,i){return i}function qg(t,i){if(He){var a=et.formState;if(a!==null){e:{var o=Re;if(He){if(lt){t:{for(var h=lt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){lt=Un(h.nextSibling),o=h.data==="F!";break e}}fs(o)}o=!1}o&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=o,a=op.bind(null,Re,o),o.dispatch=a,o=sf(!1),f=hf.bind(null,Re,!1,o.queue),o=tn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=VT.bind(null,Re,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Hg(t){var i=_t();return Fg(i,Xe,t)}function Fg(t,i,a){if(i=nf(t,i,Bg)[0],t=Nu(Ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=jo(i)}catch(v){throw v===Vo?bu:v}else o=i;i=_t();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,da(9,Du(),MT.bind(null,h,a),null)),[o,f,t]}function MT(t,i){t.action=i}function Gg(t){var i=_t(),a=Xe;if(a!==null)return Fg(i,a,t);_t(),i=i.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function da(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Re.updateQueue,i===null&&(i=ef(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Du(){return{destroy:void 0,resource:void 0}}function Qg(){return _t().memoizedState}function xu(t,i,a,o){var h=tn();o=o===void 0?null:o,Re.flags|=t,h.memoizedState=da(1|i,Du(),a,o)}function zo(t,i,a,o){var h=_t();o=o===void 0?null:o;var f=h.memoizedState.inst;Xe!==null&&o!==null&&Xh(o,Xe.memoizedState.deps)?h.memoizedState=da(i,f,a,o):(Re.flags|=t,h.memoizedState=da(1|i,f,a,o))}function Kg(t,i){xu(8390656,8,t,i)}function Yg(t,i){zo(2048,8,t,i)}function Xg(t,i){return zo(4,2,t,i)}function $g(t,i){return zo(4,4,t,i)}function Zg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jg(t,i,a){a=a!=null?a.concat([t]):null,zo(4,4,Zg.bind(null,i,t),a)}function of(){}function Wg(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Xh(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function ep(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Xh(i,o[1]))return o[0];if(o=t(),ps){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[o,i],o}function lf(t,i,a){return a===void 0||(nr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=iy(),Re.lanes|=t,ur|=t,a)}function tp(t,i,a,o){return un(a,i)?a:ca.current!==null?(t=lf(t,a,o),un(t,i)||(Ot=!0),t):(nr&42)===0?(Ot=!0,t.memoizedState=a):(t=iy(),Re.lanes|=t,ur|=t,i)}function np(t,i,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,hf(t,!1,i,a);try{var C=h(),j=H.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=DT(C,o);Bo(t,i,G,mn(t))}else Bo(t,i,o,mn(t))}catch(K){Bo(t,i,{then:function(){},status:"rejected",reason:K},mn())}finally{te.p=f,H.T=v}}function kT(){}function uf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=ip(t).queue;np(t,h,i,le,a===null?kT:function(){return rp(t),a(o)})}function ip(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function rp(t){var i=ip(t).next.queue;Bo(t,i,{},mn())}function cf(){return Ft(sl)}function sp(){return _t().memoizedState}function ap(){return _t().memoizedState}function PT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();t=er(a);var o=tr(i,t,a);o!==null&&(gn(o,i,a),ko(o,i,a)),i={cache:jh()},t.payload=i;return}i=i.return}}function UT(t,i,a){var o=mn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(t)?lp(i,a):(a=Nh(t,i,a,o),a!==null&&(gn(a,t,o),up(a,i,o)))}function op(t,i,a){var o=mn();Bo(t,i,a,o)}function Bo(t,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))lp(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return gu(t,i,h,0),et===null&&mu(),!1}catch{}finally{}if(a=Nh(t,i,h,o),a!==null)return gn(a,t,o),up(a,i,o),!0}return!1}function hf(t,i,a,o){if(o={lane:2,revertLane:Hf(),action:o,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(i)throw Error(s(479))}else i=Nh(t,a,o,2),i!==null&&gn(i,t,2)}function Ou(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function lp(t,i){ha=Ru=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function up(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,lo(t,a)}}var Vu={readContext:Ft,use:Cu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},cp={readContext:Ft,use:Cu,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Kg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,xu(4194308,4,Zg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return xu(4194308,4,t,i)},useInsertionEffect:function(t,i){xu(4,2,t,i)},useMemo:function(t,i){var a=tn();i=i===void 0?null:i;var o=t();if(ps){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=tn();if(a!==void 0){var h=a(i);if(ps){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=UT.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=sf(t);var i=t.queue,a=op.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:of,useDeferredValue:function(t,i){var a=tn();return lf(a,t,i)},useTransition:function(){var t=sf(!1);return t=np.bind(null,Re,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Re,h=tn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(ke&124)!==0||xg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Kg(Vg.bind(null,o,f,t),[t]),o.flags|=2048,da(9,Du(),Og.bind(null,o,f,a,i),null),a},useId:function(){var t=tn(),i=et.identifierPrefix;if(He){var a=Ri,o=wi;a=(o&~(1<<32-Ht(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Iu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=xT++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:cf,useFormState:qg,useActionState:qg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:tf,useCacheRefresh:function(){return tn().memoizedState=PT.bind(null,Re)}},hp={readContext:Ft,use:Cu,useCallback:Wg,useContext:Ft,useEffect:Yg,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ep,useReducer:Nu,useRef:Qg,useState:function(){return Nu(Ni)},useDebugValue:of,useDeferredValue:function(t,i){var a=_t();return tp(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Nu(Ni)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:jo(t),i]},useSyncExternalStore:Dg,useId:sp,useHostTransitionStatus:cf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var a=_t();return Pg(a,Xe,t,i)},useMemoCache:tf,useCacheRefresh:ap},LT={readContext:Ft,use:Cu,useCallback:Wg,useContext:Ft,useEffect:Yg,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ep,useReducer:rf,useRef:Qg,useState:function(){return rf(Ni)},useDebugValue:of,useDeferredValue:function(t,i){var a=_t();return Xe===null?lf(a,t,i):tp(a,Xe.memoizedState,t,i)},useTransition:function(){var t=rf(Ni)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:jo(t),i]},useSyncExternalStore:Dg,useId:sp,useHostTransitionStatus:cf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=_t();return Xe!==null?Pg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:tf,useCacheRefresh:ap},ma=null,qo=0;function Mu(t){var i=qo;return qo+=1,ma===null&&(ma=[]),Ag(ma,t,i)}function Ho(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ku(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function fp(t){var i=t._init;return i(t._payload)}function dp(t){function i(P,k){if(t){var L=P.deletions;L===null?(P.deletions=[k],P.flags|=16):L.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)i(P,k),k=k.sibling;return null}function o(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=Si(P,k),P.index=0,P.sibling=null,P}function f(P,k,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<k?(P.flags|=67108866,k):L):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,k,L,Q){return k===null||k.tag!==6?(k=xh(L,P.mode,Q),k.return=P,k):(k=h(k,L),k.return=P,k)}function C(P,k,L,Q){var ae=L.type;return ae===$?G(P,k,L.props.children,Q,L.key):k!==null&&(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===b&&fp(ae)===k.type)?(k=h(k,L.props),Ho(k,L),k.return=P,k):(k=yu(L.type,L.key,L.props,null,P.mode,Q),Ho(k,L),k.return=P,k)}function j(P,k,L,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?(k=Oh(L,P.mode,Q),k.return=P,k):(k=h(k,L.children||[]),k.return=P,k)}function G(P,k,L,Q,ae){return k===null||k.tag!==7?(k=ls(L,P.mode,Q,ae),k.return=P,k):(k=h(k,L),k.return=P,k)}function K(P,k,L){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=xh(""+k,P.mode,L),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return L=yu(k.type,k.key,k.props,null,P.mode,L),Ho(L,k),L.return=P,L;case F:return k=Oh(k,P.mode,L),k.return=P,k;case b:var Q=k._init;return k=Q(k._payload),K(P,k,L)}if(ze(k)||V(k))return k=ls(k,P.mode,L,null),k.return=P,k;if(typeof k.then=="function")return K(P,Mu(k),L);if(k.$$typeof===oe)return K(P,Tu(P,k),L);ku(P,k)}return null}function z(P,k,L,Q){var ae=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ae!==null?null:E(P,k,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===ae?C(P,k,L,Q):null;case F:return L.key===ae?j(P,k,L,Q):null;case b:return ae=L._init,L=ae(L._payload),z(P,k,L,Q)}if(ze(L)||V(L))return ae!==null?null:G(P,k,L,Q,null);if(typeof L.then=="function")return z(P,k,Mu(L),Q);if(L.$$typeof===oe)return z(P,k,Tu(P,L),Q);ku(P,L)}return null}function B(P,k,L,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(L)||null,E(k,P,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return P=P.get(Q.key===null?L:Q.key)||null,C(k,P,Q,ae);case F:return P=P.get(Q.key===null?L:Q.key)||null,j(k,P,Q,ae);case b:var Ce=Q._init;return Q=Ce(Q._payload),B(P,k,L,Q,ae)}if(ze(Q)||V(Q))return P=P.get(L)||null,G(k,P,Q,ae,null);if(typeof Q.then=="function")return B(P,k,L,Mu(Q),ae);if(Q.$$typeof===oe)return B(P,k,L,Tu(k,Q),ae);ku(k,Q)}return null}function ye(P,k,L,Q){for(var ae=null,Ce=null,ue=k,de=k=0,Mt=null;ue!==null&&de<L.length;de++){ue.index>de?(Mt=ue,ue=null):Mt=ue.sibling;var Be=z(P,ue,L[de],Q);if(Be===null){ue===null&&(ue=Mt);break}t&&ue&&Be.alternate===null&&i(P,ue),k=f(Be,k,de),Ce===null?ae=Be:Ce.sibling=Be,Ce=Be,ue=Mt}if(de===L.length)return a(P,ue),He&&cs(P,de),ae;if(ue===null){for(;de<L.length;de++)ue=K(P,L[de],Q),ue!==null&&(k=f(ue,k,de),Ce===null?ae=ue:Ce.sibling=ue,Ce=ue);return He&&cs(P,de),ae}for(ue=o(ue);de<L.length;de++)Mt=B(ue,P,de,L[de],Q),Mt!==null&&(t&&Mt.alternate!==null&&ue.delete(Mt.key===null?de:Mt.key),k=f(Mt,k,de),Ce===null?ae=Mt:Ce.sibling=Mt,Ce=Mt);return t&&ue.forEach(function(_r){return i(P,_r)}),He&&cs(P,de),ae}function fe(P,k,L,Q){if(L==null)throw Error(s(151));for(var ae=null,Ce=null,ue=k,de=k=0,Mt=null,Be=L.next();ue!==null&&!Be.done;de++,Be=L.next()){ue.index>de?(Mt=ue,ue=null):Mt=ue.sibling;var _r=z(P,ue,Be.value,Q);if(_r===null){ue===null&&(ue=Mt);break}t&&ue&&_r.alternate===null&&i(P,ue),k=f(_r,k,de),Ce===null?ae=_r:Ce.sibling=_r,Ce=_r,ue=Mt}if(Be.done)return a(P,ue),He&&cs(P,de),ae;if(ue===null){for(;!Be.done;de++,Be=L.next())Be=K(P,Be.value,Q),Be!==null&&(k=f(Be,k,de),Ce===null?ae=Be:Ce.sibling=Be,Ce=Be);return He&&cs(P,de),ae}for(ue=o(ue);!Be.done;de++,Be=L.next())Be=B(ue,P,de,Be.value,Q),Be!==null&&(t&&Be.alternate!==null&&ue.delete(Be.key===null?de:Be.key),k=f(Be,k,de),Ce===null?ae=Be:Ce.sibling=Be,Ce=Be);return t&&ue.forEach(function(jA){return i(P,jA)}),He&&cs(P,de),ae}function Ze(P,k,L,Q){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:e:{for(var ae=L.key;k!==null;){if(k.key===ae){if(ae=L.type,ae===$){if(k.tag===7){a(P,k.sibling),Q=h(k,L.props.children),Q.return=P,P=Q;break e}}else if(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===b&&fp(ae)===k.type){a(P,k.sibling),Q=h(k,L.props),Ho(Q,L),Q.return=P,P=Q;break e}a(P,k);break}else i(P,k);k=k.sibling}L.type===$?(Q=ls(L.props.children,P.mode,Q,L.key),Q.return=P,P=Q):(Q=yu(L.type,L.key,L.props,null,P.mode,Q),Ho(Q,L),Q.return=P,P=Q)}return v(P);case F:e:{for(ae=L.key;k!==null;){if(k.key===ae)if(k.tag===4&&k.stateNode.containerInfo===L.containerInfo&&k.stateNode.implementation===L.implementation){a(P,k.sibling),Q=h(k,L.children||[]),Q.return=P,P=Q;break e}else{a(P,k);break}else i(P,k);k=k.sibling}Q=Oh(L,P.mode,Q),Q.return=P,P=Q}return v(P);case b:return ae=L._init,L=ae(L._payload),Ze(P,k,L,Q)}if(ze(L))return ye(P,k,L,Q);if(V(L)){if(ae=V(L),typeof ae!="function")throw Error(s(150));return L=ae.call(L),fe(P,k,L,Q)}if(typeof L.then=="function")return Ze(P,k,Mu(L),Q);if(L.$$typeof===oe)return Ze(P,k,Tu(P,L),Q);ku(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,k!==null&&k.tag===6?(a(P,k.sibling),Q=h(k,L),Q.return=P,P=Q):(a(P,k),Q=xh(L,P.mode,Q),Q.return=P,P=Q),v(P)):a(P,k)}return function(P,k,L,Q){try{qo=0;var ae=Ze(P,k,L,Q);return ma=null,ae}catch(ue){if(ue===Vo||ue===bu)throw ue;var Ce=cn(29,ue,null,P.mode);return Ce.lanes=Q,Ce.return=P,Ce}finally{}}}var ga=dp(!0),mp=dp(!1),Rn=X(null),ei=null;function ir(t){var i=t.alternate;J(Rt,Rt.current&1),J(Rn,t),ei===null&&(i===null||ca.current!==null||i.memoizedState!==null)&&(ei=t)}function gp(t){if(t.tag===22){if(J(Rt,Rt.current),J(Rn,t),ei===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ei=t)}}else rr()}function rr(){J(Rt,Rt.current),J(Rn,Rn.current)}function Di(t){ne(Rn),ei===t&&(ei=null),ne(Rt)}var Rt=X(0);function Pu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||td(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ff(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var df={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=mn(),h=er(o);h.payload=i,a!=null&&(h.callback=a),i=tr(t,h,o),i!==null&&(gn(i,t,o),ko(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=mn(),h=er(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=tr(t,h,o),i!==null&&(gn(i,t,o),ko(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=mn(),o=er(a);o.tag=2,i!=null&&(o.callback=i),i=tr(t,o,a),i!==null&&(gn(i,t,a),ko(i,t,a))}};function pp(t,i,a,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!wo(a,o)||!wo(h,f):!0}function yp(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&df.enqueueReplaceState(i,i.state,null)}function ys(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _p(t){Uu(t)}function vp(t){console.error(t)}function Ep(t){Uu(t)}function Lu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Tp(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function mf(t,i,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(t,i)},a}function Ap(t){return t=er(t),t.tag=3,t}function bp(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Tp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Tp(i,a,o),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function jT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Do(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ei===null?Lf():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),zf(t,o,h)),!1;case 22:return a.flags|=65536,o===qh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),zf(t,o,h)),!1}throw Error(s(435,a.tag))}return zf(t,o,h),Lf(),!1}if(He)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==kh&&(t=Error(s(422),{cause:o}),No(An(t,a)))):(o!==kh&&(i=Error(s(423),{cause:o}),No(An(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=An(o,a),h=mf(t.stateNode,o,h),Gh(t,h),ut!==4&&(ut=2)),!1;var f=Error(s(520),{cause:o});if(f=An(f,a),$o===null?$o=[f]:$o.push(f),ut!==4&&(ut=2),i===null)return!0;o=An(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=mf(a.stateNode,o,t),Gh(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ap(h),bp(h,t,a,o),Gh(a,h),!1}a=a.return}while(a!==null);return!1}var Sp=Error(s(461)),Ot=!1;function Lt(t,i,a,o){i.child=t===null?mp(i,null,a,o):ga(i,t.child,a,o)}function wp(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ms(i),o=$h(t,i,a,v,f,h),E=Zh(),t!==null&&!Ot?(Jh(t,i,h),xi(t,i,h)):(He&&E&&Vh(i),i.flags|=1,Lt(t,i,o,h),i.child)}function Rp(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Dh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Ip(t,i,f,o,h)):(t=yu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Af(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wo,a(v,o)&&t.ref===i.ref)return xi(t,i,h)}return i.flags|=1,t=Si(f,o),t.ref=i.ref,t.return=i,i.child=t}function Ip(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(wo(f,o)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=o=f,Af(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,xi(t,i,h)}return gf(t,i,a,o,h)}function Cp(t,i,a){var o=i.pendingProps,h=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Np(t,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Au(i,f!==null?f.cachePool:null),f!==null?Ig(i,f):Kh(),gp(i);else return i.lanes=i.childLanes=536870912,Np(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Au(i,f.cachePool),Ig(i,f),rr(),i.memoizedState=null):(t!==null&&Au(i,null),Kh(),rr());return Lt(t,i,h,a),i.child}function Np(t,i,a,o){var h=Bh();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Au(i,null),Kh(),gp(i),t!==null&&Do(t,i,o,!0),null}function ju(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gf(t,i,a,o,h){return ms(i),a=$h(t,i,a,o,void 0,h),o=Zh(),t!==null&&!Ot?(Jh(t,i,h),xi(t,i,h)):(He&&o&&Vh(i),i.flags|=1,Lt(t,i,a,h),i.child)}function Dp(t,i,a,o,h,f){return ms(i),i.updateQueue=null,a=Ng(i,o,a,h),Cg(t),o=Zh(),t!==null&&!Ot?(Jh(t,i,f),xi(t,i,f)):(He&&o&&Vh(i),i.flags|=1,Lt(t,i,a,f),i.child)}function xp(t,i,a,o,h){if(ms(i),i.stateNode===null){var f=sa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ft(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Hh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ft(v):sa,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ff(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&df.enqueueReplaceState(f,f.state,null),Uo(i,o,f,h),Po(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,C=ys(a,E);f.props=C;var j=f.context,G=a.contextType;v=sa,typeof G=="object"&&G!==null&&(v=Ft(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==v)&&yp(i,f,o,v),Wi=!1;var z=i.memoizedState;f.state=z,Uo(i,o,f,h),Po(),j=i.memoizedState,E||z!==j||Wi?(typeof K=="function"&&(ff(i,a,K,o),j=i.memoizedState),(C=Wi||pp(i,a,C,o,z,j,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=v,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Fh(t,i),v=i.memoizedProps,G=ys(a,v),f.props=G,K=i.pendingProps,z=f.context,j=a.contextType,C=sa,typeof j=="object"&&j!==null&&(C=Ft(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||z!==C)&&yp(i,f,o,C),Wi=!1,z=i.memoizedState,f.state=z,Uo(i,o,f,h),Po();var B=i.memoizedState;v!==K||z!==B||Wi||t!==null&&t.dependencies!==null&&Eu(t.dependencies)?(typeof E=="function"&&(ff(i,a,E,o),B=i.memoizedState),(G=Wi||pp(i,a,G,o,z,B,C)||t!==null&&t.dependencies!==null&&Eu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,ju(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=ga(i,t.child,null,h),i.child=ga(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=xi(t,i,h),t}function Op(t,i,a,o){return Co(),i.flags|=256,Lt(t,i,a,o),i.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:vg()}}function _f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function Vp(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?ir(i):rr(),He){var E=lt,C;if(C=E){e:{for(C=E,E=Wn;C.nodeType!==8;){if(!E){E=null;break e}if(C=Un(C.nextSibling),C===null){E=null;break e}}E=C}E!==null?(i.memoizedState={dehydrated:E,treeContext:us!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},C=cn(18,null,null,0),C.stateNode=E,C.return=i,i.child=C,en=i,lt=null,C=!0):C=!1}C||fs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return td(E)?i.lanes=32:i.lanes=536870912,null;Di(i)}return E=o.children,o=o.fallback,h?(rr(),h=i.mode,E=zu({mode:"hidden",children:E},h),o=ls(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=yf(a),h.childLanes=_f(t,v,a),i.memoizedState=pf,o):(ir(i),vf(i,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(ir(i),i.flags&=-257,i=Ef(t,i,a)):i.memoizedState!==null?(rr(),i.child=t.child,i.flags|=128,i=null):(rr(),h=o.fallback,E=i.mode,o=zu({mode:"visible",children:o.children},E),h=ls(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ga(i,t.child,null,a),o=i.child,o.memoizedState=yf(a),o.childLanes=_f(t,v,a),i.memoizedState=pf,i=h);else if(ir(i),td(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,o=Error(s(419)),o.stack="",o.digest=v,No({value:o,source:null,stack:null}),i=Ef(t,i,a)}else if(Ot||Do(t,i,a,!1),v=(a&t.childLanes)!==0,Ot||v){if(v=et,v!==null&&(o=a&-a,o=(o&42)!==0?1:Gi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,ra(t,o),gn(v,t,o),Sp;E.data==="$?"||Lf(),i=Ef(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,lt=Un(E.nextSibling),en=i,He=!0,hs=null,Wn=!1,t!==null&&(Sn[wn++]=wi,Sn[wn++]=Ri,Sn[wn++]=us,wi=t.id,Ri=t.overflow,us=i),i=vf(i,o.children),i.flags|=4096);return i}return h?(rr(),h=o.fallback,E=i.mode,C=t.child,j=C.sibling,o=Si(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=Si(j,h):(h=ls(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=t.child.memoizedState,E===null?E=yf(a):(C=E.cachePool,C!==null?(j=wt._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=vg(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=_f(t,v,a),i.memoizedState=pf,o):(ir(i),a=t.child,t=a.sibling,a=Si(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function vf(t,i){return i=zu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function zu(t,i){return t=cn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ef(t,i,a){return ga(i,t.child,null,a),t=vf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Mp(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Uh(t.return,i,a)}function Tf(t,i,a,o,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function kp(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Lt(t,i,o.children,a),o=Rt.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mp(t,a,i);else if(t.tag===19)Mp(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(J(Rt,o),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Tf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Pu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Tf(i,!0,a,null,f);break;case"together":Tf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Do(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Si(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Si(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Af(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Eu(t)))}function zT(t,i,a){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),Ji(i,wt,t.memoizedState.cache),Co();break;case 27:case 5:Fi(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ir(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Vp(t,i,a):(ir(i),t=xi(t,i,a),t!==null?t.sibling:null);ir(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Do(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return kp(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Rt,Rt.current),o)break;return null;case 22:case 23:return i.lanes=0,Cp(t,i,a);case 24:Ji(i,wt,t.memoizedState.cache)}return xi(t,i,a)}function Pp(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!Af(t,a)&&(i.flags&128)===0)return Ot=!1,zT(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(i.flags&1048576)!==0&&fg(i,vu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Dh(o)?(t=ys(o,t),i.tag=1,i=xp(null,i,o,t,a)):(i.tag=0,i=gf(null,i,o,t,a));else{if(o!=null){if(h=o.$$typeof,h===we){i.tag=11,i=wp(null,i,o,t,a);break e}else if(h===I){i.tag=14,i=Rp(null,i,o,t,a);break e}}throw i=je(o)||o,Error(s(306,i,""))}}return i;case 0:return gf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ys(o,i.pendingProps),xp(t,i,o,h,a);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Fh(t,i),Uo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Ji(i,wt,o),o!==f.cache&&Lh(i,[wt],a,!0),Po(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Op(t,i,o,a);break e}else if(o!==h){h=An(Error(s(424)),i),No(h),i=Op(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Un(t.firstChild),en=i,He=!0,hs=null,Wn=!0,a=mp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),o===h){i=xi(t,i,a);break e}Lt(t,i,o,a)}i=i.child}return i;case 26:return ju(t,i),t===null?(a=zy(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,o=ec(ve.current).createElement(a),o[At]=i,o[gt]=t,zt(o,a,t),ct(o),i.stateNode=o):i.memoizedState=zy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Fi(i),t===null&&He&&(o=i.stateNode=Uy(i.type,i.pendingProps,ve.current),en=i,Wn=!0,h=lt,dr(i.type)?(nd=h,lt=Un(o.firstChild)):lt=h),Lt(t,i,i.pendingProps.children,a),ju(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=o=lt)&&(o=mA(o,i.type,i.pendingProps,Wn),o!==null?(i.stateNode=o,en=i,lt=Un(o.firstChild),Wn=!1,h=!0):h=!1),h||fs(i)),Fi(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,Jf(h,f)?o=null:v!==null&&Jf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=$h(t,i,OT,null,null,a),sl._currentValue=h),ju(t,i),Lt(t,i,o,a),i.child;case 6:return t===null&&He&&((t=a=lt)&&(a=gA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,en=i,lt=null,t=!0):t=!1),t||fs(i)),null;case 13:return Vp(t,i,a);case 4:return We(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=ga(i,null,o,a):Lt(t,i,o,a),i.child;case 11:return wp(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ji(i,i.type,o.value),Lt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ms(i),h=Ft(h),o=o(h),i.flags|=1,Lt(t,i,o,a),i.child;case 14:return Rp(t,i,i.type,i.pendingProps,a);case 15:return Ip(t,i,i.type,i.pendingProps,a);case 19:return kp(t,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},t===null?(a=zu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Si(t.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Cp(t,i,a);case 24:return ms(i),o=Ft(wt),t===null?(h=Bh(),h===null&&(h=et,f=jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Hh(i),Ji(i,wt,h)):((t.lanes&a)!==0&&(Fh(t,i),Uo(i,null,null,a),Po()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ji(i,wt,o)):(o=f.cache,Ji(i,wt,o),o!==h.cache&&Lh(i,[wt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Oi(t){t.flags|=4}function Up(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gy(i)){if(i=Rn.current,i!==null&&((ke&4194048)===ke?ei!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==ei))throw Mo=qh,Eg;t.flags|=8192}}function Bu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ao():536870912,t.lanes|=i,va|=i)}function Fo(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function BT(t,i,a){var o=i.pendingProps;switch(Mh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ci(wt),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Io(i)?Oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gg())),st(i),null;case 26:return a=i.memoizedState,t===null?(Oi(i),a!==null?(st(i),Up(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Oi(i),st(i),Up(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==o&&Oi(i),st(i),i.flags&=-16777217),null;case 27:hi(i),a=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ce.current,Io(i)?dg(i):(t=Uy(h,o,a),i.stateNode=t,Oi(i))}return st(i),null;case 5:if(hi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=ce.current,Io(i))dg(i);else{switch(h=ec(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}t[At]=i,t[gt]=o;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oi(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Oi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=ve.current,Io(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Dy(t.nodeValue,a)),t||fs(i)}else t=ec(t).createTextNode(o),t[At]=i,i.stateNode=t}return st(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Io(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else Co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=gg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Bu(i,i.updateQueue),st(i),null;case 4:return Bn(),t===null&&Kf(i.stateNode.containerInfo),st(i),null;case 10:return Ci(i.type),st(i),null;case 19:if(ne(Rt),h=i.memoizedState,h===null)return st(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Fo(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Pu(t),f!==null){for(i.flags|=128,Fo(h,!1),t=f.updateQueue,i.updateQueue=t,Bu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)hg(a,t),a=a.sibling;return J(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&pn()>Fu&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304)}else{if(!o)if(t=Pu(f),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Bu(i,t),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!He)return st(i),null}else 2*pn()-h.renderingStartTime>Fu&&a!==536870912&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=pn(),i.sibling=null,t=Rt.current,J(Rt,o?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Di(i),Yh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Bu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&ne(gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ci(wt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qT(t,i){switch(Mh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ci(wt),Bn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hi(i),null;case 13:if(Di(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Co()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(Rt),null;case 4:return Bn(),null;case 10:return Ci(i.type),null;case 22:case 23:return Di(i),Yh(),t!==null&&ne(gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ci(wt),null;case 25:return null;default:return null}}function Lp(t,i){switch(Mh(i),i.tag){case 3:Ci(wt),Bn();break;case 26:case 27:case 5:hi(i);break;case 4:Bn();break;case 13:Di(i);break;case 19:ne(Rt);break;case 10:Ci(i.type);break;case 22:case 23:Di(i),Yh(),t!==null&&ne(gs);break;case 24:Ci(wt)}}function Go(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){Je(i,i.return,E)}}function sr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var C=a,j=E;try{j()}catch(G){Je(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){Je(i,i.return,G)}}function jp(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Rg(i,a)}catch(o){Je(t,t.return,o)}}}function zp(t,i,a){a.props=ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,i,o)}}function Qo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Je(t,i,h)}}function ti(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Bp(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function bf(t,i,a){try{var o=t.stateNode;uA(o,t.type,a,i),o[gt]=i}catch(h){Je(t,t.return,h)}}function qp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function Sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wu));else if(o!==4&&(o===27&&dr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(wf(t,i,a),t=t.sibling;t!==null;)wf(t,i,a),t=t.sibling}function qu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qu(t,i,a),t=t.sibling;t!==null;)qu(t,i,a),t=t.sibling}function Hp(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,o,a),i[At]=t,i[gt]=a}catch(f){Je(t,t.return,f)}}var Vi=!1,ft=!1,Rf=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function HT(t,i){if(t=t.containerInfo,$f=ac,t=tg(t),bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,E=-1,C=-1,j=0,G=0,K=t,z=null;t:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==f||o!==0&&K.nodeType!==3||(C=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===t)break t;if(z===a&&++j===h&&(E=v),z===f&&++G===o&&(C=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:t,selectionRange:a},ac=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ye=ys(a.type,h,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(ye,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Je(a,a.return,fe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ed(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function Gp(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),o&4&&Go(5,a);break;case 1:if(ar(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}o&64&&jp(a),o&512&&Qo(a,a.return);break;case 3:if(ar(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&o&4&&Hp(a);case 26:case 5:ar(t,a),i===null&&o&4&&Bp(a),o&512&&Qo(a,a.return);break;case 12:ar(t,a);break;case 13:ar(t,a),o&4&&Yp(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=JT.bind(null,a),pA(t,a))));break;case 22:if(o=a.memoizedState!==null||Vi,!o){i=i!==null&&i.memoizedState!==null||ft,h=Vi;var f=ft;Vi=o,(ft=i)&&!f?or(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),Vi=h,ft=f}break;case 30:break;default:ar(t,a)}}function Qp(t){var i=t.alternate;i!==null&&(t.alternate=null,Qp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Yi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,nn=!1;function Mi(t,i,a){for(a=a.child;a!==null;)Kp(t,i,a),a=a.sibling}function Kp(t,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||ti(a,i),Mi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ti(a,i);var o=it,h=nn;dr(a.type)&&(it=a.stateNode,nn=!1),Mi(t,i,a),tl(a.stateNode),it=o,nn=h;break;case 5:ft||ti(a,i);case 6:if(o=it,h=nn,it=null,Mi(t,i,a),it=o,nn=h,it!==null)if(nn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(f){Je(a,i,f)}else try{it.removeChild(a.stateNode)}catch(f){Je(a,i,f)}break;case 18:it!==null&&(nn?(t=it,ky(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ul(t)):ky(it,a.stateNode));break;case 4:o=it,h=nn,it=a.stateNode.containerInfo,nn=!0,Mi(t,i,a),it=o,nn=h;break;case 0:case 11:case 14:case 15:ft||sr(2,a,i),ft||sr(4,a,i),Mi(t,i,a);break;case 1:ft||(ti(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zp(a,i,o)),Mi(t,i,a);break;case 21:Mi(t,i,a);break;case 22:ft=(o=ft)||a.memoizedState!==null,Mi(t,i,a),ft=o;break;default:Mi(t,i,a)}}function Yp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(a){Je(i,i.return,a)}}function FT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Fp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Fp),i;default:throw Error(s(435,t.tag))}}function If(t,i){var a=FT(t);i.forEach(function(o){var h=WT.bind(null,t,o);a.has(o)||(a.add(o),o.then(h,h))})}function hn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(dr(E.type)){it=E.stateNode,nn=!1;break e}break;case 5:it=E.stateNode,nn=!1;break e;case 3:case 4:it=E.stateNode.containerInfo,nn=!0;break e}E=E.return}if(it===null)throw Error(s(160));Kp(f,v,h),it=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xp(i,t),i=i.sibling}var Pn=null;function Xp(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),o&4&&(sr(3,t,t.return),Go(3,t),sr(5,t,t.return));break;case 1:hn(i,t),fn(t),o&512&&(ft||a===null||ti(a,a.return)),o&64&&Vi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Pn;if(hn(i,t),fn(t),o&512&&(ft||a===null||ti(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Qr]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),zt(f,o,a),f[At]=t,ct(f),o=f;break e;case"link":var v=Hy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}f=h.createElement(o),zt(f,o,a),h.head.appendChild(f);break;case"meta":if(v=Hy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}f=h.createElement(o),zt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[At]=t,ct(f),o=f}t.stateNode=o}else Fy(h,t.type,t.stateNode);else t.stateNode=qy(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Fy(h,t.type,t.stateNode):qy(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),o&512&&(ft||a===null||ti(a,a.return)),a!==null&&o&4&&bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),o&512&&(ft||a===null||ti(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(B){Je(t,t.return,B)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,bf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Rf=!0);break;case 6:if(hn(i,t),fn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(B){Je(t,t.return,B)}}break;case 3:if(ic=null,h=Pn,Pn=tc(i.containerInfo),hn(i,t),Pn=h,fn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(B){Je(t,t.return,B)}Rf&&(Rf=!1,$p(t));break;case 4:o=Pn,Pn=tc(t.stateNode.containerInfo),hn(i,t),fn(t),Pn=o;break;case 12:hn(i,t),fn(t);break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=pn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,If(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Vi,G=ft;if(Vi=j||h,ft=G||C,hn(i,t),ft=G,Vi=j,fn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Vi||ft||_s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Je(C,C.return,B)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(B){Je(C,C.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,If(t,a))));break;case 19:hn(i,t),fn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,If(t,o)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(qp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Sf(t);qu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var E=Sf(t);qu(t,E,v);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Sf(t);wf(t,j,C);break;default:throw Error(s(161))}}catch(G){Je(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $p(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$p(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gp(t,i.alternate,i),i=i.sibling}function _s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:sr(4,i,i.return),_s(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zp(i,i.return,a),_s(i);break;case 27:tl(i.stateNode);case 26:case 5:ti(i,i.return),_s(i);break;case 22:i.memoizedState===null&&_s(i);break;case 30:_s(i);break;default:_s(i)}t=t.sibling}}function or(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:or(h,f,a),Go(4,f);break;case 1:if(or(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Je(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)wg(C[h],E)}catch(j){Je(o,o.return,j)}}a&&v&64&&jp(f),Qo(f,f.return);break;case 27:Hp(f);case 26:case 5:or(h,f,a),a&&o===null&&v&4&&Bp(f),Qo(f,f.return);break;case 12:or(h,f,a);break;case 13:or(h,f,a),a&&v&4&&Yp(h,f);break;case 22:f.memoizedState===null&&or(h,f,a),Qo(f,f.return);break;case 30:break;default:or(h,f,a)}i=i.sibling}}function Cf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xo(a))}function Nf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t))}function ni(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zp(t,i,a,o),i=i.sibling}function Zp(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,o),h&2048&&Go(9,i);break;case 1:ni(t,i,a,o);break;case 3:ni(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t)));break;case 12:if(h&2048){ni(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else ni(t,i,a,o);break;case 13:ni(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ni(t,i,a,o):Ko(t,i):f._visibility&2?ni(t,i,a,o):(f._visibility|=2,pa(t,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Cf(v,i);break;case 24:ni(t,i,a,o),h&2048&&Nf(i.alternate,i);break;default:ni(t,i,a,o)}}function pa(t,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,v=i,E=a,C=o,j=v.flags;switch(v.tag){case 0:case 11:case 15:pa(f,v,E,C,h),Go(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?pa(f,v,E,C,h):Ko(f,v):(G._visibility|=2,pa(f,v,E,C,h)),h&&j&2048&&Cf(v.alternate,v);break;case 24:pa(f,v,E,C,h),h&&j&2048&&Nf(v.alternate,v);break;default:pa(f,v,E,C,h)}i=i.sibling}}function Ko(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Ko(a,o),h&2048&&Cf(o.alternate,o);break;case 24:Ko(a,o),h&2048&&Nf(o.alternate,o);break;default:Ko(a,o)}i=i.sibling}}var Yo=8192;function ya(t){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)Jp(t),t=t.sibling}function Jp(t){switch(t.tag){case 26:ya(t),t.flags&Yo&&t.memoizedState!==null&&NA(Pn,t.memoizedState,t.memoizedProps);break;case 5:ya(t);break;case 3:case 4:var i=Pn;Pn=tc(t.stateNode.containerInfo),ya(t),Pn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,ya(t),Yo=i):ya(t));break;default:ya(t)}}function Wp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Vt=o,ty(o,t)}Wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 0:case 11:case 15:Xo(t),t.flags&2048&&sr(9,t,t.return);break;case 3:Xo(t);break;case 12:Xo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Hu(t)):Xo(t);break;default:Xo(t)}}function Hu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Vt=o,ty(o,t)}Wp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:sr(8,i,i.return),Hu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Hu(i));break;default:Hu(i)}t=t.sibling}}function ty(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Vt=o;else e:for(a=t;Vt!==null;){o=Vt;var h=o.sibling,f=o.return;if(Qp(o),o===a){Vt=null;break e}if(h!==null){h.return=f,Vt=h;break e}Vt=f}}}var GT={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},QT=typeof WeakMap=="function"?WeakMap:Map,Qe=0,et=null,De=null,ke=0,Ke=0,dn=null,lr=!1,_a=!1,Df=!1,ki=0,ut=0,ur=0,vs=0,xf=0,In=0,va=0,$o=null,rn=null,Of=!1,Vf=0,Fu=1/0,Gu=null,cr=null,jt=0,hr=null,Ea=null,Ta=0,Mf=0,kf=null,ny=null,Zo=0,Pf=null;function mn(){if((Qe&2)!==0&&ke!==0)return ke&-ke;if(H.T!==null){var t=la;return t!==0?t:Hf()}return Qi()}function iy(){In===0&&(In=(ke&536870912)===0||He?so():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),In}function gn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Aa(t,0),fr(t,ke,In,!1)),di(t,a),((Qe&2)===0||t!==et)&&(t===et&&((Qe&2)===0&&(vs|=a),ut===4&&fr(t,ke,In,!1)),ii(t))}function ry(t,i,a){if((Qe&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Gr(t,i),h=o?XT(t,i):jf(t,i,!0),f=o;do{if(h===0){_a&&!o&&fr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!KT(a)){h=jf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=$o;var C=E.current.memoizedState.isDehydrated;if(C&&(Aa(E,v).flags|=256),v=jf(E,v,!1),v!==2){if(Df&&!C){E.errorRecoveryDisabledLanes|=f,vs|=f,h=4;break e}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Aa(t,0),fr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fr(o,i,In,!lr);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Vf+300-pn(),10<h)){if(fr(o,i,In,!lr),js(o,0,!0)!==0)break e;o.timeoutHandle=Vy(sy.bind(null,o,a,rn,Gu,Of,i,In,vs,va,lr,f,2,-0,0),h);break e}sy(o,a,rn,Gu,Of,i,In,vs,va,lr,f,0,-0,0)}}break}while(!0);ii(t)}function sy(t,i,a,o,h,f,v,E,C,j,G,K,z,B){if(t.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:CA},Jp(i),K=DA(),K!==null)){t.cancelPendingCommit=K(fy.bind(null,t,i,f,a,o,h,v,E,C,G,1,z,B)),fr(t,f,v,!j);return}fy(t,i,f,a,o,h,v,E,C)}function KT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fr(t,i,a,o){i&=~xf,i&=~vs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-Ht(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&qn(t,a,i)}function Qu(){return(Qe&6)===0?(Jo(0),!1):!0}function Uf(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Ii=ds=null,Wh(t),ma=null,qo=0,t=De;for(;t!==null;)Lp(t.alternate,t),t=t.return;De=null}}function Aa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Uf(),et=t,De=a=Si(t.current,null),ke=i,Ke=0,dn=null,lr=!1,_a=Gr(t,i),Df=!1,va=In=xf=vs=ur=ut=0,rn=$o=null,Of=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Ht(o),f=1<<h;i|=t[h],o&=~f}return ki=i,mu(),a}function ay(t,i){Re=null,H.H=Vu,i===Vo||i===bu?(i=bg(),Ke=3):i===Eg?(i=bg(),Ke=4):Ke=i===Sp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,De===null&&(ut=1,Lu(t,An(i,t.current)))}function oy(){var t=H.H;return H.H=Vu,t===null?Vu:t}function ly(){var t=H.A;return H.A=GT,t}function Lf(){ut=4,lr||(ke&4194048)!==ke&&Rn.current!==null||(_a=!0),(ur&134217727)===0&&(vs&134217727)===0||et===null||fr(et,ke,In,!1)}function jf(t,i,a){var o=Qe;Qe|=2;var h=oy(),f=ly();(et!==t||ke!==i)&&(Gu=null,Aa(t,i)),i=!1;var v=ut;e:do try{if(Ke!==0&&De!==null){var E=De,C=dn;switch(Ke){case 8:Uf(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var j=Ke;if(Ke=0,dn=null,ba(t,E,C,j),a&&_a){v=0;break e}break;default:j=Ke,Ke=0,dn=null,ba(t,E,C,j)}}YT(),v=ut;break}catch(G){ay(t,G)}while(!0);return i&&t.shellSuspendCounter++,Ii=ds=null,Qe=o,H.H=h,H.A=f,De===null&&(et=null,ke=0,mu()),v}function YT(){for(;De!==null;)uy(De)}function XT(t,i){var a=Qe;Qe|=2;var o=oy(),h=ly();et!==t||ke!==i?(Gu=null,Fu=pn()+500,Aa(t,i)):_a=Gr(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var f=dn;t:switch(Ke){case 1:Ke=0,dn=null,ba(t,i,f,1);break;case 2:case 9:if(Tg(f)){Ke=0,dn=null,cy(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),ii(t)},f.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Tg(f)?(Ke=0,dn=null,cy(i)):(Ke=0,dn=null,ba(t,i,f,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var E=De;if(!v||Gy(v)){Ke=0,dn=null;var C=E.sibling;if(C!==null)De=C;else{var j=E.return;j!==null?(De=j,Ku(j)):De=null}break t}}Ke=0,dn=null,ba(t,i,f,5);break;case 6:Ke=0,dn=null,ba(t,i,f,6);break;case 8:Uf(),ut=6;break e;default:throw Error(s(462))}}$T();break}catch(G){ay(t,G)}while(!0);return Ii=ds=null,H.H=o,H.A=h,Qe=a,De!==null?0:(et=null,ke=0,mu(),ut)}function $T(){for(;De!==null&&!to();)uy(De)}function uy(t){var i=Pp(t.alternate,t,ki);t.memoizedProps=t.pendingProps,i===null?Ku(t):De=i}function cy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Dp(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=Dp(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Wh(i);default:Lp(a,i),i=De=hg(i,ki),i=Pp(a,i,ki)}t.memoizedProps=t.pendingProps,i===null?Ku(t):De=i}function ba(t,i,a,o){Ii=ds=null,Wh(i),ma=null,qo=0;var h=i.return;try{if(jT(t,h,i,a,ke)){ut=1,Lu(t,An(a,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;ut=1,Lu(t,An(a,t.current)),De=null;return}i.flags&32768?(He||o===1?t=!0:_a||(ke&536870912)!==0?t=!1:(lr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),hy(i,t)):Ku(i)}function Ku(t){var i=t;do{if((i.flags&32768)!==0){hy(i,lr);return}t=i.return;var a=BT(i.alternate,i,ki);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ut===0&&(ut=5)}function hy(t,i){do{var a=qT(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ut=6,De=null}function fy(t,i,a,o,h,f,v,E,C){t.cancelPendingCommit=null;do Yu();while(jt!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Ch,oo(t,a,f,v,E,C),t===et&&(De=et=null,ke=0),Ea=i,hr=t,Ta=a,Mf=f,kf=h,ny=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eA(Br,function(){return yy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=te.p,te.p=2,v=Qe,Qe|=4;try{HT(t,i,a)}finally{Qe=v,te.p=h,H.T=o}}jt=1,dy(),my(),gy()}}function dy(){if(jt===1){jt=0;var t=hr,i=Ea,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=te.p;te.p=2;var h=Qe;Qe|=4;try{Xp(i,t);var f=Zf,v=tg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&eg(E.ownerDocument.documentElement,E)){if(C!==null&&bh(E)){var j=C.start,G=C.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),ye=E.textContent.length,fe=Math.min(C.start,ye),Ze=C.end===void 0?fe:Math.min(C.end,ye);!B.extend&&fe>Ze&&(v=Ze,Ze=fe,fe=v);var P=Wm(E,fe),k=Wm(E,Ze);if(P&&k&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==k.node||B.focusOffset!==k.offset)){var L=K.createRange();L.setStart(P.node,P.offset),B.removeAllRanges(),fe>Ze?(B.addRange(L),B.extend(k.node,k.offset)):(L.setEnd(k.node,k.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ac=!!$f,Zf=$f=null}finally{Qe=h,te.p=o,H.T=a}}t.current=i,jt=2}}function my(){if(jt===2){jt=0;var t=hr,i=Ea,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=te.p;te.p=2;var h=Qe;Qe|=4;try{Gp(t,i.alternate,i)}finally{Qe=h,te.p=o,H.T=a}}jt=3}}function gy(){if(jt===4||jt===3){jt=0,Hl();var t=hr,i=Ea,a=Ta,o=ny;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Ea=hr=null,py(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(cr=null),zs(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,te.p=h}}(Ta&3)!==0&&Yu(),ii(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Pf?Zo++:(Zo=0,Pf=t):Zo=0,Jo(0)}}function py(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xo(i)))}function Yu(t){return dy(),my(),gy(),yy()}function yy(){if(jt!==5)return!1;var t=hr,i=Mf;Mf=0;var a=zs(Ta),o=H.T,h=te.p;try{te.p=32>a?32:a,H.T=null,a=kf,kf=null;var f=hr,v=Ta;if(jt=0,Ea=hr=null,Ta=0,(Qe&6)!==0)throw Error(s(331));var E=Qe;if(Qe|=4,ey(f.current),Zp(f,f.current,v,a),Qe=E,Jo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ot,f)}catch{}return!0}finally{te.p=h,H.T=o,py(t,i)}}function _y(t,i,a){i=An(a,i),i=mf(t.stateNode,i,2),t=tr(t,i,2),t!==null&&(di(t,2),ii(t))}function Je(t,i,a){if(t.tag===3)_y(t,t,a);else for(;i!==null;){if(i.tag===3){_y(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cr===null||!cr.has(o))){t=An(a,t),a=Ap(2),o=tr(i,a,2),o!==null&&(bp(a,o,i,t),di(o,2),ii(o));break}}i=i.return}}function zf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new QT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Df=!0,h.add(a),t=ZT.bind(null,t,i,a),i.then(t,t))}function ZT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(ke&a)===a&&(ut===4||ut===3&&(ke&62914560)===ke&&300>pn()-Vf?(Qe&2)===0&&Aa(t,0):xf|=a,va===ke&&(va=0)),ii(t)}function vy(t,i){i===0&&(i=ao()),t=ra(t,i),t!==null&&(di(t,i),ii(t))}function JT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),vy(t,a)}function WT(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),vy(t,a)}function eA(t,i){return jr(t,i)}var Xu=null,Sa=null,Bf=!1,$u=!1,qf=!1,Es=0;function ii(t){t!==Sa&&t.next===null&&(Sa===null?Xu=Sa=t:Sa=Sa.next=t),$u=!0,Bf||(Bf=!0,nA())}function Jo(t,i){if(!qf&&$u){qf=!0;do for(var a=!1,o=Xu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ht(42|t)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,by(o,f))}else f=ke,f=js(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gr(o,f)||(a=!0,by(o,f));o=o.next}while(a);qf=!1}}function tA(){Ey()}function Ey(){$u=Bf=!1;var t=0;Es!==0&&(cA()&&(t=Es),Es=0);for(var i=pn(),a=null,o=Xu;o!==null;){var h=o.next,f=Ty(o,i);f===0?(o.next=null,a===null?Xu=h:a.next=h,h===null&&(Sa=a)):(a=o,(t!==0||(f&3)!==0)&&($u=!0)),o=h}Jo(t)}function Ty(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ht(f),E=1<<v,C=h[v];C===-1?((E&a)===0||(E&o)!==0)&&(h[v]=ro(E,i)):C<=i&&(t.expiredLanes|=E),f&=~E}if(i=et,a=ke,a=js(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&zr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&zr(o),zs(a)){case 2:case 8:a=Us;break;case 32:a=Br;break;case 268435456:a=Ls;break;default:a=Br}return o=Ay.bind(null,t),a=jr(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&zr(o),t.callbackPriority=2,t.callbackNode=null,2}function Ay(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var o=ke;return o=js(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ry(t,o,i),Ty(t,pn()),t.callbackNode!=null&&t.callbackNode===a?Ay.bind(null,t):null)}function by(t,i){if(Yu())return null;ry(t,i,!0)}function nA(){fA(function(){(Qe&6)!==0?jr(no,tA):Ey()})}function Hf(){return Es===0&&(Es=so()),Es}function Sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qs(""+t)}function wy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function iA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Sy((h[gt]||null).action),v=o.submitter;v&&(i=(i=v[gt]||null)?Sy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Ks("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Es!==0){var C=v?wy(h,v):new FormData(h);uf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=v?wy(h,v):new FormData(h),uf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ff=0;Ff<Ih.length;Ff++){var Gf=Ih[Ff],rA=Gf.toLowerCase(),sA=Gf[0].toUpperCase()+Gf.slice(1);kn(rA,"on"+sA)}kn(rg,"onAnimationEnd"),kn(sg,"onAnimationIteration"),kn(ag,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(AT,"onTransitionRun"),kn(bT,"onTransitionStart"),kn(ST,"onTransitionCancel"),kn(og,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Ry(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Uu(G)}h.currentTarget=null,f=C}else for(v=0;v<o.length;v++){if(E=o[v],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(G){Uu(G)}h.currentTarget=null,f=C}}}}function xe(t,i){var a=i[uo];a===void 0&&(a=i[uo]=new Set);var o=t+"__bubble";a.has(o)||(Iy(i,t,2,!1),a.add(o))}function Qf(t,i,a){var o=0;i&&(o|=4),Iy(a,t,o,i)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[Zu]){t[Zu]=!0,co.forEach(function(a){a!=="selectionchange"&&(aA.has(a)||Qf(a,!1,t),Qf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Zu]||(i[Zu]=!0,Qf("selectionchange",!1,i))}}function Iy(t,i,a,o){switch(Zy(i)){case 2:var h=VA;break;case 8:h=MA;break;default:h=od}a=h.bind(null,i,a,t),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Yf(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=mi(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=f=v;continue e}E=E.parentNode}}o=o.return}Wl(function(){var j=f,G=vn(a),K=[];e:{var z=lg.get(t);if(z!==void 0){var B=Ks,ye=t;switch(t){case"keypress":if(Yn(a)===0)break e;case"keydown":case"keyup":B=Ws;break;case"focusin":ye="focus",B=$s;break;case"focusout":ye="blur",B=$s;break;case"beforeblur":case"afterblur":B=$s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ou;break;case rg:case sg:case ag:B=Zs;break;case og:B=uu;break;case"scroll":case"scrollend":B=eu;break;case"wheel":B=ea;break;case"copy":case"cut":case"paste":B=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=bo;break;case"toggle":case"beforetoggle":B=hu}var fe=(i&4)!==0,Ze=!fe&&(t==="scroll"||t==="scrollend"),P=fe?z!==null?z+"Capture":null:z;fe=[];for(var k=j,L;k!==null;){var Q=k;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||P===null||(Q=Wr(k,P),Q!=null&&fe.push(el(k,Q,L))),Ze)break;k=k.return}0<fe.length&&(z=new B(z,ye,null,a,G),K.push({event:z,listeners:fe}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&a!==_i&&(ye=a.relatedTarget||a.fromElement)&&(mi(ye)||ye[yn]))break e;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(ye=a.relatedTarget||a.toElement,B=j,ye=ye?mi(ye):null,ye!==null&&(Ze=c(ye),fe=ye.tag,ye!==Ze||fe!==5&&fe!==27&&fe!==6)&&(ye=null)):(B=null,ye=j),B!==ye)){if(fe=Tn,Q="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(fe=bo,Q="onPointerLeave",P="onPointerEnter",k="pointer"),Ze=B==null?z:Fn(B),L=ye==null?z:Fn(ye),z=new fe(Q,k+"leave",B,a,G),z.target=Ze,z.relatedTarget=L,Q=null,mi(G)===j&&(fe=new fe(P,k+"enter",ye,a,G),fe.target=L,fe.relatedTarget=Ze,Q=fe),Ze=Q,B&&ye)t:{for(fe=B,P=ye,k=0,L=fe;L;L=wa(L))k++;for(L=0,Q=P;Q;Q=wa(Q))L++;for(;0<k-L;)fe=wa(fe),k--;for(;0<L-k;)P=wa(P),L--;for(;k--;){if(fe===P||P!==null&&fe===P.alternate)break t;fe=wa(fe),P=wa(P)}fe=null}else fe=null;B!==null&&Cy(K,z,B,fe,!1),ye!==null&&Ze!==null&&Cy(K,Ze,ye,fe,!0)}}e:{if(z=j?Fn(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ae=Km;else if(St(z))if(Ym)ae=vT;else{ae=yT;var Ce=pT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&po(j.elementType)&&(ae=Km):ae=_T;if(ae&&(ae=ae(t,j))){bi(K,ae,a,G);break e}Ce&&Ce(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&$i(z,"number",z.value)}switch(Ce=j?Fn(j):window,t){case"focusin":(St(Ce)||Ce.contentEditable==="true")&&(ta=Ce,Sh=j,Ro=null);break;case"focusout":Ro=Sh=ta=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,ng(K,a,G);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":ng(K,a,G)}var ue;if(Zn)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Ve?q(t,a)&&(de="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(de="onCompositionStart");de&&(y&&a.locale!=="ko"&&(Ve||de!=="onCompositionStart"?de==="onCompositionEnd"&&Ve&&(ue=_o()):(Kn=G,Zi="value"in Kn?Kn.value:Kn.textContent,Ve=!0)),Ce=Ju(j,de),0<Ce.length&&(de=new To(de,t,null,a,G),K.push({event:de,listeners:Ce}),ue?de.data=ue:(ue=ee(a),ue!==null&&(de.data=ue)))),(ue=m?bt(t,a):Me(t,a))&&(de=Ju(j,"onBeforeInput"),0<de.length&&(Ce=new To("onBeforeInput","beforeinput",null,a,G),K.push({event:Ce,listeners:de}),Ce.data=ue)),iA(K,t,j,a,G)}Ry(K,i)})}function el(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ju(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wr(t,a),h!=null&&o.unshift(el(t,h,f)),h=Wr(t,i),h!=null&&o.push(el(t,h,f))),t.tag===3)return o;t=t.return}return[]}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cy(t,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Wr(a,f),j!=null&&v.unshift(el(a,j,C))):h||(j=Wr(a,f),j!=null&&v.push(el(a,j,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace(oA,`
`).replace(lA,"")}function Dy(t,i){return i=Ny(i),Ny(t)===i}function Wu(){}function $e(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&_n(t,""+o);break;case"className":Gn(t,"class",o);break;case"tabIndex":Gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,o);break;case"style":go(t,o,f);break;case"data":if(i!=="object"){Gn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Qs(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Qs(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Wu);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Qs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),Xi(t,"popover",o);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yh.get(a)||a,Xi(t,a,o))}}function Xf(t,i,a,o,h,f){switch(a){case"style":go(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Xi(t,a,o)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,f,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),o&&$e(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var E=f=v=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":C=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:$e(t,i,o,G,a,null)}}$r(t,f,E,C,j,v,h,!1),Gs(t);return;case"select":xe("invalid",t),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:$e(t,i,h,E,a,null)}i=f,a=v,t.multiple=!!o,i!=null?yi(t,!!o,i,!1):a!=null&&yi(t,!!o,a,!0);return;case"textarea":xe("invalid",t),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$e(t,i,v,E,a,null)}Zr(t,o,h,f),Gs(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$e(t,i,C,o,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<Wo.length;o++)xe(Wo[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,j,o,a,null)}return;default:if(po(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Xf(t,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&$e(t,i,E,o,a,null))}function uA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,C=null,j=null,G=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(B)||$e(t,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&$e(t,i,z,B,o,K)}}ln(t,v,E,C,j,G,f,h);return;case"select":B=v=E=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":B=C;default:o.hasOwnProperty(f)||$e(t,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==C&&$e(t,i,h,f,o,C)}i=E,a=v,o=B,z!=null?yi(t,!!a,z,!1):!!o!=!!a&&(i!=null?yi(t,!!a,i,!0):yi(t,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(t,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$e(t,i,v,h,o,f)}Ye(t,z,B);return;case"option":for(var ye in a)if(z=a[ye],a.hasOwnProperty(ye)&&z!=null&&!o.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:$e(t,i,ye,null,o,z)}for(C in o)if(z=o[C],B=a[C],o.hasOwnProperty(C)&&z!==B&&(z!=null||B!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$e(t,i,C,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!o.hasOwnProperty(fe)&&$e(t,i,fe,null,o,z);for(j in o)if(z=o[j],B=a[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:$e(t,i,j,z,o,B)}return;default:if(po(i)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!o.hasOwnProperty(Ze)&&Xf(t,i,Ze,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Xf(t,i,G,z,o,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&$e(t,i,P,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||$e(t,i,K,z,o,B)}var $f=null,Zf=null;function ec(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wf=null;function cA(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var Vy=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(dA)}:Vy;function dA(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function ky(t,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=t.ownerDocument;if(a&1&&tl(v.documentElement),a&2&&tl(v.body),a&4)for(a=v.head,tl(a),v=a.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Qr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){t.removeChild(f),ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);ul(i)}function ed(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ed(a),Yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Qr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function gA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var nd=null;function Py(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Uy(t,i,a){switch(i=ec(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Yi(t)}var Cn=new Map,Ly=new Set;function tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=te.d;te.d={f:yA,r:_A,D:vA,C:EA,L:TA,m:AA,X:SA,S:bA,M:wA};function yA(){var t=Pi.f(),i=Qu();return t||i}function _A(t){var i=Hn(t);i!==null&&i.tag===5&&i.type==="form"?rp(i):Pi.r(t)}var Ra=typeof document>"u"?null:document;function jy(t,i,a){var o=Ra;if(o&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),zt(i,"link",t),ct(i),o.head.appendChild(i)))}}function vA(t){Pi.D(t),jy("dns-prefetch",t,null)}function EA(t,i){Pi.C(t,i),jy("preconnect",t,i)}function TA(t,i,a){Pi.L(t,i,a);var o=Ra;if(o&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var f=h;switch(i){case"style":f=Ia(t);break;case"script":f=Ca(t)}Cn.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Cn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(nl(f))||i==="script"&&o.querySelector(il(f))||(i=o.createElement("link"),zt(i,"link",t),ct(i),o.head.appendChild(i)))}}function AA(t,i){Pi.m(t,i);var a=Ra;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(o)+'"][href="'+pt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ca(t)}if(!Cn.has(f)&&(t=T({rel:"modulepreload",href:t},i),Cn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(f)))return}o=a.createElement("link"),zt(o,"link",t),ct(o),a.head.appendChild(o)}}}function bA(t,i,a){Pi.S(t,i,a);var o=Ra;if(o&&t){var h=Zt(o).hoistableStyles,f=Ia(t);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(nl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Cn.get(f))&&id(t,a);var C=v=o.createElement("link");ct(C),zt(C,"link",t),C._p=new Promise(function(j,G){C.onload=j,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function SA(t,i){Pi.X(t,i);var a=Ra;if(a&&t){var o=Zt(a).hoistableScripts,h=Ca(t),f=o.get(h);f||(f=a.querySelector(il(h)),f||(t=T({src:t,async:!0},i),(i=Cn.get(h))&&rd(t,i),f=a.createElement("script"),ct(f),zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function wA(t,i){Pi.M(t,i);var a=Ra;if(a&&t){var o=Zt(a).hoistableScripts,h=Ca(t),f=o.get(h);f||(f=a.querySelector(il(h)),f||(t=T({src:t,async:!0,type:"module"},i),(i=Cn.get(h))&&rd(t,i),f=a.createElement("script"),ct(f),zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zy(t,i,a,o){var h=(h=ve.current)?tc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ia(a.href),a=Zt(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ia(a.href);var f=Zt(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(nl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),f||RA(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ca(a),a=Zt(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ia(t){return'href="'+pt(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function By(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function RA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),zt(i,"link",a),ct(i),t.head.appendChild(i))}function Ca(t){return'[src="'+pt(t)+'"]'}function il(t){return"script[async]"+t}function qy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(o)return i.instance=o,ct(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ct(o),zt(o,"style",h),nc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ia(a.href);var f=t.querySelector(nl(h));if(f)return i.state.loading|=4,i.instance=f,ct(f),f;o=By(a),(h=Cn.get(h))&&id(o,h),f=(t.ownerDocument||t).createElement("link"),ct(f);var v=f;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),zt(f,"link",o),i.state.loading|=4,nc(f,a.precedence,t),i.instance=f;case"script":return f=Ca(a.src),(h=t.querySelector(il(f)))?(i.instance=h,ct(h),h):(o=a,(h=Cn.get(f))&&(o=T({},a),rd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,nc(o,a.precedence,t));return i.instance}function nc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ic=null;function Hy(t,i,a){if(ic===null){var o=new Map,h=ic=new Map;h.set(a,o)}else h=ic,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Qr]||f[At]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function Fy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function IA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var rl=null;function CA(){}function NA(t,i,a){if(rl===null)throw Error(s(475));var o=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ia(a.href),f=t.querySelector(nl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=rc.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=f,ct(f);return}f=t.ownerDocument||t,a=By(a),(h=Cn.get(h))&&id(a,h),f=f.createElement("link"),ct(f);var v=f;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),zt(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=rc.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function DA(){if(rl===null)throw Error(s(475));var t=rl;return t.stylesheets&&t.count===0&&sd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&sd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function rc(){if(this.count--,this.count===0){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sc=null;function sd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sc=new Map,i.forEach(xA,t),sc=null,rc.call(t))}function xA(t,i){if(!(i.state.loading&4)){var a=sc.get(t);if(a)var o=a.get(null);else{a=new Map,sc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var sl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function OA(t,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Qy(t,i,a,o,h,f,v,E,C,j,G,K){return t=new OA(t,i,a,v,E,C,j,K),i=1,f===!0&&(i|=24),f=cn(3,null,null,i),t.current=f,f.stateNode=t,i=jh(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Hh(f),t}function Ky(t){return t?(t=sa,t):sa}function Yy(t,i,a,o,h,f){h=Ky(h),o.context===null?o.context=h:o.pendingContext=h,o=er(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=tr(t,o,i),a!==null&&(gn(a,t,i),ko(a,t,i))}function Xy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ad(t,i){Xy(t,i),(t=t.alternate)&&Xy(t,i)}function $y(t){if(t.tag===13){var i=ra(t,67108864);i!==null&&gn(i,t,67108864),ad(t,67108864)}}var ac=!0;function VA(t,i,a,o){var h=H.T;H.T=null;var f=te.p;try{te.p=2,od(t,i,a,o)}finally{te.p=f,H.T=h}}function MA(t,i,a,o){var h=H.T;H.T=null;var f=te.p;try{te.p=8,od(t,i,a,o)}finally{te.p=f,H.T=h}}function od(t,i,a,o){if(ac){var h=ld(o);if(h===null)Yf(t,i,o,oc,a),Jy(t,o);else if(PA(h,t,i,a,o))o.stopPropagation();else if(Jy(t,o),i&4&&-1<kA.indexOf(t)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=On(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-Ht(v);E.entanglements[1]|=C,v&=~C}ii(f),(Qe&6)===0&&(Fu=pn()+500,Jo(0))}}break;case 13:E=ra(f,2),E!==null&&gn(E,f,2),Qu(),ad(f,2)}if(f=ld(o),f===null&&Yf(t,i,o,oc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Yf(t,i,o,null,a)}}function ld(t){return t=vn(t),ud(t)}var oc=null;function ud(t){if(oc=null,t=mi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return oc=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hh()){case no:return 2;case Us:return 8;case Br:case fh:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var cd=!1,mr=null,gr=null,pr=null,al=new Map,ol=new Map,yr=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(t,i){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&$y(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function PA(t,i,a,o,h){switch(i){case"focusin":return mr=ll(mr,t,i,a,o,h),!0;case"dragenter":return gr=ll(gr,t,i,a,o,h),!0;case"mouseover":return pr=ll(pr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return al.set(f,ll(al.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ol.set(f,ll(ol.get(f)||null,t,i,a,o,h)),!0}return!1}function Wy(t){var i=mi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Ql(t.priority,function(){if(a.tag===13){var o=mn();o=Gi(o);var h=ra(a,o);h!==null&&gn(h,a,o),ad(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);_i=o,a.target.dispatchEvent(o),_i=null}else return i=Hn(a),i!==null&&$y(i),t.blockedOn=a,!1;i.shift()}return!0}function e_(t,i,a){lc(t)&&a.delete(i)}function UA(){cd=!1,mr!==null&&lc(mr)&&(mr=null),gr!==null&&lc(gr)&&(gr=null),pr!==null&&lc(pr)&&(pr=null),al.forEach(e_),ol.forEach(e_)}function uc(t,i){t.blockedOn===i&&(t.blockedOn=null,cd||(cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var cc=null;function t_(t){cc!==t&&(cc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){cc===t&&(cc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(ud(o||a)===null)continue;break}var f=Hn(a);f!==null&&(t.splice(i,3),i-=3,uf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ul(t){function i(C){return uc(C,t)}mr!==null&&uc(mr,t),gr!==null&&uc(gr,t),pr!==null&&uc(pr,t),al.forEach(i),ol.forEach(i);for(var a=0;a<yr.length;a++){var o=yr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[gt]||null;if(typeof f=="function")v||t_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[gt]||null)E=v.formAction;else if(ud(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),t_(a)}}}function hd(t){this._internalRoot=t}hc.prototype.render=hd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=mn();Yy(a,o,t,i,null,null)},hc.prototype.unmount=hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Yy(t.current,2,null,t,null,null),Qu(),i[yn]=null}};function hc(t){this._internalRoot=t}hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<yr.length&&i!==0&&i<yr[a].priority;a++);yr.splice(a,0,t),a===0&&Wy(t)}};var n_=e.version;if(n_!=="19.1.0")throw Error(s(527,n_,"19.1.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var LA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ot=fc.inject(LA),Ge=fc}catch{}}return hl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=_p,f=vp,v=Ep,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Qy(t,1,!1,null,null,a,o,h,f,v,E,null),t[yn]=i.current,Kf(t),new hd(i)},hl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=_p,v=vp,E=Ep,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=Qy(t,1,!0,i,a??null,o,h,f,v,E,C,j),i.context=Ky(null),a=i.current,o=mn(),o=Gi(o),h=er(o),h.callback=null,tr(a,h,o),a=o,i.current.lanes=a,di(i,a),ii(i),t[yn]=i.current,Kf(t),new hc(i)},hl.version="19.1.0",hl}var f_;function XA(){if(f_)return md.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),md.exports=YA(),md.exports}var $A=XA();const ZA=Gv($A),JA=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},WA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,R=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,F=_&63;p||(F=64,d||(D=64)),s.push(n[T],n[R],n[D],n[F])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Qv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):WA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||R==null)throw new eb;const D=c<<2|g>>4;if(s.push(D),_!==64){const F=g<<4&240|_>>2;if(s.push(F),R!==64){const $=_<<6&192|R;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tb=function(r){const e=Qv(r);return Kv.encodeByteArray(e,!0)},Cc=function(r){return tb(r).replace(/\./g,"")},Yv=function(r){try{return Kv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=()=>nb().__FIREBASE_DEFAULTS__,rb=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Yv(r[1]);return e&&JSON.parse(e)},Qc=()=>{try{return JA()||ib()||rb()||sb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Xv=r=>{var e,n;return(n=(e=Qc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},ab=r=>{const e=Xv(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$v=()=>{var r;return(r=Qc())===null||r===void 0?void 0:r.config},Zv=r=>{var e;return(e=Qc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Cc(JSON.stringify(n)),Cc(JSON.stringify(d)),""].join(".")}const _l={};function ub(){const r={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?r.emulator.push(e):r.prod.push(e);return r}function cb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let m_=!1;function Wv(r,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||_l[r]===e||_l[r]||m_)return;_l[r]=e;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=ub().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{m_=!0,d()},D}function T(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function R(){const D=cb(s),F=n("text"),$=document.getElementById(F)||document.createElement("span"),ie=n("learnmore"),W=document.getElementById(ie)||document.createElement("a"),_e=n("preprendIcon"),pe=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const oe=D.element;g(oe),T(W,ie);const we=_();p(pe,_e),oe.append(pe,$,W,we),document.body.appendChild(oe)}c?($.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function fb(){var r;const e=(r=Qc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function db(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pb(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yb(){return!fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _b(){try{return typeof indexedDB=="object"}catch{return!1}}function vb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="FirebaseError";class Hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Eb,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?Tb(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Hi(l,g,s)}}function Tb(r,e){return r.replace(Ab,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Ab=/\{\$([^}]+)}/g;function bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ns(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(g_(c)&&g_(d)){if(!Ns(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function g_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function dl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Sb(r,e){const n=new wb(r,e);return n.subscribe.bind(n)}class wb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Rb(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=_d),l.error===void 0&&(l.error=_d),l.complete===void 0&&(l.complete=_d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function _d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ob;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nb(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Cb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cb(r){return r===Ts?void 0:r}function Nb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ib(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const xb={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Ob=Oe.INFO,Vb={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Mb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=Vb[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class am{constructor(e){this.name=e,this._logLevel=Ob,this._logHandler=Mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const kb=(r,e)=>e.some(n=>r instanceof n);let p_,y_;function Pb(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ub(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,xd=new WeakMap,t0=new WeakMap,vd=new WeakMap,om=new WeakMap;function Lb(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(wr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&e0.set(n,r)}).catch(()=>{}),om.set(e,r),e}function jb(r){if(xd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});xd.set(r,e)}let Od={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return xd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||t0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zb(r){Od=r(Od)}function Bb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Ed(this),e,...n);return t0.set(s,e.sort?e.sort():[e]),wr(s)}:Ub().includes(r)?function(...e){return r.apply(Ed(this),e),wr(e0.get(this))}:function(...e){return wr(r.apply(Ed(this),e))}}function qb(r){return typeof r=="function"?Bb(r):(r instanceof IDBTransaction&&jb(r),kb(r,Pb())?new Proxy(r,Od):r)}function wr(r){if(r instanceof IDBRequest)return Lb(r);if(vd.has(r))return vd.get(r);const e=qb(r);return e!==r&&(vd.set(r,e),om.set(e,r)),e}const Ed=r=>om.get(r);function Hb(r,e,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=wr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(wr(d.result),p.oldVersion,p.newVersion,wr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Fb=["get","getKey","getAll","getAllKeys","count"],Gb=["put","add","delete","clear"],Td=new Map;function __(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Td.get(e))return Td.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=Gb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Fb.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Td.set(e,c),c}zb(r=>({...r,get:(e,n,s)=>__(e,n)||r.get(e,n,s),has:(e,n)=>!!__(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Kb(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vd="@firebase/app",v_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new am("@firebase/app"),Yb="@firebase/app-compat",Xb="@firebase/analytics-compat",$b="@firebase/analytics",Zb="@firebase/app-check-compat",Jb="@firebase/app-check",Wb="@firebase/auth",eS="@firebase/auth-compat",tS="@firebase/database",nS="@firebase/data-connect",iS="@firebase/database-compat",rS="@firebase/functions",sS="@firebase/functions-compat",aS="@firebase/installations",oS="@firebase/installations-compat",lS="@firebase/messaging",uS="@firebase/messaging-compat",cS="@firebase/performance",hS="@firebase/performance-compat",fS="@firebase/remote-config",dS="@firebase/remote-config-compat",mS="@firebase/storage",gS="@firebase/storage-compat",pS="@firebase/firestore",yS="@firebase/ai",_S="@firebase/firestore-compat",vS="firebase",ES="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",TS={[Vd]:"fire-core",[Yb]:"fire-core-compat",[$b]:"fire-analytics",[Xb]:"fire-analytics-compat",[Jb]:"fire-app-check",[Zb]:"fire-app-check-compat",[Wb]:"fire-auth",[eS]:"fire-auth-compat",[tS]:"fire-rtdb",[nS]:"fire-data-connect",[iS]:"fire-rtdb-compat",[rS]:"fire-fn",[sS]:"fire-fn-compat",[aS]:"fire-iid",[oS]:"fire-iid-compat",[lS]:"fire-fcm",[uS]:"fire-fcm-compat",[cS]:"fire-perf",[hS]:"fire-perf-compat",[fS]:"fire-rc",[dS]:"fire-rc-compat",[mS]:"fire-gcs",[gS]:"fire-gcs-compat",[pS]:"fire-fst",[_S]:"fire-fst-compat",[yS]:"fire-vertex","fire-js":"fire-js",[vS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,AS=new Map,kd=new Map;function E_(r,e){try{r.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ja(r){const e=r.name;if(kd.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,r);for(const n of Nc.values())E_(n,r);for(const n of AS.values())E_(n,r);return!0}function lm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Nn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Ml("app","Firebase",bS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=ES;function n0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Md,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(n||(n=$v()),!n)throw Rr.create("no-options");const c=Nc.get(l);if(c){if(Ns(n,c.options)&&Ns(s,c.config))return c;throw Rr.create("duplicate-app",{appName:l})}const d=new Db(l);for(const p of kd.values())d.addComponent(p);const g=new SS(n,s,d);return Nc.set(l,g),g}function i0(r=Md){const e=Nc.get(r);if(!e&&r===Md&&$v())return n0();if(!e)throw Rr.create("no-app",{appName:r});return e}function Ir(r,e,n){var s;let l=(s=TS[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(g.join(" "));return}ja(new Ds(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebase-heartbeat-database",RS=1,Rl="firebase-heartbeat-store";let Ad=null;function r0(){return Ad||(Ad=Hb(wS,RS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Rr.create("idb-open",{originalErrorMessage:r.message})})),Ad}async function IS(r){try{const n=(await r0()).transaction(Rl),s=await n.objectStore(Rl).get(s0(r));return await n.done,s}catch(e){if(e instanceof Hi)zi.warn(e.message);else{const n=Rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(n.message)}}}async function T_(r,e){try{const s=(await r0()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(e,s0(r)),await s.done}catch(n){if(n instanceof Hi)zi.warn(n.message);else{const s=Rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(s.message)}}}function s0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=1024,NS=30;class DS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=A_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>NS){const d=VS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:s,unsentEntries:l}=xS(this._heartbeatsCache.heartbeats),c=Cc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return zi.warn(n),""}}}function A_(){return new Date().toISOString().substring(0,10)}function xS(r,e=CS){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),b_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),b_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _b()?vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function b_(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function VS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){ja(new Ds("platform-logger",e=>new Qb(e),"PRIVATE")),ja(new Ds("heartbeat",e=>new DS(e),"PRIVATE")),Ir(Vd,v_,r),Ir(Vd,v_,"esm2017"),Ir("fire-js","")}MS("");var kS="firebase",PS="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(kS,PS,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,a0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function S(){}S.prototype=b.prototype,I.D=b.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(x,N,V){for(var w=Array(arguments.length-2),je=2;je<arguments.length;je++)w[je-2]=arguments[je];return b.prototype[N].apply(x,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,S){S||(S=0);var x=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)x[N]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(N=0;16>N;++N)x[N]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=I.g[0],S=I.g[1],N=I.g[2];var V=I.g[3],w=b+(V^S&(N^V))+x[0]+3614090360&4294967295;b=S+(w<<7&4294967295|w>>>25),w=V+(N^b&(S^N))+x[1]+3905402710&4294967295,V=b+(w<<12&4294967295|w>>>20),w=N+(S^V&(b^S))+x[2]+606105819&4294967295,N=V+(w<<17&4294967295|w>>>15),w=S+(b^N&(V^b))+x[3]+3250441966&4294967295,S=N+(w<<22&4294967295|w>>>10),w=b+(V^S&(N^V))+x[4]+4118548399&4294967295,b=S+(w<<7&4294967295|w>>>25),w=V+(N^b&(S^N))+x[5]+1200080426&4294967295,V=b+(w<<12&4294967295|w>>>20),w=N+(S^V&(b^S))+x[6]+2821735955&4294967295,N=V+(w<<17&4294967295|w>>>15),w=S+(b^N&(V^b))+x[7]+4249261313&4294967295,S=N+(w<<22&4294967295|w>>>10),w=b+(V^S&(N^V))+x[8]+1770035416&4294967295,b=S+(w<<7&4294967295|w>>>25),w=V+(N^b&(S^N))+x[9]+2336552879&4294967295,V=b+(w<<12&4294967295|w>>>20),w=N+(S^V&(b^S))+x[10]+4294925233&4294967295,N=V+(w<<17&4294967295|w>>>15),w=S+(b^N&(V^b))+x[11]+2304563134&4294967295,S=N+(w<<22&4294967295|w>>>10),w=b+(V^S&(N^V))+x[12]+1804603682&4294967295,b=S+(w<<7&4294967295|w>>>25),w=V+(N^b&(S^N))+x[13]+4254626195&4294967295,V=b+(w<<12&4294967295|w>>>20),w=N+(S^V&(b^S))+x[14]+2792965006&4294967295,N=V+(w<<17&4294967295|w>>>15),w=S+(b^N&(V^b))+x[15]+1236535329&4294967295,S=N+(w<<22&4294967295|w>>>10),w=b+(N^V&(S^N))+x[1]+4129170786&4294967295,b=S+(w<<5&4294967295|w>>>27),w=V+(S^N&(b^S))+x[6]+3225465664&4294967295,V=b+(w<<9&4294967295|w>>>23),w=N+(b^S&(V^b))+x[11]+643717713&4294967295,N=V+(w<<14&4294967295|w>>>18),w=S+(V^b&(N^V))+x[0]+3921069994&4294967295,S=N+(w<<20&4294967295|w>>>12),w=b+(N^V&(S^N))+x[5]+3593408605&4294967295,b=S+(w<<5&4294967295|w>>>27),w=V+(S^N&(b^S))+x[10]+38016083&4294967295,V=b+(w<<9&4294967295|w>>>23),w=N+(b^S&(V^b))+x[15]+3634488961&4294967295,N=V+(w<<14&4294967295|w>>>18),w=S+(V^b&(N^V))+x[4]+3889429448&4294967295,S=N+(w<<20&4294967295|w>>>12),w=b+(N^V&(S^N))+x[9]+568446438&4294967295,b=S+(w<<5&4294967295|w>>>27),w=V+(S^N&(b^S))+x[14]+3275163606&4294967295,V=b+(w<<9&4294967295|w>>>23),w=N+(b^S&(V^b))+x[3]+4107603335&4294967295,N=V+(w<<14&4294967295|w>>>18),w=S+(V^b&(N^V))+x[8]+1163531501&4294967295,S=N+(w<<20&4294967295|w>>>12),w=b+(N^V&(S^N))+x[13]+2850285829&4294967295,b=S+(w<<5&4294967295|w>>>27),w=V+(S^N&(b^S))+x[2]+4243563512&4294967295,V=b+(w<<9&4294967295|w>>>23),w=N+(b^S&(V^b))+x[7]+1735328473&4294967295,N=V+(w<<14&4294967295|w>>>18),w=S+(V^b&(N^V))+x[12]+2368359562&4294967295,S=N+(w<<20&4294967295|w>>>12),w=b+(S^N^V)+x[5]+4294588738&4294967295,b=S+(w<<4&4294967295|w>>>28),w=V+(b^S^N)+x[8]+2272392833&4294967295,V=b+(w<<11&4294967295|w>>>21),w=N+(V^b^S)+x[11]+1839030562&4294967295,N=V+(w<<16&4294967295|w>>>16),w=S+(N^V^b)+x[14]+4259657740&4294967295,S=N+(w<<23&4294967295|w>>>9),w=b+(S^N^V)+x[1]+2763975236&4294967295,b=S+(w<<4&4294967295|w>>>28),w=V+(b^S^N)+x[4]+1272893353&4294967295,V=b+(w<<11&4294967295|w>>>21),w=N+(V^b^S)+x[7]+4139469664&4294967295,N=V+(w<<16&4294967295|w>>>16),w=S+(N^V^b)+x[10]+3200236656&4294967295,S=N+(w<<23&4294967295|w>>>9),w=b+(S^N^V)+x[13]+681279174&4294967295,b=S+(w<<4&4294967295|w>>>28),w=V+(b^S^N)+x[0]+3936430074&4294967295,V=b+(w<<11&4294967295|w>>>21),w=N+(V^b^S)+x[3]+3572445317&4294967295,N=V+(w<<16&4294967295|w>>>16),w=S+(N^V^b)+x[6]+76029189&4294967295,S=N+(w<<23&4294967295|w>>>9),w=b+(S^N^V)+x[9]+3654602809&4294967295,b=S+(w<<4&4294967295|w>>>28),w=V+(b^S^N)+x[12]+3873151461&4294967295,V=b+(w<<11&4294967295|w>>>21),w=N+(V^b^S)+x[15]+530742520&4294967295,N=V+(w<<16&4294967295|w>>>16),w=S+(N^V^b)+x[2]+3299628645&4294967295,S=N+(w<<23&4294967295|w>>>9),w=b+(N^(S|~V))+x[0]+4096336452&4294967295,b=S+(w<<6&4294967295|w>>>26),w=V+(S^(b|~N))+x[7]+1126891415&4294967295,V=b+(w<<10&4294967295|w>>>22),w=N+(b^(V|~S))+x[14]+2878612391&4294967295,N=V+(w<<15&4294967295|w>>>17),w=S+(V^(N|~b))+x[5]+4237533241&4294967295,S=N+(w<<21&4294967295|w>>>11),w=b+(N^(S|~V))+x[12]+1700485571&4294967295,b=S+(w<<6&4294967295|w>>>26),w=V+(S^(b|~N))+x[3]+2399980690&4294967295,V=b+(w<<10&4294967295|w>>>22),w=N+(b^(V|~S))+x[10]+4293915773&4294967295,N=V+(w<<15&4294967295|w>>>17),w=S+(V^(N|~b))+x[1]+2240044497&4294967295,S=N+(w<<21&4294967295|w>>>11),w=b+(N^(S|~V))+x[8]+1873313359&4294967295,b=S+(w<<6&4294967295|w>>>26),w=V+(S^(b|~N))+x[15]+4264355552&4294967295,V=b+(w<<10&4294967295|w>>>22),w=N+(b^(V|~S))+x[6]+2734768916&4294967295,N=V+(w<<15&4294967295|w>>>17),w=S+(V^(N|~b))+x[13]+1309151649&4294967295,S=N+(w<<21&4294967295|w>>>11),w=b+(N^(S|~V))+x[4]+4149444226&4294967295,b=S+(w<<6&4294967295|w>>>26),w=V+(S^(b|~N))+x[11]+3174756917&4294967295,V=b+(w<<10&4294967295|w>>>22),w=N+(b^(V|~S))+x[2]+718787259&4294967295,N=V+(w<<15&4294967295|w>>>17),w=S+(V^(N|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}s.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var S=b-this.blockSize,x=this.B,N=this.h,V=0;V<b;){if(N==0)for(;V<=S;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<b;)if(x[N++]=I.charCodeAt(V++),N==this.blockSize){l(this,x),N=0;break}}else for(;V<b;)if(x[N++]=I[V++],N==this.blockSize){l(this,x),N=0;break}}this.h=N,this.o+=b},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var S=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=S&255,S/=256;for(this.u(I),I=Array(16),b=S=0;4>b;++b)for(var x=0;32>x;x+=8)I[S++]=this.g[b]>>>x&255;return I};function c(I,b){var S=g;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=b(I)}function d(I,b){this.h=b;for(var S=[],x=!0,N=I.length-1;0<=N;N--){var V=I[N]|0;x&&V==b||(S[N]=V,x=!1)}this.g=S}var g={};function p(I){return-128<=I&&128>I?c(I,function(b){return new d([b|0],0>b?-1:0)}):new d([I|0],0>I?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return R;if(0>I)return W(_(-I));for(var b=[],S=1,x=0;I>=S;x++)b[x]=I/S|0,S*=4294967296;return new d(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return W(T(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(b,8)),x=R,N=0;N<I.length;N+=8){var V=Math.min(8,I.length-N),w=parseInt(I.substring(N,N+V),b);8>V?(V=_(Math.pow(b,V)),x=x.j(V).add(_(w))):(x=x.j(S),x=x.add(_(w)))}return x}var R=p(0),D=p(1),F=p(16777216);r=d.prototype,r.m=function(){if(ie(this))return-W(this).m();for(var I=0,b=1,S=0;S<this.g.length;S++){var x=this.i(S);I+=(0<=x?x:4294967296+x)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(ie(this))return"-"+W(this).toString(I);for(var b=_(Math.pow(I,6)),S=this,x="";;){var N=we(S,b).g;S=_e(S,N.j(b));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=N,$(S))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function ie(I){return I.h==-1}r.l=function(I){return I=_e(this,I),ie(I)?-1:$(I)?0:1};function W(I){for(var b=I.g.length,S=[],x=0;x<b;x++)S[x]=~I.g[x];return new d(S,~I.h).add(D)}r.abs=function(){return ie(this)?W(this):this},r.add=function(I){for(var b=Math.max(this.g.length,I.g.length),S=[],x=0,N=0;N<=b;N++){var V=x+(this.i(N)&65535)+(I.i(N)&65535),w=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);x=w>>>16,V&=65535,w&=65535,S[N]=w<<16|V}return new d(S,S[S.length-1]&-2147483648?-1:0)};function _e(I,b){return I.add(W(b))}r.j=function(I){if($(this)||$(I))return R;if(ie(this))return ie(I)?W(this).j(W(I)):W(W(this).j(I));if(ie(I))return W(this.j(W(I)));if(0>this.l(F)&&0>I.l(F))return _(this.m()*I.m());for(var b=this.g.length+I.g.length,S=[],x=0;x<2*b;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<I.g.length;N++){var V=this.i(x)>>>16,w=this.i(x)&65535,je=I.i(N)>>>16,ze=I.i(N)&65535;S[2*x+2*N]+=w*ze,pe(S,2*x+2*N),S[2*x+2*N+1]+=V*ze,pe(S,2*x+2*N+1),S[2*x+2*N+1]+=w*je,pe(S,2*x+2*N+1),S[2*x+2*N+2]+=V*je,pe(S,2*x+2*N+2)}for(x=0;x<b;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=b;x<2*b;x++)S[x]=0;return new d(S,0)};function pe(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function oe(I,b){this.g=I,this.h=b}function we(I,b){if($(b))throw Error("division by zero");if($(I))return new oe(R,R);if(ie(I))return b=we(W(I),b),new oe(W(b.g),W(b.h));if(ie(b))return b=we(I,W(b)),new oe(W(b.g),b.h);if(30<I.g.length){if(ie(I)||ie(b))throw Error("slowDivide_ only works with positive integers.");for(var S=D,x=b;0>=x.l(I);)S=me(S),x=me(x);var N=Ae(S,1),V=Ae(x,1);for(x=Ae(x,2),S=Ae(S,2);!$(x);){var w=V.add(x);0>=w.l(I)&&(N=N.add(S),V=w),x=Ae(x,1),S=Ae(S,1)}return b=_e(I,N.j(b)),new oe(N,b)}for(N=R;0<=I.l(b);){for(S=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=_(S),w=V.j(b);ie(w)||0<w.l(I);)S-=x,V=_(S),w=V.j(b);$(V)&&(V=D),N=N.add(V),I=_e(I,w)}return new oe(N,I)}r.A=function(I){return we(this,I).h},r.and=function(I){for(var b=Math.max(this.g.length,I.g.length),S=[],x=0;x<b;x++)S[x]=this.i(x)&I.i(x);return new d(S,this.h&I.h)},r.or=function(I){for(var b=Math.max(this.g.length,I.g.length),S=[],x=0;x<b;x++)S[x]=this.i(x)|I.i(x);return new d(S,this.h|I.h)},r.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),S=[],x=0;x<b;x++)S[x]=this.i(x)^I.i(x);return new d(S,this.h^I.h)};function me(I){for(var b=I.g.length+1,S=[],x=0;x<b;x++)S[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(S,I.h)}function Ae(I,b){var S=b>>5;b%=32;for(var x=I.g.length-S,N=[],V=0;V<x;V++)N[V]=0<b?I.i(V+S)>>>b|I.i(V+S+1)<<32-b:I.i(V+S);return new d(N,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,a0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Cr=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o0,ml,l0,vc,Pd,u0,c0,h0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)e:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in y))break e;y=y[U]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,U={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,D.apply(null,arguments)}function F(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,U,q){for(var ee=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ee[Ve-2]=arguments[Ve];return m.prototype[U].apply(A,ee)}}function ie(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function W(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const U=u.length||0,q=A.length||0;u.length=U+q;for(let ee=0;ee<q;ee++)u[U+ee]=A[ee]}else u.push(A)}}class _e{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pe(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function we(u){return we[" "](u),u}we[" "]=function(){};var me=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Ae(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function I(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let y,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(y in A)u[y]=A[y];for(let q=0;q<S.length;q++)y=S[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function N(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function V(u){g.setTimeout(()=>{throw u},0)}function w(){var u=qe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class je{constructor(){this.h=this.g=null}add(m,y){const A=ze.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var ze=new _e(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,le=!1,qe=new je,M=()=>{const u=g.Promise.resolve(void 0);te=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){V(y)}var m=ze;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Ie(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(me){e:{try{we(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}$(Ie,J);var ve={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),We=0;function Bn(u,m,y,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=U,this.key=++We,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,y,A,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ee=jr(u,m,A,U);return-1<ee?(m=u[ee],y||(m.fa=!1)):(m=new Bn(m,this.src,q,!!A,U),m.fa=y,u.push(m)),m};function Lr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(A,U,1),q&&(Fi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function jr(u,m,y,A){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return U}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),to={};function Hl(u,m,y,A,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Hl(u,m[q],y,A,U);return null}return y=Fl(y),u&&u[Nt]?u.K(m,y,_(A)?!!A.capture:!1,U):pn(u,m,y,!1,A,U)}function pn(u,m,y,A,U,q){if(!m)throw Error("Invalid event type");var ee=_(U)?!!U.capture:!!U,Ve=Ls(u);if(Ve||(u[zr]=Ve=new hi(u)),y=Ve.add(m,y,A,ee,q),y.proxy)return y;if(A=hh(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ce||(U=ee),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Br(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function hh(){function u(y){return m.call(u.src,u.listener,y)}const m=fh;return u}function no(u,m,y,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)no(u,m[q],y,A,U);else A=_(A)?!!A.capture:!!A,y=Fl(y),u&&u[Nt]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=jr(q,y,A,U),-1<y&&(Fi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jr(m,y,A,U)),(y=-1<u?m[u]:null)&&Us(y))}function Us(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])Lr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Br(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=Ls(m))?(Lr(y,u),y.h==0&&(y.src=null,m[zr]=null)):Fi(u)}}}function Br(u){return u in to?to[u]:to[u]="on"+u}function fh(u,m){if(u.da)u=!0;else{m=new Ie(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Us(u),u=y.call(A,m)}return u}function Ls(u){return u=u[zr],u instanceof hi?u:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fl(u){return typeof u=="function"?u:(u[io]||(u[io]=function(m){return u.handleEvent(m)}),u[io])}function ot(){ne.call(this),this.i=new hi(this),this.M=this,this.F=null}$(ot,ne),ot.prototype[Nt]=!0,ot.prototype.removeEventListener=function(u,m,y,A){no(this,u,m,y,A)};function Ge(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var U=m;m=new J(A,u),x(m,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var ee=m.g=y[q];U=on(ee,A,!0,m)&&U}if(ee=m.g=u,U=on(ee,A,!0,m)&&U,U=on(ee,A,!1,m)&&U,y)for(q=0;q<y.length;q++)ee=m.g=y[q],U=on(ee,A,!1,m)&&U}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)Fi(y[A]);delete u.g[m],u.h--}}this.F=null},ot.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},ot.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function on(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var ee=m[q];if(ee&&!ee.da&&ee.capture==y){var Ve=ee.listener,bt=ee.ha||ee.src;ee.fa&&Lr(u.i,ee),U=Ve.call(bt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ht(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Gl(u){u.g=Ht(()=>{u.g=null,u.i&&(u.i=!1,Gl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class dh extends ne{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(u){ne.call(this),this.h=u,this.g={}}$(qr,ne);var Hr=[];function Fr(u){Ae(u.g,function(m,y){this.g.hasOwnProperty(y)&&Us(m)},u),u.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Fr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,js=g.JSON.parse,Gr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ro(){}ro.prototype.h=null;function so(u){return u.h||(u.h=u.i())}function ao(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){J.call(this,"d")}$(di,J);function oo(){J.call(this,"c")}$(oo,J);var qn={},lo=null;function Gi(){return lo=lo||new ot}qn.La="serverreachability";function zs(u){J.call(this,qn.La,u)}$(zs,J);function Qi(u){const m=Gi();Ge(m,new zs(m))}qn.STAT_EVENT="statevent";function Ql(u,m){J.call(this,qn.STAT_EVENT,u),this.stat=m}$(Ql,J);function nt(u){const m=Gi();Ge(m,new Ql(m,u))}qn.Ma="timingevent";function At(u,m){J.call(this,qn.Ma,u),this.size=m}$(At,J);function gt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function uo(u,m,y,A,U,q){u.info(function(){if(u.g)if(q)for(var ee="",Ve=q.split("&"),bt=0;bt<Ve.length;bt++){var Me=Ve[bt].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var St=xt.split("_");ee=2<=St.length&&St[1]=="type"?ee+(xt+"="+Me+"&"):ee+(xt+"=redacted&")}}else ee=null;else ee=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+y+`
`+ee})}function mh(u,m,y,A,U,q,ee){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+ee})}function Ki(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qr(u,y)+(A?" "+A:"")})}function Kl(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Qr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ee=1;ee<U.length;ee++)U[ee]=""}}}}return On(y)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Fn(){}$(Fn,ro),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Hn=new Fn;function Zt(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var co={},Bs={};function Vn(u,m,y){u.L=1,u.v=Zr(ln(m)),u.m=y,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Kr(u),u.A=ln(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),yo(y.i,"t",A),u.C=0,y=u.j.J,u.h=new ct,u.g=uu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new dh(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Hr[0]=U.toString()),U=Hr);for(var q=0;q<U.length;q++){var ee=Hl(y,U[q],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),uo(u.i,u.u,u.A,u.l,u.R,u.m)}Zt.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Zt.prototype.Y=function(u){try{if(u==this.g)e:{const St=Tn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||tu(this.g)))){this.J||St!=4||m==7||(m==8||0>=bi?Qi(3):Qi(2)),Xi(this);var y=this.g.Z();this.X=y;t:if(Yl(this)){var A=tu(this.g);u="";var U=A.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Gn(this);var ee="";break t}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,mh(this.i,this.u,this.A,this.l,this.R,St,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,bt=this.g;if((Ve=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Ve)){var Me=Ve;break t}}Me=null}if(y=Me)Ki(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,y);else{this.o=!1,this.s=3,nt(12),Pt(this),Gn(this);break e}}if(this.P){y=!0;let Ut;for(;!this.J&&this.C<ee.length;)if(Ut=Xl(this,ee),Ut==Bs){St==4&&(this.s=4,nt(14),y=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==co){this.s=4,nt(15),Ki(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else Ki(this.i,this.l,Ut,null),Yr(this,Ut);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)Ki(this.i,this.l,ee,"[Invalid Chunked Response]"),Pt(this),Gn(this);else if(0<ee.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ss(xt),xt.M=!0,nt(11))}}else Ki(this.i,this.l,ee,null),Yr(this,ee);St==4&&Pt(this),this.o&&!this.J&&(St==4?au(this.j,this):(this.o=!1,Kr(this)))}else vh(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Pt(this),Gn(this)}}}catch{}finally{}};function Yl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xl(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Bs:(y=Number(m.substring(y,A)),isNaN(y)?co:(A+=1,A+y>m.length?Bs:(m=m.slice(A,A+y),u.C=A+y,m)))}Zt.prototype.cancel=function(){this.J=!0,Pt(this)};function Kr(u){u.S=Date.now()+u.I,$l(u,u.I)}function $l(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gt(D(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Zt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kl(this.i,this.A),this.L!=2&&(Qi(),nt(17)),Pt(this),this.s=2,Gn(this)):$l(this,this.S-u)};function Gn(u){u.j.G==0||u.J||au(u.j,u)}function Pt(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Fr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ho(y.h,u))){if(!u.K&&ho(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ws(y),Zs(y);else break e;Ao(y),nt(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=gt(D(y.Za,y),6e3));if(1>=Hs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ai(y,11)}else if((u.K||y.g==u)&&Ws(y),!pe(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Me=U[m];if(y.T=Me[0],Me=Me[1],y.G==2)if(Me[0]=="c"){y.K=Me[1],y.ia=Me[2];const xt=Me[3];xt!=null&&(y.la=xt,y.j.info("VER="+y.la));const St=Me[4];St!=null&&(y.Aa=St,y.j.info("SVER="+y.Aa));const bi=Me[5];bi!=null&&typeof bi=="number"&&0<bi&&(A=1.5*bi,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Ut=u.g;if(Ut){const Jn=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var q=A.h;q.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Fs(q,q.h),q.h=null))}if(A.D){const So=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(A.ya=So,Ye(A.I,A.D,So))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var ee=u;if(A.qa=lu(A,A.J?A.ia:null,A.W),ee.K){Jt(A.h,ee);var Ve=ee,bt=A.L;bt&&(Ve.I=bt),Ve.B&&(Xi(Ve),Kr(Ve)),A.g=ee}else ru(A);0<y.i.length&&Js(y)}else Me[0]!="stop"&&Me[0]!="close"||Ai(y,7);else y.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ai(y,7):Eo(y):Me[0]!="noop"&&y.l&&y.l.ta(Me),y.v=0)}}Qi(4)}catch{}}var Zl=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function ho(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fs(u,m){u.g?u.g.add(m):u.h=m}function Jt(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return ie(u.i)}function gh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Gs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function mo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Gs(u),A=gh(u),U=A.length,q=0;q<U;q++)m.call(void 0,A[q],y&&y[q],u)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),U=null;if(0<=A){var q=u[y].substring(0,A);U=u[y].substring(A+1)}else q=u[y];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pt){this.h=u.h,$r(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,y=new _i;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),yi(this,y),this.m=u.m}else u&&(m=String(u).match(Xr))?(this.h=!1,$r(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),$i(this,m[4]),this.l=_n(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}pt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Jr(m,go,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Jr(m,go,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Jr(y,y.charAt(0)=="/"?yh:po,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Jr(y,Qs)),u.join("")};function ln(u){return new pt(u)}function $r(u,m,y){u.j=y?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,y){m instanceof _i?(u.i=m,Wl(u.i,u.h)):(y||(m=Jr(m,_h)),u.i=new _i(m,u.h))}function Ye(u,m,y){u.i.set(m,y)}function Zr(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Jl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var go=/[#\/\?@]/g,po=/[#\?:]/g,yh=/[#\?]/g,_h=/[#\?@]/g,Qs=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&ph(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=_i.prototype,r.add=function(u,m){vn(this),this.i=null,u=Qn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function vi(u,m){vn(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return vn(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(y,A){y.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const U=u[A];for(let q=0;q<U.length;q++)y.push(m[A])}return y},r.V=function(u){vn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return vn(this),this.i=null,u=Qn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yo(u,m,y){vi(u,m),0<y.length&&(u.i=null,u.g.set(Qn(u,m),ie(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),ee=this.V(A);for(A=0;A<ee.length;A++){var U=q;ee[A]!==""&&(U+="="+encodeURIComponent(String(ee[A]))),u.push(U)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wl(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(y,A){var U=A.toLowerCase();A!=U&&(vi(this,A),yo(this,U,y))},u)),u.j=m}function Wr(u,m){const y=new yn;if(g.Image){const A=new Image;A.onload=F(En,y,"TestLoadImage: loaded",!0,m,A),A.onerror=F(En,y,"TestLoadImage: error",!1,m,A),A.onabort=F(En,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=F(En,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Mn(u,m){const y=new yn,A=new AbortController,U=setTimeout(()=>{A.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(y)}catch{}}function es(){this.g=new Gr}function Kn(u,m,y){const A=y||"";try{mo(u,function(U,q){let ee=U;_(U)&&(ee=On(U)),m.push(A+q+"="+encodeURIComponent(ee))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Zi,ro),Zi.prototype.g=function(){return new Ti(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){ot.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ti,ot),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&_o(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vo(u){let m="";return Ae(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Dt(u,m,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=vo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ye(u,m,y))}function Fe(u){ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Fe,ot);var Ks=/^https?$/i,ts=["POST","PUT"];r=Fe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?so(this.o):so(Hn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){eu(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)y.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ts,m,void 0))||A||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of y)this.g.setRequestHeader(q,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){eu(this,q)}};function eu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ys(u),$n(u)}function Ys(u){u.A||(u.A=!0,Ge(u,"complete"),Ge(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ge(this,"complete"),Ge(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},r.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ht(u.Ea,0,u);else if(Ge(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var A;if(A=ee===0){var U=String(u.D).match(Xr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Ks.test(U?U.toLowerCase():"")}y=A}if(y)Ge(u,"complete"),Ge(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ys(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){ns(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ge(u,"ready");try{y.onreadystatechange=A}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),js(m)}};function tu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vh(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(pe(u[A]))continue;var y=N(u[A]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}I(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function $s(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new es,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$s.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){nt(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=lu(this,null,this.W),Js(this)};function Eo(u){if(nu(u),u.G==3){var m=u.U++,y=ln(u.I);if(Ye(y,"SID",u.K),Ye(y,"RID",m),Ye(y,"TYPE","terminate"),rs(u,y),m=new Zt(u,u.j,m),m.L=2,m.v=Zr(ln(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Kr(m)}ou(u)}function Zs(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function nu(u){Zs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Js(u){if(!qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;te||M(),le||(te(),le=!0),qe.add(m,u),u.B=0}}function Eh(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gt(D(u.Ga,u,m),bo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Zt(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=iu(this,U,m),y=ln(this.I),Ye(y,"RID",u),Ye(y,"CVER",22),this.D&&Ye(y,"X-HTTP-Session-Id",this.D),rs(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(vo(q)))+"&"+m:this.m&&Dt(y,this.m,q)),Fs(this.h,U),this.Ua&&Ye(y,"TYPE","init"),this.P?(Ye(y,"$req",m),Ye(y,"SID","null"),U.T=!0,Vn(U,y,null)):Vn(U,y,m),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||qs(this.h)||To(this))};function To(u,m){var y;m?y=m.l:y=u.U++;const A=ln(u.I);Ye(A,"SID",u.K),Ye(A,"RID",y),Ye(A,"AID",u.T),rs(u,A),u.m&&u.o&&Dt(A,u.m,u.o),y=new Zt(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=iu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fs(u.h,y),Vn(y,A,m)}function rs(u,m){u.H&&Ae(u.H,function(y,A){Ye(m,A,y)}),u.l&&mo({},function(y,A){Ye(m,A,y)})}function iu(u,m,y){y=Math.min(u.i.length,y);var A=u.l?D(u.l.Na,u.l,u):null;e:{var U=u.i;let q=-1;for(;;){const ee=["count="+y];q==-1?0<y?(q=U[0].g,ee.push("ofs="+q)):q=0:ee.push("ofs="+q);let Ve=!0;for(let bt=0;bt<y;bt++){let Me=U[bt].g;const xt=U[bt].map;if(Me-=q,0>Me)q=Math.max(0,U[bt].g-100),Ve=!1;else try{Kn(xt,ee,"req"+Me+"_")}catch{A&&A(xt)}}if(Ve){A=ee.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,A}function ru(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;te||M(),le||(te(),le=!0),qe.add(m,u),u.v=0}}function Ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gt(D(u.Fa,u),bo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gt(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Zs(this),su(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function su(u){u.g=new Zt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&Dt(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Zr(ln(m)),y.m=null,y.P=!0,gi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Zs(this),Ao(this),nt(19))};function Ws(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function au(u,m){var y=null;if(u.g==m){Ws(u),ss(u),u.g=null;var A=2}else if(ho(u.h,m))y=m.D,Jt(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Gi(),Ge(A,new At(A,y)),Js(u)}else ru(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Eh(u,m)||A==2&&Ao(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function bo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),A=u.Xa;const U=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$r(A,"https"),Zr(A),U?Wr(A.toString(),y):Mn(A.toString(),y)}else nt(2);u.G=0,u.l&&u.l.sa(m),ou(u),nu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function ou(u){if(u.G=0,u.ka=[],u.l){const m=fo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,ie(u.i),u.i.length=0),u.l.ra()}}function lu(u,m,y){var A=y instanceof pt?ln(y):new pt(y);if(A.g!="")m&&(A.g=m+"."+A.g),$i(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new pt(null);A&&$r(q,A),m&&(q.g=m),U&&$i(q,U),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Ye(A,y,m),Ye(A,"VER",u.la),rs(u,A),A}function uu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Fe(new Zi({eb:y})):new Fe(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ea(){}ea.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){ot.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pe(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pe(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}$(Wt,ot),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Eo(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=On(u),u=y);m.i.push(new Zl(m.Ya++,u)),m.G==3&&Js(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Wt.aa.N.call(this)};function hu(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(hu,di);function fu(){oo.call(this),this.status=1}$(fu,oo);function Zn(u){this.g=u}$(Zn,cu),Zn.prototype.ua=function(){Ge(this.g,"a")},Zn.prototype.ta=function(u){Ge(this.g,new hu(u))},Zn.prototype.sa=function(u){Ge(this.g,new fu)},Zn.prototype.ra=function(){Ge(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,h0=function(){return new ea},c0=function(){return Gi()},u0=qn,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,vc=Yi,mi.COMPLETE="complete",l0=mi,ao.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ml=ao,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,o0=Fe}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",R_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new am("@firebase/firestore");function Na(){return xs.logLevel}function re(r,...e){if(xs.logLevel<=Oe.DEBUG){const n=e.map(um);xs.debug(`Firestore (${Xa}): ${r}`,...n)}}function Bi(r,...e){if(xs.logLevel<=Oe.ERROR){const n=e.map(um);xs.error(`Firestore (${Xa}): ${r}`,...n)}}function Dr(r,...e){if(xs.logLevel<=Oe.WARN){const n=e.map(um);xs.warn(`Firestore (${Xa}): ${r}`,...n)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,f0(r,s,n)}function f0(r,e,n){let s=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Bi(s),new Error(s)}function at(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||f0(e,l,s)}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class LS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jS{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ws,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ws)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new d0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class zS{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BS{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new zS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const s=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=HS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=e.charAt(l[c]%62))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function Ud(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),l=e.codePointAt(n);if(s!==l){if(s<128&&l<128)return Ne(s,l);{const c=m0(),d=FS(c.encode(C_(r,n)),c.encode(C_(e,n)));return d!==0?d:Ne(s,l)}}n+=s>65535?2:1}return Ne(r.length,e.length)}function C_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function FS(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ne(r[n],e[n]);return Ne(r.length,e.length)}function za(r,e,n){return r.length===e.length&&r.every((s,l)=>n(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=ri.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ne(e.length,n.length)}static compareSegments(e,n){const s=ri.isNumericId(e),l=ri.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(e).compare(ri.extractNumericId(n)):Ud(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}}class tt extends ri{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const GS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends ri{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return GS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new Xt([N_])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new se(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new se(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new se(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(tt.fromString(e))}static fromName(e){return new he(tt.fromString(e).popFirst(5))}static empty(){return new he(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r,e,n){if(!n)throw new se(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function QS(r,e,n,s){if(e===!0&&s===!0)throw new se(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D_(r){if(!he.isDocumentKey(r))throw new se(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function p0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Rs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kc(r);throw new se(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Pl(r,e){if(!p0(r))throw new se(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new se(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-62135596800,O_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*O_);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x_)throw new se(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pl(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Tt("string",rt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new rt(0,0))}static max(){return new Ee(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function KS(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new xr(l,he.empty(),e)}function YS(r){return new xr(r.readTime,r.key,Il)}class xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new xr(Ee.min(),he.empty(),Il)}static max(){return new xr(Ee.max(),he.empty(),Il)}}function XS(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(r.documentKey,e.documentKey),n!==0?n:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==$S)throw r;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,s)=>{n(e)})}static reject(e){return new Y((n,s)=>{s(e)})}static waitFor(e){return new Y((n,s)=>{let l=0,c=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(e){let n=Y.resolve(!1);for(const s of e)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(e,n){return new Y((s,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(e[_]).next(T=>{d[_]=T,++g,g===c&&s(d)},T=>l(T))}})}static doWhile(e,n){return new Y((s,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):s()};c()})}}function JS(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $a(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=-1;function $c(r){return r==null}function Dc(r){return r===0&&1/r==-1/0}function e1(r){return typeof r=="number"&&Number.isInteger(r)&&!Dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="";function t1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=V_(e)),e=n1(r.get(n),e);return V_(e)}function n1(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case y0:n+="";break;default:n+=c}}return n}function V_(r){return r+y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Za(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function _0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=l??Bt.EMPTY,this.right=c??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new Bt(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Bt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,l,c){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new br([])}unionWith(e){let n=new Ct(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v0("Invalid base64 string: "+c):c}}(e);return new qt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const i1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(at(!!r,39018),typeof r=="string"){let e=0;const n=i1.exec(r);if(at(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="server_timestamp",T0="__type__",A0="__previous_value__",b0="__local_write_time__";function hm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[T0])===null||n===void 0?void 0:n.stringValue)===E0}function Zc(r){const e=r.mapValue.fields[A0];return hm(e)?Zc(e):e}function Cl(r){const e=Or(r.mapValue.fields[b0].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,s,l,c,d,g,p,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const xc="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||xc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===xc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__type__",s1="__max__",gc={mapValue:{}},w0="__vector__",Oc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hm(r)?4:o1(r)?9007199254740991:a1(r)?10:11:Te(28295,{value:r})}function ci(r,e){if(r===e)return!0;const n=Mr(r);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cl(r).isEqual(Cl(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Or(l.timestampValue),g=Or(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,c){return dt(l.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(l.geoPointValue.longitude)===dt(c.geoPointValue.longitude)}(r,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return dt(l.integerValue)===dt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=dt(l.doubleValue),g=dt(c.doubleValue);return d===g?Dc(d)===Dc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return za(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(M_(d)!==M_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ci(d[p],g[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Dl(r,e){return(r.values||[]).find(n=>ci(n,e))!==void 0}function Ba(r,e){if(r===e)return 0;const n=Mr(r),s=Mr(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=dt(c.integerValue||c.doubleValue),p=dt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return P_(r.timestampValue,e.timestampValue);case 4:return P_(Cl(r),Cl(e));case 5:return Ud(r.stringValue,e.stringValue);case 6:return function(c,d){const g=Vr(c),p=Vr(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Ne(g[_],p[_]);if(T!==0)return T}return Ne(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ne(dt(c.latitude),dt(d.latitude));return g!==0?g:Ne(dt(c.longitude),dt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return U_(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,_,T;const R=c.fields||{},D=d.fields||{},F=(g=R[Oc])===null||g===void 0?void 0:g.arrayValue,$=(p=D[Oc])===null||p===void 0?void 0:p.arrayValue,ie=Ne(((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0,((T=$==null?void 0:$.values)===null||T===void 0?void 0:T.length)||0);return ie!==0?ie:U_(F,$)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===gc.mapValue&&d===gc.mapValue)return 0;if(c===gc.mapValue)return 1;if(d===gc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const D=Ud(p[R],T[R]);if(D!==0)return D;const F=Ba(g[p[R]],_[T[R]]);if(F!==0)return F}return Ne(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function P_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const n=Or(r),s=Or(e),l=Ne(n.seconds,s.seconds);return l!==0?l:Ne(n.nanos,s.nanos)}function U_(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ba(n[l],s[l]);if(c)return c}return Ne(n.length,s.length)}function qa(r){return Ld(r)}function Ld(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Vr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return he.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ld(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Ld(n.fields[d])}`;return l+"}"}(r.mapValue):Te(61005,{value:r})}function Ec(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(r);return e?16+Ec(e):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Ec(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Za(s.fields,(c,d)=>{l+=c.length+Ec(d)}),l}(r.mapValue);default:throw Te(13486,{value:r})}}function L_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jd(r){return!!r&&"integerValue"in r}function fm(r){return!!r&&"arrayValue"in r}function j_(r){return!!r&&"nullValue"in r}function z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bd(r){return!!r&&"mapValue"in r}function a1(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[S0])===null||n===void 0?void 0:n.stringValue)===w0}function vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Za(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=vl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function o1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===s1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Xt.emptyPath(),s={},l=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=vl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];bd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Za(n,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new si(vl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,l,c,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Yt(e,0,Ee.min(),Ee.min(),Ee.min(),si.empty(),0)}static newFoundDocument(e,n,s,l){return new Yt(e,1,n,Ee.min(),s,l,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ee.min(),Ee.min(),si.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ee.min(),Ee.min(),si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.position=e,this.inclusive=n}}function B_(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=he.comparator(he.fromName(d.referenceValue),n.key):s=Ba(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function q_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function l1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class Et extends R0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new c1(e,n,s):n==="array-contains"?new d1(e,s):n==="in"?new m1(e,s):n==="not-in"?new g1(e,s):n==="array-contains-any"?new p1(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new h1(e,s):new f1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ba(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends R0{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new zn(e,n)}matches(e){return I0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function I0(r){return r.op==="and"}function C0(r){return u1(r)&&I0(r)}function u1(r){for(const e of r.filters)if(e instanceof zn)return!1;return!0}function zd(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(C0(r))return r.filters.map(e=>zd(e)).join(",");{const e=r.filters.map(n=>zd(n)).join(",");return`${r.op}(${e})`}}function N0(r,e){return r instanceof Et?function(s,l){return l instanceof Et&&s.op===l.op&&s.field.isEqual(l.field)&&ci(s.value,l.value)}(r,e):r instanceof zn?function(s,l){return l instanceof zn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&N0(d,l.filters[g]),!0):!1}(r,e):void Te(19439)}function D0(r){return r instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(r):r instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(D0).join(" ,")+"}"}(r):"Filter"}class c1 extends Et{constructor(e,n,s){super(e,n,s),this.key=he.fromName(s.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class h1 extends Et{constructor(e,n){super(e,"in",n),this.keys=x0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f1 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=x0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function x0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>he.fromName(s.referenceValue))}class d1 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fm(n)&&Dl(n.arrayValue,this.value)}}class m1 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class g1 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dl(this.value.arrayValue,n)}}class p1 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n=null,s=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function H_(r,e=null,n=[],s=[],l=null,c=null,d=null){return new y1(r,e,n,s,l,c,d)}function dm(r){const e=Ue(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zd(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>qa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>qa(s)).join(",")),e.Pe=n}return e.Pe}function mm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!l1(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!N0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!q_(r.startAt,e.startAt)&&q_(r.endAt,e.endAt)}function Bd(r){return he.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function _1(r,e,n,s,l,c,d,g){return new Ja(r,e,n,s,l,c,d,g)}function Jc(r){return new Ja(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O0(r){return r.collectionGroup!==null}function El(r){const e=Ue(r);if(e.Te===null){e.Te=[];const n=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ct(Xt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Mc(c,s))}),n.has(Xt.keyField().canonicalString())||e.Te.push(new Mc(Xt.keyField(),s))}return e.Te}function ai(r){const e=Ue(r);return e.Ie||(e.Ie=v1(e,El(r))),e.Ie}function v1(r,e){if(r.limitType==="F")return H_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Mc(l.field,c)});const n=r.endAt?new Vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vc(r.startAt.position,r.startAt.inclusive):null;return H_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function qd(r,e){const n=r.filters.concat([e]);return new Ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Hd(r,e,n){return new Ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wc(r,e){return mm(ai(r),ai(e))&&r.limitType===e.limitType}function V0(r){return`${dm(ai(r))}|lt:${r.limitType}`}function Da(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>D0(l)).join(", ")}]`),$c(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>qa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>qa(l)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function eh(r,e){return e.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):he.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,l){for(const c of El(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(d,g,p){const _=B_(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,El(s),l)||s.endAt&&!function(d,g,p){const _=B_(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,El(s),l))}(r,e)}function E1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function M0(r){return(e,n)=>{let s=!1;for(const l of El(r)){const c=T1(l,e,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function T1(r,e,n){const s=r.field.isKeyField()?he.comparator(e.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ba(p,_):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(n,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return _0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new mt(he.comparator);function kr(){return A1}const k0=new mt(he.comparator);function gl(...r){let e=k0;for(const n of r)e=e.insert(n.key,n);return e}function b1(r){let e=k0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function bs(){return Tl()}function P0(){return Tl()}function Tl(){return new Vs(r=>r.toString(),(r,e)=>r.isEqual(e))}const S1=new Ct(he.comparator);function Le(...r){let e=S1;for(const n of r)e=e.add(n);return e}const w1=new Ct(Ne);function R1(){return w1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function U0(r){return{integerValue:""+r}}function I1(r,e){return e1(e)?U0(e):gm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function C1(r,e,n){return r instanceof Fd?function(l,c){const d={fields:{[T0]:{stringValue:E0},[b0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&hm(c)&&(c=Zc(c)),c&&(d.fields[A0]=c),{mapValue:d}}(n,e):r instanceof kc?L0(r,e):r instanceof Pc?j0(r,e):function(l,c){const d=D1(l,c),g=G_(d)+G_(l.Ee);return jd(d)&&jd(l.Ee)?U0(g):gm(l.serializer,g)}(r,e)}function N1(r,e,n){return r instanceof kc?L0(r,e):r instanceof Pc?j0(r,e):n}function D1(r,e){return r instanceof Gd?function(s){return jd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Fd extends th{}class kc extends th{constructor(e){super(),this.elements=e}}function L0(r,e){const n=z0(e);for(const s of r.elements)n.some(l=>ci(l,s))||n.push(s);return{arrayValue:{values:n}}}class Pc extends th{constructor(e){super(),this.elements=e}}function j0(r,e){let n=z0(e);for(const s of r.elements)n=n.filter(l=>!ci(l,s));return{arrayValue:{values:n}}}class Gd extends th{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function G_(r){return dt(r.integerValue||r.doubleValue)}function z0(r){return fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function x1(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof kc&&l instanceof kc||s instanceof Pc&&l instanceof Pc?za(s.elements,l.elements,ci):s instanceof Gd&&l instanceof Gd?ci(s.Ee,l.Ee):s instanceof Fd&&l instanceof Fd}(r.transform,e.transform)}class Is{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pm{}function B0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new V1(r.key,Is.none()):new ym(r.key,r.data,Is.none());{const n=r.data,s=si.empty();let l=new Ct(Xt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new nh(r.key,s,new br(l.toArray()),Is.none())}}function O1(r,e,n){r instanceof ym?function(l,c,d){const g=l.value.clone(),p=K_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,n):r instanceof nh?function(l,c,d){if(!Tc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=K_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(q0(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Al(r,e,n,s){return r instanceof ym?function(c,d,g,p){if(!Tc(c.precondition,d))return g;const _=c.value.clone(),T=Y_(c.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof nh?function(c,d,g,p){if(!Tc(c.precondition,d))return g;const _=Y_(c.fieldTransforms,p,d),T=d.data;return T.setAll(q0(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,e,n,s):function(c,d,g){return Tc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,n)}function Q_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&za(s,l,(c,d)=>x1(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ym extends pm{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class nh extends pm{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function q0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function K_(r,e,n){const s=new Map;at(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);s.set(c.field,N1(d,g,n[l]))}return s}function Y_(r,e,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,C1(c,d,e))}return s}class V1 extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&O1(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Al(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Al(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=P0();return this.mutations.forEach(l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=B0(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(n,s)=>Q_(n,s))&&za(this.baseMutations,e.baseMutations,(n,s)=>Q_(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Pe;function H0(r){if(r===void 0)return Bi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case vt.OK:return Z.OK;case vt.CANCELLED:return Z.CANCELLED;case vt.UNKNOWN:return Z.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Z.INTERNAL;case vt.UNAVAILABLE:return Z.UNAVAILABLE;case vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case vt.NOT_FOUND:return Z.NOT_FOUND;case vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case vt.ABORTED:return Z.ABORTED;case vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case vt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(Pe=vt||(vt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Cr([4294967295,4294967295],0);function X_(r){const e=m0().encode(r),n=new a0;return n.update(e),new Uint8Array(n.digest())}function $_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Cr([n,s],0),new Cr([l,c],0)]}class _m{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pl(`Invalid padding: ${n}`);if(s<0)throw new pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new pl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Cr.fromNumber(this.fe)}pe(e,n,s){let l=e.add(n.multiply(Cr.fromNumber(s)));return l.compare(U1)===1&&(l=new Cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=X_(e),[s,l]=$_(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);if(!this.ye(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new _m(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const n=X_(e),[s,l]=$_(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);this.we(d)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ih(Ee.min(),l,new mt(Ne),kr(),Le())}}class Ul{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ul(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,s,l){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=l}}class F0{constructor(e,n){this.targetId=e,this.De=n}}class G0{constructor(e,n,s=qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Z_{constructor(){this.ve=0,this.Ce=J_(),this.Fe=qt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Le(),n=Le(),s=Le();return this.Ce.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Te(38017,{changeType:c})}}),new Ul(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=J_()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class L1{constructor(e){this.We=e,this.Ge=new Map,this.ze=kr(),this.je=pc(),this.Je=pc(),this.He=new mt(Ne)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,l)=>{this.nt(l)&&n(l)})}it(e){const n=e.targetId,s=e.De.count,l=this.st(n);if(l){const c=l.target;if(Bd(c))if(s===0){const d=new he(c.path);this.Xe(n,d,Yt.newNoDocument(d,Ee.min()))}else at(s===1,20013,{expectedCount:s});else{const d=this.ot(n);if(d!==s){const g=this._t(e),p=g?this.ut(g,e,d):1;if(p!==0){this.rt(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Vr(s).toUint8Array()}catch(p){if(p instanceof v0)return Dr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new _m(d,l,c)}catch(p){return Dr(p instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.fe===0?null:g}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(n,c,null),l++)}),l}Pt(e){const n=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&Bd(g.target)){const p=new he(g.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,Yt.newNoDocument(p,e))}c.Ne&&(n.set(d,c.Le()),c.ke())}});let s=Le();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this.st(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const l=new ih(e,n,this.He,this.ze,s);return this.ze=kr(),this.je=pc(),this.Je=pc(),this.He=new mt(Ne),l}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const l=this.tt(e);this.It(e,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Z_,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ct(Ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ct(Ne),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Z_),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function pc(){return new mt(he.comparator)}function J_(){return new mt(he.comparator)}const j1={asc:"ASCENDING",desc:"DESCENDING"},z1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B1={and:"AND",or:"OR"};class q1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qd(r,e){return r.useProto3Json||$c(e)?e:{value:e}}function Kd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Va(r){return at(!!r,49232),Ee.fromTimestamp(function(n){const s=Or(n);return new rt(s.seconds,s.nanos)}(r))}function K0(r,e){return Yd(r,e).canonicalString()}function Yd(r,e){const n=function(l){return new tt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function Y0(r){const e=tt.fromString(r);return at(W0(e),10190,{key:e.toString()}),e}function Sd(r,e){const n=Y0(e);if(n.get(1)!==r.databaseId.projectId)throw new se(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new se(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new he($0(n))}function X0(r,e){return K0(r.databaseId,e)}function H1(r){const e=Y0(r);return e.length===4?tt.emptyPath():$0(e)}function W_(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $0(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F1(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(at(T===void 0||typeof T=="string",58123),qt.fromBase64String(T||"")):(at(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),qt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const T=_.code===void 0?Z.UNKNOWN:H0(_.code);return new se(T,_.message||"")}(d);n=new G0(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Sd(r,s.document.name),c=Va(s.document.updateTime),d=s.document.createTime?Va(s.document.createTime):Ee.min(),g=new si({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(l,c,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Ac(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Sd(r,s.document),c=s.readTime?Va(s.readTime):Ee.min(),d=Yt.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Ac([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Sd(r,s.document),c=s.removedTargetIds||[];n=new Ac([],c,l,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new P1(l,c),g=s.targetId;n=new F0(g,d)}}return n}function G1(r,e){return{documents:[X0(r,e.path)]}}function Q1(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=X0(r,l);const c=function(_){if(_.length!==0)return J0(zn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(T=>function(D){return{field:xa(D.field),direction:X1(D.dir)}}(T))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Qd(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:n,parent:l}}function K1(r){let e=H1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){at(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(R){const D=Z0(R);return D instanceof zn&&C0(D)?D.getFilters():[D]}(n.where));let d=[];n.orderBy&&(d=function(R){return R.map(D=>function($){return new Mc(Oa($.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(R){let D;return D=typeof R=="object"?R.value:R,$c(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(R){const D=!!R.before,F=R.values||[];return new Vc(F,D)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const D=!R.before,F=R.values||[];return new Vc(F,D)}(n.endAt)),_1(e,l,d,c,g,"F",p,_)}function Y1(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Oa(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Oa(n.unaryFilter.field);return Et.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oa(n.unaryFilter.field);return Et.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oa(n.unaryFilter.field);return Et.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Et.create(Oa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(s=>Z0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function X1(r){return j1[r]}function $1(r){return z1[r]}function Z1(r){return B1[r]}function xa(r){return{fieldPath:r.canonicalString()}}function Oa(r){return Xt.fromServerFormat(r.fieldPath)}function J0(r){return r instanceof Et?function(n){if(n.op==="=="){if(z_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(j_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(j_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:$1(n.op),value:n.value}}}(r):r instanceof zn?function(n){const s=n.getFilters().map(l=>J0(l));return s.length===1?s[0]:{compositeFilter:{op:Z1(n.op),filters:s}}}(r):Te(54877,{filter:r})}function W0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,s,l,c=Ee.min(),d=Ee.min(),g=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.gt=e}}function W1(r){const e=K1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.Dn=new tw}addToCollectionParentIndex(e,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(xr.min())}updateCollectionGroup(e,n,s){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class tw{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Ct(tt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ct(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eE=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(eE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ha(0)}static ur(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LruGarbageCollector",nw=1048576;function nv([r,e],[n,s]){const l=Ne(r,n);return l===0?Ne(e,s):l}class iw{constructor(e){this.Tr=e,this.buffer=new Ct(nv),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rw{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){re(tv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$a(n)?re(tv,"Ignoring IndexedDB error during garbage collection: ",n):await Yc(n)}await this.Rr(3e5)})}}class sw{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Xc.ue);const s=new iw(n);return this.Vr.forEachTarget(e,l=>s.Er(l.sequenceNumber)).next(()=>this.Vr.gr(e,l=>s.Er(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(ev)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,l,c,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(e,l))).next(R=>(s=R,g=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),Na()<=Oe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R})))}}function aw(r,e){return new sw(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(s!==null&&Al(s.mutation,l,br.empty(),rt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const l=bs();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(c=>{let d=gl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,s,l){let c=kr();const d=Tl(),g=function(){return Tl()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof nh)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Al(T.mutation,_,T.mutation.getFieldMask(),rt.now())):d.set(_.key,br.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((_,T)=>d.set(_,T)),n.forEach((_,T)=>{var R;return g.set(_,new lw(T,(R=d.get(_))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,n){const s=Tl();let l=new mt((d,g)=>d-g),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||br.empty();T=g.applyToLocalView(_,T),s.set(p,T);const R=(l.get(g.batchId)||Le()).add(p);l=l.insert(g.batchId,R)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,R=P0();T.forEach(D=>{if(!c.has(D)){const F=B0(n.get(D),s.get(D));F!==null&&R.set(D,F),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return function(d){return he.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):Y.resolve(bs());let g=Il,p=c;return d.next(_=>Y.forEach(_,(T,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(e,T).next(D=>{p=p.insert(T,D)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,p,_,Le())).next(T=>({batchId:g,changes:b1(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(s=>{let l=gl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(e,c).next(g=>Y.forEach(g,p=>{const _=function(R,D){return new Ja(D,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next(T=>{T.forEach((R,D)=>{d=d.insert(R,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Yt.newInvalidDocument(T)))});let g=gl();return d.forEach((p,_)=>{const T=c.get(p);T!==void 0&&Al(T.mutation,_,br.empty(),rt.now()),eh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Va(l.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:W1(l.bundledQuery),readTime:Va(l.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.overlays=new mt(he.comparator),this.kr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const s=bs();return Y.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,c)=>{this.wt(e,n,c)}),Y.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(e,n,s){const l=bs(),c=n.length+1,d=new he(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new mt((_,T)=>_-T);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=bs(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=bs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return Y.resolve(g)}wt(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new k1(n,s));let c=this.kr.get(n);c===void 0&&(c=Le(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.qr=new Ct(kt.Qr),this.$r=new Ct(kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new kt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new he(new tt([])),s=new kt(n,e),l=new kt(n,e+1),c=[];return this.$r.forEachInRange([s,l],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new he(new tt([])),s=new kt(n,e),l=new kt(n,e+1);let c=Le();return this.$r.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new kt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return he.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ct(kt.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new M1(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Yr=this.Yr.add(new kt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.Xr(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?WS:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),l=new kt(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,l],d=>{const g=this.Zr(d.Hr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ne);return n.forEach(l=>{const c=new kt(l,0),d=new kt(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;he.isDocumentKey(c)||(c=c.child(""));const d=new kt(new he(c),0);let g=new Ct(Ne);return this.Yr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Hr)),!0)},d),Y.resolve(this.ei(g))}ei(e){const n=[];return e.forEach(s=>{const l=this.Zr(s);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){at(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(n.mutations,l=>{const c=new kt(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new kt(n,0),l=this.Yr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.ni=e,this.docs=function(){return new mt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=kr();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Yt.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=kr();const d=n.path,g=new he(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||XS(YS(T),s)<=0||(l.has(T.key)||eh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Te(9500)}ri(e,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new gw(this)}getSize(e){return Y.resolve(this.size)}}class gw extends ow{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(e,l)):this.Or.removeEntry(s)}),Y.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.persistence=e,this.ii=new Vs(n=>dm(n),mm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.si=0,this.oi=new vm,this.targetCount=0,this._i=Ha.ar()}forEachTarget(e,n){return this.ii.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),Y.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.hr(n),Y.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return Y.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),Y.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(e,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return Y.resolve(s)}containsKey(e,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.ai={},this.overlays={},this.ui=new Xc(0),this.ci=!1,this.ci=!0,this.li=new fw,this.referenceDelegate=e(this),this.hi=new pw(this),this.indexManager=new ew,this.remoteDocumentCache=function(l){return new mw(l)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new J1(n),this.Ti=new cw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new dw(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const l=new yw(this.ui.next());return this.referenceDelegate.Ii(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(e,n){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class yw extends ZS{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Ai=new vm,this.Ri=null}static Vi(e){return new Em(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),Y.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const l=he.fromPath(s);return this.fi(e,l).next(c=>{c||n.removeEntry(l,Ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Uc{constructor(e,n){this.persistence=e,this.gi=new Vs(s=>t1(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=aw(this,n)}static Vi(e,n){return new Uc(e,n)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return Y.forEach(this.gi,(s,l)=>this.Sr(e,s,l).next(c=>c?Y.resolve():n(l)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(e,d=>this.Sr(e,d,n).next(g=>{g||(s++,c.removeEntry(d,Ee.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ec(e.data.value)),n}Sr(e,n,s){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.gi.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=l}static Es(e,n){let s=Le(),l=Le();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Tm(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return yb()?8:JS($t())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ps(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new _w;return this.ws(e,n,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(e,n,d,g.size)})}).next(()=>c.result)}Ss(e,n,s,l){return s.documentReadCount<this.Vs?(Na()<=Oe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Na()<=Oe.DEBUG&&re("QueryEngine","Query:",Da(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(Na()<=Oe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):Y.resolve())}ps(e,n){if(F_(n))return Y.resolve(null);let s=ai(n);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Hd(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Le(...c);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.bs(n,g);return this.Ds(n,_,d,p.readTime)?this.ps(e,Hd(n,null,"F")):this.vs(e,_,n,p)}))})))}ys(e,n,s,l){return F_(n)||l.isEqual(Ee.min())?Y.resolve(null):this.gs.getDocuments(e,s).next(c=>{const d=this.bs(n,c);return this.Ds(n,d,s,l)?Y.resolve(null):(Na()<=Oe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Da(n)),this.vs(e,d,n,KS(l,Il)).next(g=>g))})}bs(e,n){let s=new Ct(M0(e));return n.forEach((l,c)=>{eh(e,c)&&(s=s.add(c))}),s}Ds(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(e,n,s){return Na()<=Oe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Da(n)),this.gs.getDocumentsMatchingQuery(e,n,xr.min(),s)}vs(e,n,s,l){return this.gs.getDocumentsMatchingQuery(e,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",Ew=3e8;class Tw{constructor(e,n,s,l){this.persistence=e,this.Cs=n,this.serializer=l,this.Fs=new mt(Ne),this.Ms=new Vs(c=>dm(c),mm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Aw(r,e,n,s){return new Tw(r,e,n,s)}async function nE(r,e){const n=Ue(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Le();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:g}))})})}function iE(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function bw(r,e){const n=Ue(r),s=e.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const g=[];e.targetChanges.forEach((T,R)=>{const D=l.get(R);if(!D)return;g.push(n.hi.removeMatchingKeys(c,T.removedDocuments,R).next(()=>n.hi.addMatchingKeys(c,T.addedDocuments,R)));let F=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?F=F.withResumeToken(qt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,s)),l=l.insert(R,F),function(ie,W,_e){return ie.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=Ew?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0}(D,F,T)&&g.push(n.hi.updateTargetData(c,F))});let p=kr(),_=Le();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(Sw(c,d,e.documentUpdates).next(T=>{p=T.Ls,_=T.ks})),!s.isEqual(Ee.min())){const T=n.hi.getLastRemoteSnapshotVersion(c).next(R=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return Y.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Fs=l,c))}function Sw(r,e,n){let s=Le(),l=Le();return n.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=kr();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):re(Am,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Ls:d,ks:l}})}function ww(r,e){const n=Ue(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.hi.getTargetData(s,e).next(c=>c?(l=c,Y.resolve(l)):n.hi.allocateTargetId(s).next(d=>(l=new Sr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Xd(r,e,n){const s=Ue(r),l=s.Fs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!$a(d))throw d;re(Am,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(l.target)}function iv(r,e,n){const s=Ue(r);let l=Ee.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,T){const R=Ue(p),D=R.Ms.get(T);return D!==void 0?Y.resolve(R.Fs.get(D)):R.hi.getTargetData(_,T)}(s,d,ai(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,n?l:Ee.min(),n?c:Le())).next(g=>(Rw(s,E1(e),g),{documents:g,qs:c})))}function Rw(r,e,n){let s=r.xs.get(e)||Ee.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(e,s)}class rv{constructor(){this.activeTargetIds=R1()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iw{constructor(){this.Fo=new rv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new rv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class av{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){re(sv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){re(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function $d(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",Nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dw{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===xc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,n,s,l,c){const d=$d(),g=this.Go(e,n.toUriEncodedString());re(wd,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,l,c);const{host:_}=new URL(g),T=Ka(_);return this.jo(e,g,p,s,T).then(R=>(re(wd,`Received RPC '${e}' ${d}: `,R),R),R=>{throw Dr(wd,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",s),R})}Jo(e,n,s,l,c,d){return this.Wo(e,n,s,l,c)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),s&&s.headers.forEach((l,c)=>e[c]=l)}Go(e,n){const s=Nw[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Ow extends Dw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,l,c){const d=$d();return new Promise((g,p)=>{const _=new o0;_.setWithCredentials(!0),_.listenOnce(l0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case vc.NO_ERROR:const R=_.getResponseJson();re(Qt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case vc.TIMEOUT:re(Qt,`RPC '${e}' ${d} timed out`),p(new se(Z.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const D=_.getStatus();if(re(Qt,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F==null?void 0:F.error;if($&&$.status&&$.message){const ie=function(_e){const pe=_e.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(pe)>=0?pe:Z.UNKNOWN}($.status);p(new se(ie,$.message))}else p(new se(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new se(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{re(Qt,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(l);re(Qt,`RPC '${e}' ${d} sending request:`,l),_.send(n,"POST",T,s,15)})}P_(e,n,s){const l=$d(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=h0(),g=c0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");re(Qt,`Creating RPC '${e}' stream ${l}: ${T}`,p);const R=d.createWebChannel(T,p);this.T_(R);let D=!1,F=!1;const $=new xw({Ho:W=>{F?re(Qt,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(D||(re(Qt,`Opening RPC '${e}' stream ${l} transport.`),R.open(),D=!0),re(Qt,`RPC '${e}' stream ${l} sending:`,W),R.send(W))},Yo:()=>R.close()}),ie=(W,_e,pe)=>{W.listen(_e,oe=>{try{pe(oe)}catch(we){setTimeout(()=>{throw we},0)}})};return ie(R,ml.EventType.OPEN,()=>{F||(re(Qt,`RPC '${e}' stream ${l} transport opened.`),$.s_())}),ie(R,ml.EventType.CLOSE,()=>{F||(F=!0,re(Qt,`RPC '${e}' stream ${l} transport closed`),$.__(),this.I_(R))}),ie(R,ml.EventType.ERROR,W=>{F||(F=!0,Dr(Qt,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),$.__(new se(Z.UNAVAILABLE,"The operation could not be completed")))}),ie(R,ml.EventType.MESSAGE,W=>{var _e;if(!F){const pe=W.data[0];at(!!pe,16349);const oe=pe,we=(oe==null?void 0:oe.error)||((_e=oe[0])===null||_e===void 0?void 0:_e.error);if(we){re(Qt,`RPC '${e}' stream ${l} received error:`,we);const me=we.status;let Ae=function(S){const x=vt[S];if(x!==void 0)return H0(x)}(me),I=we.message;Ae===void 0&&(Ae=Z.INTERNAL,I="Unknown error status: "+me+" with message "+we.message),F=!0,$.__(new se(Ae,I)),R.close()}else re(Qt,`RPC '${e}' stream ${l} received:`,pe),$.a_(pe)}}),ie(g,u0.STAT_EVENT,W=>{W.stat===Pd.PROXY?re(Qt,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===Pd.NOPROXY&&re(Qt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.o_()},0),$}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new q1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,s=1e3,l=1.5,c=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-s);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class Vw{constructor(e,n,s,l,c,d,g,p){this.Fi=e,this.w_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rE(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.b_===n&&this.W_(s,l)},s=>{e(()=>{const l=new se(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{s(()=>this.G_(l))}),this.stream.onMessage(l=>{s(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return re(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(re(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mw extends Vw{constructor(e,n,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=F1(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Va(d.readTime):Ee.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=W_(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=Bd(p)?{documents:G1(c,p)}:{query:Q1(c,p).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Q0(c,d.resumeToken);const _=Qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ee.min())>0){g.readTime=Kd(c,d.snapshotVersion.toTimestamp());const _=Qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=Y1(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=W_(this.serializer),n.removeTarget=e,this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{}class Pw extends kw{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new se(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Yd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(Z.UNKNOWN,c.toString())})}Jo(e,n,s,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,Yd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new se(Z.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Uw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Bi(n),this._a=!1):re("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class Lw{constructor(e,n,s,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{jl(this)&&(re(Fa,"Restarting streams for network reachability change."),await async function(p){const _=Ue(p);_.Ia.add(4),await Ll(_),_.Aa.set("Unknown"),_.Ia.delete(4),await sh(_)}(this))})}),this.Aa=new Uw(s,l)}}async function sh(r){if(jl(r))for(const e of r.da)await e(!0)}async function Ll(r){for(const e of r.da)await e(!1)}function sE(r,e){const n=Ue(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Rm(n)?wm(n):Wa(n).x_()&&Sm(n,e))}function bm(r,e){const n=Ue(r),s=Wa(n);n.Ta.delete(e),s.x_()&&aE(n,e),n.Ta.size===0&&(s.x_()?s.B_():jl(n)&&n.Aa.set("Unknown"))}function Sm(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wa(r).H_(e)}function aE(r,e){r.Ra.$e(e),Wa(r).Y_(e)}function wm(r){r.Ra=new L1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Wa(r).start(),r.Aa.aa()}function Rm(r){return jl(r)&&!Wa(r).M_()&&r.Ta.size>0}function jl(r){return Ue(r).Ia.size===0}function oE(r){r.Ra=void 0}async function jw(r){r.Aa.set("Online")}async function zw(r){r.Ta.forEach((e,n)=>{Sm(r,e)})}async function Bw(r,e){oE(r),Rm(r)?(r.Aa.la(e),wm(r)):r.Aa.set("Unknown")}async function qw(r,e,n){if(r.Aa.set("Online"),e instanceof G0&&e.state===2&&e.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ta.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ta.delete(g),l.Ra.removeTarget(g))}(r,e)}catch(s){re(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lv(r,s)}else if(e instanceof Ac?r.Ra.Ye(e):e instanceof F0?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Ee.min()))try{const s=await iE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ta.get(_);T&&c.Ta.set(_,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ta.get(p);if(!T)return;c.Ta.set(p,T.withResumeToken(qt.EMPTY_BYTE_STRING,T.snapshotVersion)),aE(c,p);const R=new Sr(T.target,p,_,T.sequenceNumber);Sm(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){re(Fa,"Failed to raise snapshot:",s),await lv(r,s)}}async function lv(r,e,n){if(!$a(e))throw e;r.Ia.add(1),await Ll(r),r.Aa.set("Offline"),n||(n=()=>iE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{re(Fa,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await sh(r)})}async function uv(r,e){const n=Ue(r);n.asyncQueue.verifyOperationInProgress(),re(Fa,"RemoteStore received new credentials");const s=jl(n);n.Ia.add(3),await Ll(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await sh(n)}async function Hw(r,e){const n=Ue(r);e?(n.Ia.delete(2),await sh(n)):e||(n.Ia.add(2),await Ll(n),n.Aa.set("Unknown"))}function Wa(r){return r.Va||(r.Va=function(n,s,l){const c=Ue(n);return c.ia(),new Mw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:jw.bind(null,r),e_:zw.bind(null,r),n_:Bw.bind(null,r),J_:qw.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Rm(r)?wm(r):r.Aa.set("Unknown")):(await r.Va.stop(),oE(r))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const d=Date.now()+s,g=new Im(e,n,d,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lE(r,e){if(Bi("AsyncQueue",`${e}: ${r}`),$a(r))return new se(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||he.comparator(n.key,s.key):(n,s)=>he.comparator(n.key,s.key),this.keyedMap=gl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ma;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.fa=new mt(he.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ga{constructor(e,n,s,l,c,d,g,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Ga(e,n,Ma.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Gw{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const l=Ue(n),c=l.queries;l.queries=hv(),c.forEach((d,g)=>{for(const p of g.wa)p.onError(s)})})(this,new se(Z.ABORTED,"Firestore shutting down"))}}function hv(){return new Vs(r=>V0(r),Wc)}async function uE(r,e){const n=Ue(r);let s=3;const l=e.query;let c=n.queries.get(l);c?!c.Sa()&&e.ba()&&(s=2):(c=new Fw,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(l,!0);break;case 1:c.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=lE(d,`Initialization of query '${Da(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.wa.push(e),e.va(n.onlineState),c.ya&&e.Ca(c.ya)&&Cm(n)}async function cE(r,e){const n=Ue(r),s=e.query;let l=3;const c=n.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?l=e.ba()?0:1:!c.Sa()&&e.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Qw(r,e){const n=Ue(r);let s=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.wa)g.Ca(l)&&(s=!0);d.ya=l}}s&&Cm(n)}function Kw(r,e,n){const s=Ue(r),l=s.queries.get(e);if(l)for(const c of l.wa)c.onError(n);s.queries.delete(e)}function Cm(r){r.Da.forEach(e=>{e.next()})}var Zd,fv;(fv=Zd||(Zd={})).Fa="default",fv.Cache="cache";class hE{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Ga(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.key=e}}class dE{constructor(e){this.key=e}}class Yw{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Le(),this.mutatedKeys=Le(),this.Xa=M0(e),this.eu=new Ma(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new cv,l=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((T,R)=>{const D=l.get(T),F=eh(this.query,R)?R:null,$=!!D&&this.mutatedKeys.has(D.key),ie=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;D&&F?D.data.isEqual(F.data)?$!==ie&&(s.track({type:3,doc:F}),W=!0):this.iu(D,F)||(s.track({type:2,doc:F}),W=!0,(p&&this.Xa(F,p)>0||_&&this.Xa(F,_)<0)&&(g=!0)):!D&&F?(s.track({type:0,doc:F}),W=!0):D&&!F&&(s.track({type:1,doc:D}),W=!0,(p||_)&&(g=!0)),W&&(F?(d=d.add(F),c=ie?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((T,R)=>function(F,$){const ie=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:W})}};return ie(F)-ie($)}(T.type,R.type)||this.Xa(T.doc,R.doc)),this.su(s),l=l!=null&&l;const g=n&&!l?this.ou():[],p=this.Za.size===0&&this.current&&!l?1:0,_=p!==this.Ya;return this.Ya=p,d.length!==0||_?{snapshot:new Ga(this.query,e.eu,c,d,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new cv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Le(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new dE(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new fE(s))}),n}uu(e){this.Ha=e.qs,this.Za=Le();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ga.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Nm="SyncEngine";class Xw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $w{constructor(e){this.key=e,this.lu=!1}}class Zw{constructor(e,n,s,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Vs(g=>V0(g),Wc),this.Tu=new Map,this.Iu=new Set,this.du=new mt(he.comparator),this.Eu=new Map,this.Au=new vm,this.Ru={},this.Vu=new Map,this.mu=Ha.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Jw(r,e,n=!0){const s=_E(r);let l;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await mE(s,e,n,!0),l}async function Ww(r,e){const n=_E(r);await mE(n,e,!0,!1)}async function mE(r,e,n,s){const l=await ww(r.localStore,ai(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await eR(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&sE(r.remoteStore,l),g}async function eR(r,e,n,s,l){r.gu=(R,D,F)=>async function(ie,W,_e,pe){let oe=W.view.nu(_e);oe.Ds&&(oe=await iv(ie.localStore,W.query,!1).then(({documents:I})=>W.view.nu(I,oe)));const we=pe&&pe.targetChanges.get(W.targetId),me=pe&&pe.targetMismatches.get(W.targetId)!=null,Ae=W.view.applyChanges(oe,ie.isPrimaryClient,we,me);return mv(ie,W.targetId,Ae._u),Ae.snapshot}(r,R,D,F);const c=await iv(r.localStore,e,!0),d=new Yw(e,c.qs),g=d.nu(c.documents),p=Ul.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);mv(r,n,_._u);const T=new Xw(e,n,d);return r.Pu.set(e,T),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),_.snapshot}async function tR(r,e,n){const s=Ue(r),l=s.Pu.get(e),c=s.Tu.get(l.targetId);if(c.length>1)return s.Tu.set(l.targetId,c.filter(d=>!Wc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Xd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&bm(s.remoteStore,l.targetId),Jd(s,l.targetId)}).catch(Yc)):(Jd(s,l.targetId),await Xd(s.localStore,l.targetId,!0))}async function nR(r,e){const n=Ue(r),s=n.Pu.get(e),l=n.Tu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bm(n.remoteStore,s.targetId))}async function gE(r,e){const n=Ue(r);try{const s=await bw(n.localStore,e);e.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.lu=!0:l.modifiedDocuments.size>0?at(d.lu,14607):l.removedDocuments.size>0&&(at(d.lu,42227),d.lu=!1))}),await yE(n,s,e)}catch(s){await Yc(s)}}function dv(r,e,n){const s=Ue(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Pu.forEach((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Ue(d);p.onlineState=g;let _=!1;p.queries.forEach((T,R)=>{for(const D of R.wa)D.va(g)&&(_=!0)}),_&&Cm(p)}(s.eventManager,e),l.length&&s.hu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iR(r,e,n){const s=Ue(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Eu.get(e),c=l&&l.key;if(c){let d=new mt(he.comparator);d=d.insert(c,Yt.newNoDocument(c,Ee.min()));const g=Le().add(c),p=new ih(Ee.min(),new Map,new mt(Ne),d,g);await gE(s,p),s.du=s.du.remove(c),s.Eu.delete(e),Dm(s)}else await Xd(s.localStore,e,!1).then(()=>Jd(s,e,n)).catch(Yc)}function Jd(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||pE(r,s)})}function pE(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(bm(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),Dm(r))}function mv(r,e,n){for(const s of n)s instanceof fE?(r.Au.addReference(s.key,e),rR(r,s)):s instanceof dE?(re(Nm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||pE(r,s.key)):Te(19791,{yu:s})}function rR(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(re(Nm,"New document in limbo: "+n),r.Iu.add(s),Dm(r))}function Dm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new he(tt.fromString(e)),s=r.mu.next();r.Eu.set(s,new $w(n)),r.du=r.du.insert(n,s),sE(r.remoteStore,new Sr(ai(Jc(n.path)),s,"TargetPurposeLimboResolution",Xc.ue))}}async function yE(r,e,n){const s=Ue(r),l=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,p)=>{d.push(s.gu(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){l.push(_);const R=Tm.Es(p.targetId,_);c.push(R)}}))}),await Promise.all(d),s.hu.J_(l),await async function(p,_){const T=Ue(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Y.forEach(_,D=>Y.forEach(D.Is,F=>T.persistence.referenceDelegate.addReference(R,D.targetId,F)).next(()=>Y.forEach(D.ds,F=>T.persistence.referenceDelegate.removeReference(R,D.targetId,F)))))}catch(R){if(!$a(R))throw R;re(Am,"Failed to update sequence numbers: "+R)}for(const R of _){const D=R.targetId;if(!R.fromCache){const F=T.Fs.get(D),$=F.snapshotVersion,ie=F.withLastLimboFreeSnapshotVersion($);T.Fs=T.Fs.insert(D,ie)}}}(s.localStore,c))}async function sR(r,e){const n=Ue(r);if(!n.currentUser.isEqual(e)){re(Nm,"User change. New user:",e.toKey());const s=await nE(n.localStore,e);n.currentUser=e,function(c,d){c.Vu.forEach(g=>{g.forEach(p=>{p.reject(new se(Z.CANCELLED,d))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yE(n,s.Bs)}}function aR(r,e){const n=Ue(r),s=n.Eu.get(e);if(s&&s.lu)return Le().add(s.key);{let l=Le();const c=n.Tu.get(e);if(!c)return l;for(const d of c){const g=n.Pu.get(d);l=l.unionWith(g.view.tu)}return l}}function _E(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iR.bind(null,e),e.hu.J_=Qw.bind(null,e.eventManager),e.hu.pu=Kw.bind(null,e.eventManager),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Aw(this.persistence,new vw,e.initialUser,this.serializer)}Du(e){return new tE(Em.Vi,this.serializer)}bu(e){return new Iw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class oR extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){at(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rw(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new tE(s=>Uc.Vi(s,n),this.serializer)}}class Wd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sR.bind(null,this.syncEngine),await Hw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gw}()}createDatastore(e){const n=rh(e.databaseInfo.databaseId),s=function(c){return new Ow(c)}(e.databaseInfo);return function(c,d,g,p){return new Pw(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,l,c,d,g){return new Lw(s,l,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>dv(this.syncEngine,n,0),function(){return av.C()?new av:new Cw}())}createSyncEngine(e,n){return function(l,c,d,g,p,_,T){const R=new Zw(l,c,d,g,p,_);return T&&(R.fu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Ue(l);re(Fa,"RemoteStore shutting down."),c.Ia.add(5),await Ll(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wd.provider={build:()=>new Wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class lR{constructor(e,n,s,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Kt.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{re(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(re(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lE(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Id(r,e){r.asyncQueue.verifyOperationInProgress(),re(Pr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await nE(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>{Dr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{re("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Dr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=e}async function gv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uR(r);re(Pr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>uv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>uv(e.remoteStore,l)),r._onlineComponents=e}async function uR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){re(Pr,"Using user provided OfflineComponentProvider");try{await Id(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Dr("Error using user provided cache. Falling back to memory cache: "+n),await Id(r,new Lc)}}else re(Pr,"Using default OfflineComponentProvider"),await Id(r,new oR(void 0));return r._offlineComponents}async function cR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(re(Pr,"Using user provided OnlineComponentProvider"),await gv(r,r._uninitializedComponentsProvider._online)):(re(Pr,"Using default OnlineComponentProvider"),await gv(r,new Wd))),r._onlineComponents}async function em(r){const e=await cR(r),n=e.eventManager;return n.onListen=Jw.bind(null,e.syncEngine),n.onUnlisten=tR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ww.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nR.bind(null,e.syncEngine),n}function hR(r,e,n={}){const s=new ws;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const T=new vE({next:D=>{T.Ou(),d.enqueueAndForget(()=>cE(c,R));const F=D.docs.has(g);!F&&D.fromCache?_.reject(new se(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&D.fromCache&&p&&p.source==="server"?_.reject(new se(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),R=new hE(Jc(g.path),T,{includeMetadataChanges:!0,ka:!0});return uE(c,R)}(await em(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firestore.googleapis.com",yv=!0;class _v{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TE,this.ssl=yv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nw)throw new se(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new US;switch(s.type){case"firstParty":return new BS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pv.get(n);s&&(re("ComponentProvider","Removing Datastore"),pv.delete(n),s.terminate())}(this),Promise.resolve()}}function fR(r,e,n,s={}){var l;r=Rs(r,ah);const c=Ka(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;c&&(Jv(`https://${p}`),Wv("Firestore",!0)),d.host!==TE&&d.host!==p&&Dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!Ns(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,R;if(typeof s.mockUserToken=="string")T=s.mockUserToken,R=Kt.MOCK_USER;else{T=lb(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new se(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Kt(D)}r._authCredentials=new LS(new d0(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class It{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pl(n,It._jsonSchema))return new It(e,s||null,new he(tt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Tt("string",It._jsonSchemaVersion),referencePath:Tt("string")};class xl extends Ms{constructor(e,n,s){super(e,n,Jc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new he(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function dR(r,e){if(r=Rs(r,ah),g0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(Z.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ms(r,null,function(s){return new Ja(tt.emptyPath(),s)}(e))}function mR(r,e,...n){if(r=an(r),arguments.length===1&&(e=cm.newId()),g0("doc","path",e),r instanceof ah){const s=tt.fromString(e,...n);return D_(s),new It(r,null,new he(s))}{if(!(r instanceof It||r instanceof xl))throw new se(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return D_(s),new It(r.firestore,r instanceof xl?r.converter:null,new he(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rE(this,"async_queue_retry"),this.oc=()=>{const s=Rd();s&&re(vv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ws;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$a(e))throw e;re(vv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Bi("INTERNAL UNHANDLED ERROR: ",Tv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const l=Im.createAndSchedule(this,e,n,s,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&Te(47125,{hc:Tv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Tv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class jc extends ah{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Ev,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function gR(r,e){const n=typeof r=="object"?r:i0(),s=typeof r=="string"?r:xc,l=lm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=ab("firestore");c&&fR(l,...c)}return l}function AE(r){if(r._terminated)throw new se(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pR(r),r._firestoreClient}function pR(r){var e,n,s;const l=r._freezeSettings(),c=function(g,p,_,T){return new r1(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,EE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new lR(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(qt.fromBase64String(e))}catch(n){throw new se(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pl(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Tt("string",Dn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(Pl(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:Tt("string",oi._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pl(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new li(e.vectorValues);throw new se(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Tt("string",li._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=/^__.*__$/;function wE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class xm{constructor(e,n,s,l,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:s,mc:!1});return l.fc(e),l}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(wE(this.Ec)&&yR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class _R{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rh(e)}Dc(e,n,s,l=!1){return new xm({Ec:e,methodName:n,bc:s,path:Xt.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vR(r){const e=r._freezeSettings(),n=rh(r._databaseId);return new _R(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ER(r,e,n,s=!1){return Om(n,r.Dc(s?4:3,e))}function Om(r,e){if(RE(r=an(r)))return AR("Unsupported field value:",e,r),TR(r,e);if(r instanceof SE)return function(s,l){if(!wE(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=Om(g,l.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,l){if((s=an(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=rt.fromDate(s);return{timestampValue:Kd(l.serializer,c)}}if(s instanceof rt){const c=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kd(l.serializer,c)}}if(s instanceof oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:Q0(l.serializer,s._byteString)};if(s instanceof It){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:K0(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof li)return function(d,g){return{mapValue:{fields:{[S0]:{stringValue:w0},[Oc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return gm(g.serializer,_)})}}}}}}(s,l);throw l.wc(`Unsupported field value: ${Kc(s)}`)}(r,e)}function TR(r,e){const n={};return _0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(r,(s,l)=>{const c=Om(l,e.Vc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function RE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof oi||r instanceof Dn||r instanceof It||r instanceof SE||r instanceof li)}function AR(r,e,n){if(!RE(n)||!p0(n)){const s=Kc(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}const bR=new RegExp("[~\\*/\\[\\]]");function SR(r,e,n){if(e.search(bR)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bE(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function tm(r,e,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new se(Z.INVALID_ARGUMENT,g+r+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wR extends IE{data(){return super.data()}}function CE(r,e){return typeof e=="string"?SR(r,e):e instanceof bE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class IR extends Vm{}function CR(r,e,...n){let s=[];e instanceof Vm&&s.push(e),s=s.concat(n),function(c){const d=c.filter(p=>p instanceof km).length,g=c.filter(p=>p instanceof Mm).length;if(d>1||d>0&&g>0)throw new se(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Mm extends IR{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Mm(e,n,s)}_apply(e){const n=this._parse(e);return NE(e._query,n),new Ms(e.firestore,e.converter,qd(e._query,n))}_parse(e){const n=vR(e.firestore);return function(c,d,g,p,_,T,R){let D;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new se(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Sv(R,T);const $=[];for(const ie of R)$.push(bv(p,c,ie));D={arrayValue:{values:$}}}else D=bv(p,c,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Sv(R,T),D=ER(g,d,R,T==="in"||T==="not-in");return Et.create(_,T,D)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class km extends Vm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new km(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)NE(d,p),d=qd(d,p)}(e._query,n),new Ms(e.firestore,e.converter,qd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bv(r,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new se(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(e)&&n.indexOf("/")!==-1)throw new se(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!he.isDocumentKey(s))throw new se(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return L_(r,new he(s))}if(n instanceof It)return L_(r,n._key);throw new se(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(n)}.`)}function Sv(r,e){if(!Array.isArray(r)||r.length===0)throw new se(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NE(r,e){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NR{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Za(e,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,l;const c=(l=(s=(n=e.fields)===null||n===void 0?void 0:n[Oc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>dt(d.doubleValue));return new li(c)}convertGeoPoint(e){return new oi(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Or(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);at(W0(s),9688,{name:e});const l=new Nl(s.get(1),s.get(3)),c=new he(s.popFirst(5));return l.isEqual(n)||Bi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends IE{constructor(e,n,s,l,c,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(CE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:Tt("string",Cs._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class bc extends Cs{data(e={}){return super.data(e)}}class ka{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new bc(this._firestore,this._userDataWriter,s.key,s,new yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:DR(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r){r=Rs(r,It);const e=Rs(r.firestore,jc);return hR(AE(e),r._key).then(n=>xE(e,r,n))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:Tt("string",ka._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class DE extends NR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function OR(r,...e){var n,s,l;r=an(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Av(e[d])||(c=e[d++]);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Av(e[d])){const R=e[d];e[d]=(n=R.next)===null||n===void 0?void 0:n.bind(R),e[d+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),e[d+2]=(l=R.complete)===null||l===void 0?void 0:l.bind(R)}let p,_,T;if(r instanceof It)_=Rs(r.firestore,jc),T=Jc(r._key.path),p={next:R=>{e[d]&&e[d](xE(_,r,R))},error:e[d+1],complete:e[d+2]};else{const R=Rs(r,Ms);_=Rs(R.firestore,jc),T=R._query;const D=new DE(_);p={next:F=>{e[d]&&e[d](new ka(_,D,R,F))},error:e[d+1],complete:e[d+2]},RR(r._query)}return function(D,F,$,ie){const W=new vE(ie),_e=new hE(F,W,$);return D.asyncQueue.enqueueAndForget(async()=>uE(await em(D),_e)),()=>{W.Ou(),D.asyncQueue.enqueueAndForget(async()=>cE(await em(D),_e))}}(AE(_),T,g,p)}function xE(r,e,n){const s=n.docs.get(e._key),l=new DE(r);return new Cs(r,l,e._key,s,new yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Xa=l})(Ya),ja(new Ds("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new jc(new jS(s.getProvider("auth-internal")),new qS(d,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new se(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(_.options.projectId,T)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ir(w_,R_,e),Ir(w_,R_,"esm2017")})();function Pm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VR=OE,VE=new Ml("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new am("@firebase/auth");function MR(r,...e){zc.logLevel<=Oe.WARN&&zc.warn(`Auth (${Ya}): ${r}`,...e)}function Sc(r,...e){zc.logLevel<=Oe.ERROR&&zc.error(`Auth (${Ya}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(r,...e){throw Lm(r,...e)}function jn(r,...e){return Lm(r,...e)}function Um(r,e,n){const s=Object.assign(Object.assign({},VR()),{[e]:n});return new Ml("auth","Firebase",s).create(e,{appName:r.name})}function Nr(r){return Um(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kR(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&xn(r,"argument-error"),Um(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VE.create(r,...e)}function ge(r,e,...n){if(!r)throw Lm(e,...n)}function Li(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sc(e),new Error(e)}function qi(r,e){r||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function PR(){return wv()==="http:"||wv()==="https:"}function wv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||mb()||"connection"in navigator)?navigator.onLine:!0}function LR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=hb()||gb()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,e){qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BR=new zl(3e4,6e4);function ks(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ur(r,e,n,s,l={}){return kE(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const g=kl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},c);return db()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ka(r.emulatorConfig.host)&&(_.credentials="include"),ME.fetch()(await PE(r,r.config.apiHost,n,g),_)})}async function kE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},jR),e);try{const l=new HR(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _c(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw _c(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw _c(r,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Um(r,T,_);xn(r,T)}}catch(l){if(l instanceof Hi)throw l;xn(r,"network-request-failed",{message:String(l)})}}async function oh(r,e,n,s,l={}){const c=await Ur(r,e,n,s,l);return"mfaPendingCredential"in c&&xn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function PE(r,e,n,s){const l=`${e}${n}?${s}`,c=r,d=c.config.emulator?jm(r.config,l):`${r.config.apiScheme}://${l}`;return zR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function qR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),BR.get())})}}function _c(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=jn(r,e,s);return l.customData._tokenResponse=n,l}function Rv(r){return r!==void 0&&r.enterprise!==void 0}class FR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GR(r,e){return Ur(r,"GET","/v2/recaptchaConfig",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,e){return Ur(r,"POST","/v1/accounts:delete",e)}async function Bc(r,e){return Ur(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KR(r,e=!1){const n=an(r),s=await n.getIdToken(e),l=zm(s);ge(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:bl(Cd(l.auth_time)),issuedAtTime:bl(Cd(l.iat)),expirationTime:bl(Cd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cd(r){return Number(r)*1e3}function zm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Yv(n);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Iv(r){const e=zm(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hi&&YR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){var e;const n=r.auth,s=await r.getIdToken(),l=await Ol(r,Bc(n,{idToken:s}));ge(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?UE(c.providerUserInfo):[],g=ZR(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),T=p?_:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new im(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function $R(r){const e=an(r);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZR(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function UE(r){return r.map(e=>{var{providerId:n}=e,s=Pm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(r,e){const n=await kE(r,{},async()=>{const s=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await PE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Ka(r.emulatorConfig.host)&&(p.credentials="include"),ME.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(r,e){return Ur(r,"POST","/v2/accounts:revokeToken",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=Iv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await JR(e,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Pa;return s&&(ge(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ge(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ge(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ln{constructor(e){var{uid:n,auth:s,stsTokenManager:l}=e,c=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new im(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ln(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await Ol(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,l,c,d,g,p,_,T;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,F=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,$=(d=n.photoURL)!==null&&d!==void 0?d:void 0,ie=(g=n.tenantId)!==null&&g!==void 0?g:void 0,W=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,_e=(_=n.createdAt)!==null&&_!==void 0?_:void 0,pe=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:oe,emailVerified:we,isAnonymous:me,providerData:Ae,stsTokenManager:I}=n;ge(oe&&I,e,"internal-error");const b=Pa.fromJSON(this.name,I);ge(typeof oe=="string",e,"internal-error"),vr(R,e.name),vr(D,e.name),ge(typeof we=="boolean",e,"internal-error"),ge(typeof me=="boolean",e,"internal-error"),vr(F,e.name),vr($,e.name),vr(ie,e.name),vr(W,e.name),vr(_e,e.name),vr(pe,e.name);const S=new Ln({uid:oe,auth:e,email:D,emailVerified:we,displayName:R,isAnonymous:me,photoURL:$,phoneNumber:F,tenantId:ie,stsTokenManager:b,createdAt:_e,lastLoginAt:pe});return Ae&&Array.isArray(Ae)&&(S.providerData=Ae.map(x=>Object.assign({},x))),W&&(S._redirectEventId=W),S}static async _fromIdTokenResponse(e,n,s=!1){const l=new Pa;l.updateFromServerResponse(n);const c=new Ln({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await qc(c),c}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ge(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?UE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Pa;g.updateFromIdToken(s);const p=new Ln({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;function ji(r){qi(r instanceof Function,"Expected a class definition");let e=Cv.get(r);return e?(qi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Cv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LE.type="NONE";const Nv=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ua{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bc(this.auth,{idToken:e}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ua(ji(Nv),e,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ji(Nv);const d=wc(s,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const T=await _._get(d);if(T){let R;if(typeof T=="string"){const D=await Bc(e,{idToken:T}).catch(()=>{});if(!D)break;R=await Ln._fromGetAccountInfoResponse(e,D,T)}else R=Ln._fromJSON(e,T);_!==c&&(g=R),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ua(c,e,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ua(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FE(e))return"Blackberry";if(GE(e))return"Webos";if(zE(e))return"Safari";if((e.includes("chrome/")||BE(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jE(r=$t()){return/firefox\//i.test(r)}function zE(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BE(r=$t()){return/crios\//i.test(r)}function qE(r=$t()){return/iemobile/i.test(r)}function HE(r=$t()){return/android/i.test(r)}function FE(r=$t()){return/blackberry/i.test(r)}function GE(r=$t()){return/webos/i.test(r)}function Bm(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eI(r=$t()){var e;return Bm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tI(){return pb()&&document.documentMode===10}function QE(r=$t()){return Bm(r)||HE(r)||GE(r)||FE(r)||/windows phone/i.test(r)||qE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,e=[]){let n;switch(r){case"Browser":n=Dv($t());break;case"Worker":n=`${Dv($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e={}){return Ur(r,"GET","/v2/passwordPolicy",ks(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=6;class sI{constructor(e){var n,s,l,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:rI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xv(this),this.idTokenSubscription=new xv(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bc(this,{idToken:e}),s=await Ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Nr(this));const n=e?an(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iI(this),n=new sI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ml("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await WR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ji(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ps(r){return an(r)}class xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sb(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(r){lh=r}function YE(r){return lh.loadJS(r)}function lI(){return lh.recaptchaEnterpriseScript}function uI(){return lh.gapiScript}function cI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dI="recaptcha-enterprise",XE="NO_RECAPTCHA";class mI{constructor(e){this.type=dI,this.auth=Ps(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{GR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new FR(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;Rv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(XE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!n&&Rv(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lI();p.length!==0&&(p+=g),YE(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function Ov(r,e,n,s=!1,l=!1){const c=new mI(r);let d;if(l)d=XE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Vv(r,e,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Ov(r,e,n,n==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Ov(r,e,n,n==="getOobCode");return s(r,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r,e){const n=lm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ns(c,e??{}))return l;xn(l,"already-initialized")}return n.initialize({options:e})}function pI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ji);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yI(r,e,n){const s=Ps(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=$E(e),{host:d,port:g}=_I(e),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Ns(_,s.config.emulator)&&Ns(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ka(d)?(Jv(`${c}//${d}${p}`),Wv("Auth",!0)):vI()}function $E(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _I(r){const e=$E(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Mv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Mv(d)}}}function Mv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,n){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}async function EI(r,e){return Ur(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){return oh(r,"POST","/v1/accounts:signInWithPassword",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,e){return oh(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,e))}async function bI(r,e){return oh(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends qm{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Vl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,n,"signInWithPassword",TI);case"emailLink":return AI(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,s,"signUpPassword",EI);case"emailLink":return bI(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(r,e){return oh(r,"POST","/v1/accounts:signInWithIdp",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="http://localhost";class Os extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l}=n,c=Pm(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Os(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,La(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:SI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RI(r){const e=fl(dl(r)).link,n=e?fl(dl(e)).deep_link_id:null,s=fl(dl(r)).deep_link_id;return(s?fl(dl(s)).link:null)||s||n||e||r}class Hm{constructor(e){var n,s,l,c,d,g;const p=fl(dl(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,R=wI((l=p.mode)!==null&&l!==void 0?l:null);ge(_&&T&&R,"argument-error"),this.apiKey=_,this.operation=R,this.code=T,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=RI(e);try{return new Hm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Hm.parseLink(n);return ge(s,"argument-error"),Vl._fromEmailAndCode(e,s.code,s.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Fm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Bl{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Bl{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Bl{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const c=await Ln._fromIdTokenResponse(e,s,l),d=kv(s);return new Qa({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=kv(s);return new Qa({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function kv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Hi{constructor(e,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Hc(e,n,s,l)}}function ZE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,e,s):c})}async function II(r,e,n=!1){const s=await Ol(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Qa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,e,n=!1){const{auth:s}=r;if(Nn(s.app))return Promise.reject(Nr(s));const l="reauthenticate";try{const c=await Ol(r,ZE(s,l,e,r),n);ge(c.idToken,s,"internal-error");const d=zm(c.idToken);ge(d,s,"internal-error");const{sub:g}=d;return ge(r.uid===g,s,"user-mismatch"),Qa._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&xn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(r,e,n=!1){if(Nn(r.app))return Promise.reject(Nr(r));const s="signIn",l=await ZE(r,s,e),c=await Qa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function NI(r,e){return JE(Ps(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r){const e=Ps(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xI(r,e,n){return Nn(r.app)?Promise.reject(Nr(r)):NI(an(r),eo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DI(r),s})}function OI(r,e,n,s){return an(r).onIdTokenChanged(e,n,s)}function VI(r,e,n){return an(r).beforeAuthStateChanged(e,n)}function WE(r,e,n,s){return an(r).onAuthStateChanged(e,n,s)}function MI(r){return an(r).signOut()}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1e3,PI=10;class tT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);tI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,PI):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tT.type="LOCAL";const UI=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nT.type="SESSION";const iT=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new uh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await LI(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=Gm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(R){const D=R;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function zI(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function BI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function HI(){return rT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebaseLocalStorageDb",FI=1,Gc="firebaseLocalStorage",aT="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(r,e){return r.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function GI(){const r=indexedDB.deleteDatabase(sT);return new ql(r).toPromise()}function rm(){const r=indexedDB.open(sT,FI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gc,{keyPath:aT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gc)?e(s):(s.close(),await GI(),e(await rm()))})})}async function Pv(r,e,n){const s=ch(r,!0).put({[aT]:e,value:n});return new ql(s).toPromise()}async function QI(r,e){const n=ch(r,!1).get(e),s=await new ql(n).toPromise();return s===void 0?null:s.value}function Uv(r,e){const n=ch(r,!0).delete(e);return new ql(n).toPromise()}const KI=800,YI=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>YI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(HI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new jI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await Pv(e,Fc,"1"),await Uv(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Pv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new ql(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const XI=oT;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r,e){return e?ji(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $I(r){return JE(r.auth,new Qm(r),r.bypassAuthState)}function ZI(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),CI(n,new Qm(r),r.bypassAuthState)}async function JI(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),II(n,new Qm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $I;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:xn(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new zl(2e3,1e4);async function e2(r,e,n){if(Nn(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=Ps(r);kR(r,e,Fm);const l=lT(s,n);return new Ss(s,"signInViaPopup",e,l).executeNotNull()}class Ss extends uT{constructor(e,n,s,l,c){super(e,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WI.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="pendingRedirect",Rc=new Map;class n2 extends uT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const s=await i2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i2(r,e){const n=a2(e),s=s2(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function r2(r,e){Rc.set(r._key(),e)}function s2(r){return ji(r._redirectPersistence)}function a2(r){return wc(t2,r.config.apiKey,r.name)}async function o2(r,e,n=!1){if(Nn(r.app))return Promise.reject(Nr(r));const s=Ps(r),l=lT(s,e),d=await new n2(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=10*60*1e3;class u2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cT(e)){const l=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(r,e={}){return Ur(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d2=/^https?/;async function m2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await h2(r);for(const n of e)try{if(g2(n))return}catch{}xn(r,"unauthorized-domain")}function g2(r){const e=nm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!d2.test(n))return!1;if(f2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new zl(3e4,6e4);function jv(){const r=ui().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function y2(r){return new Promise((e,n)=>{var s,l,c;function d(){jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(jn(r,"network-request-failed"))},timeout:p2.get()})}if(!((l=(s=ui().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=ui().gapi)===null||c===void 0)&&c.load)d();else{const g=cI("iframefcb");return ui()[g]=()=>{gapi.load?d():n(jn(r,"network-request-failed"))},YE(`${uI()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function _2(r){return Ic=Ic||y2(r),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new zl(5e3,15e3),E2="__/auth/iframe",T2="emulator/auth/iframe",A2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S2(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?jm(e,T2):`https://${r.config.authDomain}/${E2}`,s={apiKey:e.apiKey,appName:r.name,v:Ya},l=b2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${kl(s).slice(1)}`}async function w2(r){const e=await _2(r),n=ui().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:S2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=jn(r,"network-request-failed"),g=ui().setTimeout(()=>{c(d)},v2.get());function p(){ui().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I2=500,C2=600,N2="_blank",D2="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x2(r,e,n,s=I2,l=C2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},R2),{width:s.toString(),height:l.toString(),top:c,left:d}),_=$t().toLowerCase();n&&(g=BE(_)?N2:n),jE(_)&&(e=e||D2,p.scrollbars="yes");const T=Object.entries(p).reduce((D,[F,$])=>`${D}${F}=${$},`,"");if(eI(_)&&g!=="_self")return O2(e||"",g),new zv(null);const R=window.open(e||"",g,T);ge(R,r,"popup-blocked");try{R.focus()}catch{}return new zv(R)}function O2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="__/auth/handler",M2="emulator/auth/handler",k2=encodeURIComponent("fac");async function Bv(r,e,n,s,l,c){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ya,eventId:l};if(e instanceof Fm){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",bb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))d[T]=R}if(e instanceof Bl){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${k2}=${encodeURIComponent(p)}`:"";return`${P2(r)}?${kl(g).slice(1)}${_}`}function P2({config:r}){return r.emulator?jm(r,M2):`https://${r.authDomain}/${V2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class U2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=o2,this._overrideRedirectResult=r2}async _openPopup(e,n,s,l){var c;qi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Bv(e,n,s,nm(),l);return x2(e,d,Gm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const c=await Bv(e,n,s,nm(),l);return zI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(qi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await w2(e),s=new u2(e);return n.register("authEvent",l=>(ge(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nd,{type:Nd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Nd];d!==void 0&&n(!!d),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||zE()||Bm()}}const L2=U2;var qv="@firebase/auth",Hv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B2(r){ja(new Ds("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;ge(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(r)},_=new aI(s,l,c,p);return pI(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ja(new Ds("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(s=>new j2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(qv,Hv,z2(r)),Ir(qv,Hv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=5*60,H2=Zv("authIdTokenMaxAge")||q2;let Fv=null;const F2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>H2)return;const l=n==null?void 0:n.token;Fv!==l&&(Fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function G2(r=i0()){const e=lm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gI(r,{popupRedirectResolver:L2,persistence:[XI,UI,iT]}),s=Zv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=F2(c.toString());VI(n,d,()=>d(n.currentUser)),OI(n,g=>d(g))}}const l=Xv("auth");return l&&yI(n,`http://${l}`),n}function Q2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}oI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=jn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Q2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B2("Browser");const K2={apiKey:"AIzaSyBWmkv8YDOAtSqrehqEkO1vWNbBvmhs65A",authDomain:"booking-app-1af02.firebaseapp.com",projectId:"booking-app-1af02",storageBucket:"booking-app-1af02.firebasestorage.app",messagingSenderId:"909871533345",appId:"1:909871533345:web:939fa5b6c8203ad4308260"},hT=n0(K2),fT=gR(hT),Sl=G2(hT),dT=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),mT=r=>r?new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"",gT=r=>{if(!r)return"";const[e,n]=r.split(":"),s=parseInt(e),l=s>=12?"PM":"AM";return`${s>12?s-12:s===0?12:s}:${n.padStart(2,"0")} ${l}`},As=[{id:1,name:"Pioneer CDJ-3000",type:"CDJ Player",icon:"⏯️",category:"player"},{id:2,name:"Technics SL-1200 mk7",type:"Turntable",icon:"💿",category:"player"},{id:3,name:"Denon SC5000",type:"Media Player",icon:"⏯️",category:"player"},{id:4,name:"DJM A9",type:"DJ Mixer",icon:"🎚️",category:"mixer"},{id:5,name:"DJM V10",type:"DJ Mixer",icon:"🎚️",category:"mixer"},{id:6,name:"Denon X1800",type:"DJ Mixer",icon:"🎚️",category:"mixer"},{id:7,name:"XOne 96",type:"DJ Mixer",icon:"🎚️",category:"mixer"},{id:8,name:"RMX 1000",type:"Effect",icon:"🎛️",category:"extra"},{id:9,name:"DJS 1000",type:"Sampler",icon:"🎵",category:"extra"}],Dd=({equipment:r,isSelected:e,onToggle:n})=>O.jsx("div",{onClick:()=>n(r),className:`p-3 rounded-xl cursor-pointer border-2 transition-all ${e?"border-orange-500 bg-orange-900":"border-gray-700 bg-gray-700 hover:border-orange-400"}`,children:O.jsxs("div",{className:"flex items-center space-x-3",children:[O.jsx("div",{className:"text-2xl",children:r.icon}),O.jsxs("div",{children:[O.jsx("h4",{className:"font-semibold text-white",children:r.name}),O.jsx("p",{className:"text-sm text-gray-400",children:r.type})]}),e&&O.jsx("div",{className:"ml-auto w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-white",children:"✓"})]})}),Y2=({show:r,onClose:e,title:n,children:s})=>r?O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",onClick:e,children:O.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full text-white border border-gray-700",onClick:l=>l.stopPropagation(),children:[O.jsx("h2",{className:"text-2xl font-bold text-orange-400 mb-6 text-center",children:n}),s]})}):null,X2=({show:r,onClose:e,booking:n})=>n?O.jsxs(Y2,{show:r,onClose:e,title:"Booking Details",children:[O.jsxs("div",{className:"space-y-3 text-gray-300",children:[O.jsxs("p",{children:[O.jsx("strong",{children:"User Name:"})," ",n.userName]}),O.jsxs("p",{children:[O.jsx("strong",{children:"User ID:"})," ",n.userId]}),O.jsxs("p",{children:[O.jsx("strong",{children:"User Email:"})," ",n.userEmail]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Date:"})," ",mT(n.date)]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Time:"})," ",gT(n.time)]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Duration:"})," ",n.duration," hours"]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Total:"})," ",dT(n.total)]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Payment Status:"})," ",n.paymentStatus]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Booking ID:"})," ",n.id]}),n.calendarEventId&&O.jsxs("p",{children:[O.jsx("strong",{children:"Calendar Event ID:"})," ",n.calendarEventId]}),n.equipment&&n.equipment.length>0&&O.jsxs("div",{children:[O.jsx("strong",{children:"Equipment:"}),O.jsx("ul",{className:"list-disc list-inside ml-4",children:n.equipment.map((s,l)=>O.jsx("li",{children:s.name},l))})]})]}),O.jsx("div",{className:"mt-6 text-right",children:O.jsx("button",{onClick:e,className:"px-4 py-2 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition",children:"Close"})})]}):null,wl=2e5,$2=({onCreate:r,onCancel:e,currentUser:n,users:s})=>{const[l,c]=be.useState({userName:"",userId:"",date:"",time:"",duration:2,total:2*wl,paymentStatus:"pending",selectedEquipment:[]}),[d,g]=be.useState(!1),[p,_]=be.useState(""),[T,R]=be.useState(""),[D,F]=be.useState(null),$=be.useMemo(()=>As.filter(I=>I.category==="player"),[]),ie=be.useMemo(()=>As.filter(I=>I.category==="mixer"),[]),W=be.useMemo(()=>As.filter(I=>I.category==="extra"),[]),[_e,pe]=be.useState([]);be.useEffect(()=>{c(I=>({...I,total:parseInt(I.duration||0,10)*wl}))},[l.duration]);const oe=I=>{const{name:b,value:S}=I.target;c(x=>{let N={...x,[b]:S};return b==="duration"&&(N.total=parseInt(S||0,10)*wl),N})},we=I=>{const b=I.target.value;_(b);const S=s.find(x=>x.id===b);S&&c(x=>({...x,userName:S.displayName,userId:S.id}))},me=async I=>{I.preventDefault(),F(null);let b={};if(d){if(!p){F("Please select an existing user.");return}const S=s.find(x=>x.id===p);if(!S||!S.email){F("The selected user is missing an email address in their profile. Please update their profile data in Firestore.");return}b={bookingData:{date:l.date,time:l.time,duration:l.duration,total:l.total,paymentStatus:l.paymentStatus,equipment:l.selectedEquipment.map(x=>As.find(N=>N.id===x)).filter(Boolean)},userId:S.id,userName:S.displayName,userEmail:S.email}}else{if(!T){F("Email is required for new user creation.");return}try{const S=await n.getIdToken(),x=await fetch("https://back-end-bahe.onrender.com/api/admin/create-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({email:T,displayName:l.userName||T})});if(!x.ok){const je=await x.json();throw new Error(je.message||"Failed to create new user")}const{uid:N,email:V,displayName:w}=await x.json();b={bookingData:{date:l.date,time:l.time,duration:l.duration,total:l.total,paymentStatus:l.paymentStatus,equipment:l.selectedEquipment.map(je=>As.find(ze=>ze.id===je)).filter(Boolean)},userId:N,userName:w,userEmail:V}}catch(S){F(`Failed to create new user: ${S.message}`);return}}r(b)},Ae=be.useCallback(I=>{pe(b=>b.some(S=>S.id===I.id)?b.filter(S=>S.id!==I.id):[...b,I])},[]);return O.jsxs("form",{onSubmit:me,className:"bg-gray-700 p-6 rounded-xl shadow-inner space-y-4",children:[O.jsx("h2",{className:"text-2xl font-bold text-orange-300 mb-4",children:"Create New Booking"}),D&&O.jsx("p",{className:"text-red-500 text-center mb-4",children:D}),O.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[O.jsxs("label",{className:"flex items-center",children:[O.jsx("input",{type:"radio",name:"userType",checked:!d,onChange:()=>g(!1),className:"form-radio h-4 w-4 text-orange-600"}),O.jsx("span",{className:"ml-2 text-gray-300",children:"New User"})]}),O.jsxs("label",{className:"flex items-center",children:[O.jsx("input",{type:"radio",name:"userType",checked:d,onChange:()=>g(!0),className:"form-radio h-4 w-4 text-orange-600"}),O.jsx("span",{className:"ml-2 text-gray-300",children:"Existing User"})]})]}),d?O.jsxs("div",{children:[O.jsx("label",{htmlFor:"existing-user",className:"block text-sm font-medium text-gray-300 mb-1",children:"Select User"}),O.jsxs("select",{id:"existing-user",value:p,onChange:we,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500",children:[O.jsx("option",{value:"",disabled:!0,children:"-- Select a user --"}),s.map(I=>O.jsxs("option",{value:I.id,children:[I.displayName||I.email," (",I.id,")"]},I.id))]})]}):O.jsxs(O.Fragment,{children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"create-userName",className:"block text-sm font-medium text-gray-300 mb-1",children:"User Name"}),O.jsx("input",{type:"text",id:"create-userName",name:"userName",placeholder:"User Name",value:l.userName,onChange:oe,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"new-user-email",className:"block text-sm font-medium text-gray-300 mb-1",children:"New User Email"}),O.jsx("input",{type:"email",id:"new-user-email",name:"newUserEmail",placeholder:"user@example.com",value:T,onChange:I=>R(I.target.value),required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"create-date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Date"}),O.jsx("input",{type:"date",id:"create-date",name:"date",value:l.date,onChange:oe,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"create-time",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time"}),O.jsx("input",{type:"time",id:"create-time",name:"time",value:l.time,onChange:oe,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"create-duration",className:"block text-sm font-medium text-gray-300 mb-1",children:"Duration (hours)"}),O.jsx("input",{type:"number",id:"create-duration",name:"duration",value:l.duration,onChange:oe,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"create-total",className:"block text-sm font-medium text-gray-300 mb-1",children:"Total (IDR)"}),O.jsx("input",{type:"number",id:"create-total",name:"total",value:l.total,readOnly:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-800 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"create-paymentStatus",className:"block text-sm font-medium text-gray-300 mb-1",children:"Payment Status"}),O.jsxs("select",{id:"create-paymentStatus",name:"paymentStatus",value:l.paymentStatus,onChange:oe,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500",children:[O.jsx("option",{value:"pending",children:"Pending"}),O.jsx("option",{value:"paid",children:"Paid"})]})]}),O.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-8 mb-6 border border-gray-700",children:[O.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:"🎛️ Select Equipment"}),O.jsxs("div",{className:"space-y-3 mb-6",children:[" ",O.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"Players"}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[" ",$.map(I=>O.jsx(Dd,{equipment:I,isSelected:_e.some(b=>b.id===I.id),onToggle:Ae},I.id))]}),O.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2 mt-4",children:"Mixers"}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[" ",ie.map(I=>O.jsx(Dd,{equipment:I,isSelected:_e.some(b=>b.id===I.id),onToggle:Ae},I.id))]}),O.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2 mt-4",children:"Extra"}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[" ",W.map(I=>O.jsx(Dd,{equipment:I,isSelected:_e.some(b=>b.id===I.id),onToggle:Ae},I.id))]})]})]}),O.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[O.jsx("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition shadow-lg",children:"Create Booking"}),O.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-700 transition shadow-lg",children:"Cancel"})]})]})},Z2=({booking:r,onUpdate:e,onCancel:n})=>{const[s,l]=be.useState({...r,selectedEquipment:r.equipment?r.equipment.map(g=>g.id):[],userEmail:r.userEmail||""});be.useEffect(()=>{l(g=>({...g,total:parseInt(g.duration||0,10)*wl}))},[s.duration]);const c=g=>{const{name:p,value:_}=g.target;l(T=>{let R={...T,[p]:_};return p==="duration"&&(R.total=parseInt(_||0,10)*wl),R})},d=g=>{g.preventDefault(),e(s.id,s)};return O.jsxs("form",{onSubmit:d,className:"bg-gray-700 p-6 rounded-xl shadow-inner space-y-4",children:[O.jsx("h2",{className:"text-2xl font-bold text-orange-300 mb-4",children:"Edit Booking"}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-userName",className:"block text-sm font-medium text-gray-300 mb-1",children:"User Name"}),O.jsx("input",{type:"text",id:"edit-userName",name:"userName",value:s.userName,onChange:c,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-userId",className:"block text-sm font-medium text-gray-300 mb-1",children:"User ID"}),O.jsx("input",{type:"text",id:"edit-userId",name:"userId",value:s.userId,onChange:c,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-userEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:"User Email"}),O.jsx("input",{type:"email",id:"edit-userEmail",name:"userEmail",value:s.userEmail,onChange:c,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Date"}),O.jsx("input",{type:"date",id:"edit-date",name:"date",value:s.date,onChange:c,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-time",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time"}),O.jsx("input",{type:"time",id:"edit-time",name:"time",value:s.time,onChange:c,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-duration",className:"block text-sm font-medium text-gray-300 mb-1",children:"Duration (hours)"}),O.jsx("input",{type:"number",id:"edit-duration",name:"duration",value:s.duration,onChange:c,required:!0,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-total",className:"block text-sm font-medium text-gray-300 mb-1",children:"Total (IDR)"}),O.jsx("input",{type:"number",id:"edit-total",name:"total",value:s.total,onChange:c,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"edit-paymentStatus",className:"block text-sm font-medium text-gray-300 mb-1",children:"Payment Status"}),O.jsxs("select",{id:"edit-paymentStatus",name:"paymentStatus",value:s.paymentStatus,onChange:c,className:"w-full p-3 border border-gray-600 rounded-xl bg-gray-900 text-white focus:ring focus:ring-orange-500",children:[O.jsx("option",{value:"pending",children:"Pending"}),O.jsx("option",{value:"paid",children:"Paid"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Equipment"}),O.jsx("div",{className:"grid grid-cols-2 gap-2",children:As.map(g=>O.jsxs("label",{className:"flex items-center text-gray-300",children:[O.jsx("input",{type:"checkbox",value:g.id,checked:s.selectedEquipment.includes(g.id),onChange:p=>{const{value:_,checked:T}=p.target;l(R=>{const D=T?[...R.selectedEquipment,parseInt(_)]:R.selectedEquipment.filter(F=>F!==parseInt(_));return{...R,selectedEquipment:D}})},className:"form-checkbox h-4 w-4 text-orange-600"}),O.jsx("span",{className:"ml-2",children:g.name})]},g.id))})]}),O.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[O.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition shadow-lg",children:"Update Booking"}),O.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 bg-gray-600 text-white rounded-xl font-semibold hover:bg-gray-700 transition shadow-lg",children:"Cancel"})]})]})},J2=({app:r,isAdmin:e,currentUser:n})=>{const s=(r==null?void 0:r.id)||"booking-app-1af02";console.log("AdminPage: Using appIdFromCanvas:",s);const[l,c]=be.useState([]),[d,g]=be.useState(!0),[p,_]=be.useState(null),[T,R]=be.useState(null),[D,F]=be.useState(!1),[$,ie]=be.useState([]),[W,_e]=be.useState(!1),[pe,oe]=be.useState(null),we=be.useCallback(N=>{oe(N),_e(!0)},[]),me=be.useCallback(()=>{_e(!1),oe(null)},[]),Ae=be.useCallback(async()=>{if(!n){_("Authentication error. Cannot load user list.");return}try{const N=await n.getIdToken(),V=await fetch("https://back-end-bahe.onrender.com/api/admin/users",{headers:{Authorization:`Bearer ${N}`}});if(!V.ok){const je=await V.json();throw new Error(je.message||"Failed to fetch users")}const w=await V.json();ie(w)}catch(N){console.error("Error fetching users:",N),_(`Could not load user list: ${N.message}`)}},[n]);be.useEffect(()=>{Ae()},[Ae]);const I=be.useCallback(()=>{if(!e||!n)return g(!1),c([]),()=>{};g(!0),_(null);const N=CR(dR(fT,"bookings"));return OR(N,w=>{const ze=w.docs.map(H=>({id:H.id,...H.data()})).map(H=>{const te=$.find(le=>le.id===H.userId);return{...H,userEmail:te?te.email:"N/A"}});c(ze),g(!1)},w=>{console.error("AdminPage: Error fetching real-time bookings:",w),_(w.message),g(!1)})},[e,n,$]);be.useEffect(()=>{console.log("AdminPage useEffect: Setting up real-time bookings listener.");const N=I();return()=>{console.log("AdminPage useEffect: Cleaning up real-time bookings listener."),N()}},[I]);const b=be.useCallback(async N=>{console.log("handleCreateBooking: Attempting to create booking with data:",N);try{const V=await n.getIdToken();console.log("Sending new booking data to backend:",N);const w=await fetch("https://back-end-bahe.onrender.com/api/admin/bookings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify(N)});if(!w.ok){const ze=await w.json();throw new Error(ze.message||"Failed to create booking")}const je=await w.json();console.log("handleCreateBooking: Booking created successfully:",je),F(!1),_(null),I()}catch(V){console.error("handleCreateBooking: Error creating booking:",V),_(`Failed to create booking: ${V.message}`)}},[n,I]),S=be.useCallback(async(N,V)=>{console.log("handleUpdateBooking: Attempting to update booking ID:",N,"with data:",V);try{const w=await n.getIdToken(),je=await fetch("https://back-end-bahe.onrender.com/api/admin/confirm-booking",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({bookingData:{date:V.date,time:V.time,duration:V.duration,total:V.total,paymentStatus:V.paymentStatus,equipment:V.selectedEquipment.map(H=>As.find(te=>te.id===H)).filter(Boolean)},editingBookingId:N,userId:V.userId,userName:V.userName,userEmail:V.userEmail,calendarEventId:V.calendarEventId})});if(!je.ok){const H=await je.json();throw new Error(H.message||"Failed to update booking")}const ze=await je.json();console.log("handleUpdateBooking: Booking updated successfully:",ze),R(null),_(null),I()}catch(w){console.error("handleUpdateBooking: Error updating booking:",w),_(`Failed to update booking: ${w.message}`)}},[n,I]),x=be.useCallback(async N=>{console.log("handleDeleteBooking: Attempting to delete booking:",N);try{const V=await n.getIdToken(),w=await fetch("https://back-end-bahe.onrender.com/api/admin/cancel-booking",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({bookingId:N.id,userId:N.userId,calendarEventId:N.calendarEventId})});if(!w.ok){const ze=await w.json();throw new Error(ze.message||"Failed to delete booking")}const je=await w.json();console.log("handleDeleteBooking: Booking deleted successfully:",je),_(null),I()}catch(V){console.error("handleDeleteBooking: Error deleting booking:",V),_(`Failed to delete booking: ${V.message}`)}},[n,I]);return d?O.jsx("div",{className:"text-center text-orange-200 text-xl mt-8",children:"Loading Admin Dashboard..."}):p?O.jsxs("div",{className:"text-center text-red-500 text-xl mt-8",children:["Error: ",p]}):O.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[O.jsxs("div",{className:"max-w-7xl mx-auto",children:[O.jsx("h1",{className:"text-4xl font-bold text-orange-400 mb-8 text-center",children:"Admin Dashboard"}),O.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-6 mb-8 border border-gray-700",children:[D&&O.jsx($2,{onCreate:b,onCancel:()=>F(!1),currentUser:n,users:$}),T&&O.jsx(Z2,{booking:T,onUpdate:S,onCancel:()=>R(null)}),!D&&!T&&e&&O.jsx("div",{className:"flex flex-col space-y-4",children:O.jsx("button",{onClick:()=>F(!0),className:"w-full py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition shadow-lg",children:"+ Add New Booking"})})]}),O.jsxs("div",{className:"bg-gray-800 shadow-2xl rounded-2xl p-6 border border-gray-700",children:[O.jsx("h2",{className:"text-2xl font-semibold text-orange-300 mb-6",children:"All Bookings"}),l.length===0?O.jsx("p",{className:"text-gray-400 text-center",children:"No bookings found."}):O.jsx("div",{className:"overflow-x-auto",children:O.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[O.jsx("thead",{className:"bg-gray-700",children:O.jsxs("tr",{children:[O.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"User"}),O.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Date"}),O.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Time"}),O.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Duration"}),O.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Total"}),O.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Payment"}),O.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),O.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:l.map(N=>O.jsxs("tr",{onClick:()=>we(N),className:"cursor-pointer hover:bg-gray-700 transition-colors duration-200",children:[O.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-100",children:[N.userName||"N/A"," (",N.userId||"N/A",")"]}),O.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:mT(N.date)}),O.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:gT(N.time)}),O.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:[N.duration," hrs"]}),O.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-400",children:dT(N.total)}),O.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:O.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N.paymentStatus==="paid"?"bg-green-700 text-green-100":"bg-yellow-700 text-yellow-100"}`,children:N.paymentStatus})}),O.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e&&O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:V=>{V.stopPropagation(),R(N)},className:"text-indigo-400 hover:text-indigo-600 mr-4",children:"Edit"}),O.jsx("button",{onClick:V=>{V.stopPropagation(),x(N)},className:"text-red-400 hover:text-red-600",children:"Delete"})]})})]},N.id))})]})})]})]}),O.jsx(X2,{show:W,onClose:me,booking:pe})]})},W2=({onLoginSuccess:r})=>{const[e,n]=be.useState(""),[s,l]=be.useState(""),[c,d]=be.useState(null),[g,p]=be.useState(!1);be.useEffect(()=>{const R=WE(Sl,D=>{D&&r(D)});return()=>R()},[r]);const _=async R=>{R.preventDefault(),p(!0),d(null);try{await xI(Sl,e,s)}catch(D){d(D.message),console.error("Email login error:",D)}finally{p(!1)}},T=async()=>{p(!0),d(null);try{const R=new Ui;await e2(Sl,R)}catch(R){d(R.message),console.error("Google login error:",R)}finally{p(!1)}};return O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:O.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-md border border-gray-700",children:[O.jsx("h2",{className:"text-3xl font-bold text-orange-400 mb-6 text-center",children:"Admin Login"}),c&&O.jsx("p",{className:"text-red-500 text-center mb-4",children:c}),O.jsxs("form",{onSubmit:_,className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),O.jsx("input",{type:"email",id:"email",className:"w-full p-3 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring focus:ring-orange-500",placeholder:"admin@example.com",value:e,onChange:R=>n(R.target.value),required:!0})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),O.jsx("input",{type:"password",id:"password",className:"w-full p-3 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring focus:ring-orange-500",placeholder:"********",value:s,onChange:R=>l(R.target.value),required:!0})]}),O.jsx("button",{type:"submit",className:"w-full py-3 bg-orange-600 text-white rounded-md font-semibold hover:bg-orange-700 transition duration-200",disabled:g,children:g?"Logging in...":"Login with Email"})]}),O.jsxs("div",{className:"relative my-6",children:[O.jsx("div",{className:"absolute inset-0 flex items-center",children:O.jsx("div",{className:"w-full border-t border-gray-700"})}),O.jsx("div",{className:"relative flex justify-center text-sm",children:O.jsx("span",{className:"px-2 bg-gray-800 text-gray-400",children:"OR"})})]}),O.jsxs("button",{onClick:T,className:"w-full py-3 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700 transition duration-200 flex items-center justify-center space-x-2",disabled:g,children:[O.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:[O.jsx("path",{d:"M12.0003 4.75C14.0003 4.75 15.7233 5.458 17.0353 6.728L20.0533 3.71C18.0003 1.778 15.2323 0.75 12.0003 0.75C7.90032 0.75 4.27132 3.001 2.38632 6.438L5.96332 9.298C6.85032 7.007 9.24932 5.458 12.0003 5.458V4.75Z",fill:"#EA4335"}),O.jsx("path",{d:"M23.25 12.0003C23.25 11.2013 23.181 10.4303 23.041 9.68832H12.0003V14.3113H18.4803C18.1833 15.8253 17.2493 17.1293 15.9013 18.0183L19.4783 20.8783C21.5003 19.0183 22.7503 16.3003 22.7503 12.0003H23.25Z",fill:"#4285F4"}),O.jsx("path",{d:"M5.96332 14.7013C5.72532 14.0093 5.58132 13.2653 5.58132 12.0003C5.58132 10.7353 5.72532 9.99132 5.96332 9.29932L2.38632 6.43832C0.865323 9.29932 0.000323303 10.9833 0.000323303 12.0003C0.000323303 13.0173 0.865323 14.7013 2.38632 17.5623L5.96332 14.7013Z",fill:"#FBBC05"}),O.jsx("path",{d:"M12.0003 23.25C15.2323 23.25 18.0003 22.222 20.0533 20.29L17.0353 17.272C15.7233 18.542 14.0003 19.25 12.0003 19.25C9.24932 19.25 6.85032 17.699 5.96332 15.408L2.38632 18.268C4.27132 21.705 7.90032 23.956 12.0003 23.956V23.25Z",fill:"#34A853"})]}),O.jsx("span",{children:"Login with Google"})]})]})})};function eC(){const[r,e]=be.useState(null),[n,s]=be.useState(!0),[l,c]=be.useState(!1),[d,g]=be.useState(!1),[p,_]=be.useState(null);be.useEffect(()=>{console.log("App.jsx: useEffect - onAuthStateChanged listener setup");const R=WE(Sl,async D=>{if(console.log("App.jsx: onAuthStateChanged - currentUser:",D),e(D),D)try{const F=await D.getIdToken();console.log("App.jsx: User ID Token obtained.");const ie=`artifacts/booking-app-1af02/users/${D.uid}/profiles/userProfile`;console.log("App.jsx: Checking admin role at path:",ie);const W=mR(fT,ie),_e=await xR(W);_e.exists()&&_e.data().role==="admin"?(c(!0),_(null),console.log("App.jsx: User is admin.")):(c(!1),_("Access Denied: You do not have administrator privileges."),console.log("App.jsx: User is NOT admin."))}catch(F){console.error("App.jsx: Error during auth state change or role check:",F),c(!1),_("Error checking permissions.")}finally{g(!0),s(!1),console.log("App.jsx: Auth check complete. Loading: false")}else console.log("App.jsx: No user logged in."),c(!1),_(null),g(!0),s(!1)});return()=>{console.log("App.jsx: Cleaning up onAuthStateChanged listener."),R()}},[]);const T=async()=>{try{console.log("App.jsx: Logging out..."),await MI(Sl),e(null),c(!1),_(null),g(!1),s(!0)}catch(R){console.error("App.jsx: Error logging out:",R)}};return console.log(`App.jsx: Render - user: ${r==null?void 0:r.uid}, loading: ${n}, isAdmin: ${l}, authCheckComplete: ${d}`),n||!d?O.jsx("div",{className:"text-center text-orange-200 text-xl mt-8",children:"Checking Admin Permissions..."}):r?r&&!l?O.jsx("div",{className:"App",children:O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:O.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-md border border-gray-700 text-center",children:[O.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"Access Denied"}),O.jsx("p",{className:"text-gray-300 mb-6",children:p||"You are not authorized to view this page."}),O.jsx("button",{onClick:T,className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition",children:"Go to Login"})]})})}):r&&l?O.jsxs("div",{className:"App",children:[O.jsx("button",{onClick:T,className:"absolute top-4 right-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Logout"}),O.jsx(J2,{app:{id:"booking-app-1af02"},isAdmin:l,currentUser:r})]}):null:O.jsx("div",{className:"App",children:O.jsx(W2,{onLoginSuccess:e})})}ZA.createRoot(document.getElementById("root")).render(O.jsx(HA.StrictMode,{children:O.jsx(eC,{})}));
